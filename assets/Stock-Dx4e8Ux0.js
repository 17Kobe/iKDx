import{d as J,t as H,m as ne,n as ie,c as Q,r as S,a as xe,u as at,b as T,w as N,e as ot,o as Z,f as Ve,g as st,h as Ne,i as it,j as ke,k as m,l as ee,p as Ie,q as G,s as Fe,v as ae,x as oe,y as se,z as Y,A as ct,B as rt,C as Te,D as Be,E as lt,F as ut,G as dt,H as He,T as ft,I as Xe,J as ve,K as vt,L as ht,M as gt,N as mt,O as $e,P as pt,Q as yt,R as Ye,S as wt,U as bt,V as K,W as z,X as b,Y as L,Z as j,_ as xt,$ as he,a0 as ge,a1 as kt,a2 as E,a3 as St,a4 as _t,a5 as U,a6 as Ee}from"./index-BS8sghcK.js";import{u as Se,a as _e,s as Ct,p as Pt,P as Dt,b as It,S as Tt,B as Me,c as le}from"./index-CcZQTllM.js";function Ae(e,t){return e.reduce((a,i)=>Math.abs(a-t)<Math.abs(i-t)?a:i)}const[qe,te]=Q("swipe"),Bt={loop:H,width:ie,height:ie,vertical:Boolean,autoplay:ne(0),duration:ne(500),touchable:H,lazyRender:Boolean,initialSwipe:ne(0),indicatorColor:String,showIndicators:H,stopPropagation:H},Ue=Symbol(qe);var $t=J({name:qe,props:Bt,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:a}){const i=S(),r=S(),n=xe({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let d=!1;const v=Se(),{children:u,linkChildren:h}=at(Ue),c=T(()=>u.length),w=T(()=>n[e.vertical?"height":"width"]),l=T(()=>e.vertical?v.deltaY.value:v.deltaX.value),s=T(()=>n.rect?(e.vertical?n.rect.height:n.rect.width)-w.value*c.value:0),p=T(()=>w.value?Math.ceil(Math.abs(s.value)/w.value):c.value),y=T(()=>c.value*w.value),D=T(()=>(n.active+c.value)%c.value),R=T(()=>{const f=e.vertical?"vertical":"horizontal";return v.direction.value===f}),V=T(()=>{const f={transitionDuration:`${n.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+n.offset.toFixed(2)}px)`};if(w.value){const P=e.vertical?"height":"width",C=e.vertical?"width":"height";f[P]=`${y.value}px`,f[C]=e[C]?`${e[C]}px`:""}return f}),x=f=>{const{active:P}=n;return f?e.loop?ae(P+f,-1,c.value):ae(P+f,0,p.value):P},_=(f,P=0)=>{let C=f*w.value;e.loop||(C=Math.min(C,-s.value));let A=P-C;return e.loop||(A=ae(A,s.value,0)),A},o=({pace:f=0,offset:P=0,emitChange:C})=>{if(c.value<=1)return;const{active:A}=n,$=x(f),q=_($,P);if(e.loop){if(u[0]&&q!==s.value){const re=q<s.value;u[0].setOffset(re?y.value:0)}if(u[c.value-1]&&q!==0){const re=q>0;u[c.value-1].setOffset(re?-y.value:0)}}n.active=$,n.offset=q,C&&$!==A&&t("change",D.value)},I=()=>{n.swiping=!0,n.active<=-1?o({pace:c.value}):n.active>=c.value&&o({pace:-c.value})},k=()=>{I(),v.reset(),ee(()=>{n.swiping=!1,o({pace:-1,emitChange:!0})})},g=()=>{I(),v.reset(),ee(()=>{n.swiping=!1,o({pace:1,emitChange:!0})})};let B;const M=()=>clearTimeout(B),F=()=>{M(),+e.autoplay>0&&c.value>1&&(B=setTimeout(()=>{g(),F()},+e.autoplay))},W=(f=+e.initialSwipe)=>{if(!i.value)return;const P=()=>{var C,A;if(!Ie(i)){const $={width:i.value.offsetWidth,height:i.value.offsetHeight};n.rect=$,n.width=+((C=e.width)!=null?C:$.width),n.height=+((A=e.height)!=null?A:$.height)}c.value&&(f=Math.min(c.value-1,f),f===-1&&(f=c.value-1)),n.active=f,n.swiping=!0,n.offset=_(f),u.forEach($=>{$.setOffset(0)}),F()};Ie(i)?G().then(P):P()},Ce=()=>W(n.active);let Pe;const Qe=f=>{!e.touchable||f.touches.length>1||(v.start(f),d=!1,Pe=Date.now(),M(),I())},Ze=f=>{e.touchable&&n.swiping&&(v.move(f),R.value&&(!e.loop&&(n.active===0&&l.value>0||n.active===c.value-1&&l.value<0)||(Fe(f,e.stopPropagation),o({offset:l.value}),d||(t("dragStart",{index:D.value}),d=!0))))},De=()=>{if(!e.touchable||!n.swiping)return;const f=Date.now()-Pe,P=l.value/f;if((Math.abs(P)>.25||Math.abs(l.value)>w.value/2)&&R.value){const A=e.vertical?v.offsetY.value:v.offsetX.value;let $=0;e.loop?$=A>0?l.value>0?-1:1:0:$=-Math[l.value>0?"ceil":"floor"](l.value/w.value),o({pace:$,emitChange:!0})}else l.value&&o({pace:0});d=!1,n.swiping=!1,t("dragEnd",{index:D.value}),F()},et=(f,P={})=>{I(),v.reset(),ee(()=>{let C;e.loop&&f===c.value?C=n.active===0?0:f:C=f%c.value,P.immediate?ee(()=>{n.swiping=!1}):n.swiping=!1,o({pace:C-n.active,emitChange:!0})})},tt=(f,P)=>{const C=P===D.value,A=C?{backgroundColor:e.indicatorColor}:void 0;return m("i",{style:A,class:te("indicator",{active:C})},null)},nt=()=>{if(a.indicator)return a.indicator({active:D.value,total:c.value});if(e.showIndicators&&c.value>1)return m("div",{class:te("indicators",{vertical:e.vertical})},[Array(c.value).fill("").map(tt)])};return _e({prev:k,next:g,state:n,resize:Ce,swipeTo:et}),h({size:w,props:e,count:c,activeIndicator:D}),N(()=>e.initialSwipe,f=>W(+f)),N(c,()=>W(n.active)),N(()=>e.autoplay,F),N([oe,se,()=>e.width,()=>e.height],Ce),N(ot(),f=>{f==="visible"?F():M()}),Z(W),Ve(()=>W(n.active)),st(()=>W(n.active)),Ne(M),it(M),ke("touchmove",Ze,{target:r}),()=>{var f;return m("div",{ref:i,class:te()},[m("div",{ref:r,style:V.value,class:te("track",{vertical:e.vertical}),onTouchstartPassive:Qe,onTouchend:De,onTouchcancel:De},[(f=a.default)==null?void 0:f.call(a)]),nt()])}}});const Et=Y($t),[Mt,At]=Q("swipe-item");var Ot=J({name:Mt,setup(e,{slots:t}){let a;const i=xe({offset:0,inited:!1,mounted:!1}),{parent:r,index:n}=ct(Ue);if(!r)return;const d=T(()=>{const h={},{vertical:c}=r.props;return r.size.value&&(h[c?"height":"width"]=`${r.size.value}px`),i.offset&&(h.transform=`translate${c?"Y":"X"}(${i.offset}px)`),h}),v=T(()=>{const{loop:h,lazyRender:c}=r.props;if(!c||a)return!0;if(!i.mounted)return!1;const w=r.activeIndicator.value,l=r.count.value-1,s=w===0&&h?l:w-1,p=w===l&&h?0:w+1;return a=n.value===w||n.value===s||n.value===p,a}),u=h=>{i.offset=h};return Z(()=>{G(()=>{i.mounted=!0})}),_e({setOffset:u}),()=>{var h;return m("div",{class:At(),style:d.value},[v.value?(h=t.default)==null?void 0:h.call(t):null])}}});const Oe=Y(Ot);Y(Ct);const Rt={gap:{type:[Number,Object],default:24},icon:String,axis:rt("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[zt,Re]=Q("floating-bubble");var Kt=J({name:zt,inheritAttrs:!1,props:Rt,emits:["click","update:offset","offsetChange"],setup(e,{slots:t,emit:a,attrs:i}){const r=S(),n=S({x:0,y:0,width:0,height:0}),d=T(()=>Te(e.gap)?e.gap.x:e.gap),v=T(()=>Te(e.gap)?e.gap.y:e.gap),u=T(()=>({top:v.value,right:oe.value-n.value.width-d.value,bottom:se.value-n.value.height-v.value,left:d.value})),h=S(!1);let c=!1;const w=T(()=>{const o={},I=Be(n.value.x),k=Be(n.value.y);return o.transform=`translate3d(${I}, ${k}, 0)`,(h.value||!c)&&(o.transition="none"),o}),l=()=>{if(!_.value)return;const{width:o,height:I}=Xe(r.value),{offset:k}=e;n.value={x:k?k.x:oe.value-o-d.value,y:k?k.y:se.value-I-v.value,width:o,height:I}},s=Se();let p=0,y=0;const D=o=>{s.start(o),h.value=!0,p=n.value.x,y=n.value.y};ke("touchmove",o=>{if(o.preventDefault(),s.move(o),e.axis!=="lock"&&!s.isTap.value){if(e.axis==="x"||e.axis==="xy"){let k=p+s.deltaX.value;k<u.value.left&&(k=u.value.left),k>u.value.right&&(k=u.value.right),n.value.x=k}if(e.axis==="y"||e.axis==="xy"){let k=y+s.deltaY.value;k<u.value.top&&(k=u.value.top),k>u.value.bottom&&(k=u.value.bottom),n.value.y=k}const I=ve(n.value,["x","y"]);a("update:offset",I)}},{target:r});const V=()=>{h.value=!1,G(()=>{if(e.magnetic==="x"){const o=Ae([u.value.left,u.value.right],n.value.x);n.value.x=o}if(e.magnetic==="y"){const o=Ae([u.value.top,u.value.bottom],n.value.y);n.value.y=o}if(!s.isTap.value){const o=ve(n.value,["x","y"]);a("update:offset",o),(p!==o.x||y!==o.y)&&a("offsetChange",o)}})},x=o=>{s.isTap.value?a("click",o):o.stopPropagation()};Z(()=>{l(),G(()=>{c=!0})}),N([oe,se,d,v,()=>e.offset],l,{deep:!0});const _=S(!0);return Ve(()=>{_.value=!0}),Ne(()=>{e.teleport&&(_.value=!1)}),()=>{const o=lt(m("div",He({class:Re(),ref:r,onTouchstartPassive:D,onTouchend:V,onTouchcancel:V,onClickCapture:x,style:w.value},i),[t.default?t.default():m(dt,{name:e.icon,class:Re("icon")},null)]),[[ut,_.value]]);return e.teleport?m(ft,{to:e.teleport},{default:()=>[o]}):o}}});const Lt=Y(Kt),Wt=e=>e?.includes("/"),jt=[...Pt,"round","closeOnPopstate","safeAreaInsetBottom"],Vt={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[Nt,O,Ft]=Q("share-sheet"),Ht=vt({},It,{title:String,round:H,options:ht(),cancelText:String,description:String,closeOnPopstate:H,safeAreaInsetBottom:H});var Xt=J({name:Nt,props:Ht,emits:["cancel","select","update:show"],setup(e,{emit:t,slots:a}){const i=l=>t("update:show",l),r=()=>{i(!1),t("cancel")},n=(l,s)=>t("select",l,s),d=()=>{const l=a.title?a.title():e.title,s=a.description?a.description():e.description;if(l||s)return m("div",{class:O("header")},[l&&m("h2",{class:O("title")},[l]),s&&m("span",{class:O("description")},[s])])},v=l=>Wt(l)?m("img",{src:l,class:O("image-icon")},null):m("div",{class:O("icon",[l])},[m(mt,{name:Vt[l]||l},null)]),u=(l,s)=>{const{name:p,icon:y,className:D,description:R}=l;return m("div",{role:"button",tabindex:0,class:[O("option"),D,gt],onClick:()=>n(l,s)},[v(y),p&&m("span",{class:O("name")},[p]),R&&m("span",{class:O("option-description")},[R])])},h=(l,s)=>m("div",{class:O("options",{border:s})},[l.map(u)]),c=()=>{const{options:l}=e;return Array.isArray(l[0])?l.map((s,p)=>h(s,p!==0)):h(l)},w=()=>{var l;const s=(l=e.cancelText)!=null?l:Ft("cancel");if(a.cancel||s)return m("button",{type:"button",class:O("cancel"),onClick:r},[a.cancel?a.cancel():s])};return()=>m(Dt,He({class:O(),position:"bottom","onUpdate:show":i},ve(e,jt)),{default:()=>[d(),c(),w()]})}});const Yt=Y(Xt),[qt,ue]=Q("swipe-cell"),Ut={name:ne(""),disabled:Boolean,leftWidth:ie,rightWidth:ie,beforeClose:Function,stopPropagation:Boolean};var Gt=J({name:qt,props:Ut,emits:["open","close","click"],setup(e,{emit:t,slots:a}){let i,r,n,d;const v=S(),u=S(),h=S(),c=xe({offset:0,dragging:!1}),w=Se(),l=g=>g.value?Xe(g).width:0,s=T(()=>$e(e.leftWidth)?+e.leftWidth:l(u)),p=T(()=>$e(e.rightWidth)?+e.rightWidth:l(h)),y=g=>{c.offset=g==="left"?s.value:-p.value,i||(i=!0,t("open",{name:e.name,position:g}))},D=g=>{c.offset=0,i&&(i=!1,t("close",{name:e.name,position:g}))},R=g=>{const B=Math.abs(c.offset),M=.15,F=i?1-M:M,W=g==="left"?s.value:p.value;W&&B>W*F?y(g):D(g)},V=g=>{e.disabled||(n=c.offset,w.start(g))},x=g=>{if(e.disabled)return;const{deltaX:B}=w;w.move(g),w.isHorizontal()&&(r=!0,c.dragging=!0,(!i||B.value*n<0)&&Fe(g,e.stopPropagation),c.offset=ae(B.value+n,-p.value,s.value))},_=()=>{c.dragging&&(c.dragging=!1,R(c.offset>0?"left":"right"),setTimeout(()=>{r=!1},0))},o=(g="outside",B)=>{d||(t("click",g),i&&!r&&(d=!0,yt(e.beforeClose,{args:[{event:B,name:e.name,position:g}],done:()=>{d=!1,D(g)},canceled:()=>d=!1,error:()=>d=!1})))},I=g=>B=>{(r||i)&&B.stopPropagation(),!r&&o(g,B)},k=(g,B)=>{const M=a[g];if(M)return m("div",{ref:B,class:ue(g),onClick:I(g)},[M()])};return _e({open:y,close:D}),pt(v,g=>o("outside",g),{eventName:"touchstart"}),ke("touchmove",x,{target:v}),()=>{var g;const B={transform:`translate3d(${c.offset}px, 0, 0)`,transitionDuration:c.dragging?"0s":".6s"};return m("div",{ref:v,class:ue(),onClick:I("cell"),onTouchstartPassive:V,onTouchend:_,onTouchcancel:_},[m("div",{class:ue("wrapper"),style:B},[k("left",u),(g=a.default)==null?void 0:g.call(a),k("right",h)])])}}});const Jt=Y(Gt),me=(e,t)=>t.some(a=>e instanceof a);let ze,Ke;function Qt(){return ze||(ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zt(){return Ke||(Ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pe=new WeakMap,de=new WeakMap,ce=new WeakMap;function en(e){const t=new Promise((a,i)=>{const r=()=>{e.removeEventListener("success",n),e.removeEventListener("error",d)},n=()=>{a(X(e.result)),r()},d=()=>{i(e.error),r()};e.addEventListener("success",n),e.addEventListener("error",d)});return ce.set(t,e),t}function tn(e){if(pe.has(e))return;const t=new Promise((a,i)=>{const r=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",d),e.removeEventListener("abort",d)},n=()=>{a(),r()},d=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",n),e.addEventListener("error",d),e.addEventListener("abort",d)});pe.set(e,t)}let ye={get(e,t,a){if(e instanceof IDBTransaction){if(t==="done")return pe.get(e);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return X(e[t])},set(e,t,a){return e[t]=a,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ge(e){ye=e(ye)}function nn(e){return Zt().includes(e)?function(...t){return e.apply(we(this),t),X(this.request)}:function(...t){return X(e.apply(we(this),t))}}function an(e){return typeof e=="function"?nn(e):(e instanceof IDBTransaction&&tn(e),me(e,Qt())?new Proxy(e,ye):e)}function X(e){if(e instanceof IDBRequest)return en(e);if(de.has(e))return de.get(e);const t=an(e);return t!==e&&(de.set(e,t),ce.set(t,e)),t}const we=e=>ce.get(e);function on(e,t,{blocked:a,upgrade:i,blocking:r,terminated:n}={}){const d=indexedDB.open(e,t),v=X(d);return i&&d.addEventListener("upgradeneeded",u=>{i(X(d.result),u.oldVersion,u.newVersion,X(d.transaction),u)}),a&&d.addEventListener("blocked",u=>a(u.oldVersion,u.newVersion,u)),v.then(u=>{n&&u.addEventListener("close",()=>n()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),v}const sn=["get","getKey","getAll","getAllKeys","count"],cn=["put","add","delete","clear"],fe=new Map;function Le(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(fe.get(t))return fe.get(t);const a=t.replace(/FromIndex$/,""),i=t!==a,r=cn.includes(a);if(!(a in(i?IDBIndex:IDBObjectStore).prototype)||!(r||sn.includes(a)))return;const n=async function(d,...v){const u=this.transaction(d,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(v.shift())),(await Promise.all([h[a](...v),r&&u.done]))[0]};return fe.set(t,n),n}Ge(e=>({...e,get:(t,a,i)=>Le(t,a)||e.get(t,a,i),has:(t,a)=>!!Le(t,a)||e.has(t,a)}));const rn=["continue","continuePrimaryKey","advance"],We={},be=new WeakMap,Je=new WeakMap,ln={get(e,t){if(!rn.includes(t))return e[t];let a=We[t];return a||(a=We[t]=function(...i){be.set(this,Je.get(this)[t](...i))}),a}};async function*un(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const a=new Proxy(t,ln);for(Je.set(a,t),ce.set(a,we(t));t;)yield a,t=await(be.get(a)||t.continue()),be.delete(a)}function je(e,t){return t===Symbol.asyncIterator&&me(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&me(e,[IDBIndex,IDBObjectStore])}Ge(e=>({...e,get(t,a,i){return je(t,a)?un:e.get(t,a,i)},has(t,a){return je(t,a)||e.has(t,a)}}));const dn=on("stock-db",1,{upgrade(e){e.objectStoreNames.contains("stocks")||e.createObjectStore("stocks",{keyPath:"id"})}});async function fn(){const e=await dn;if(await e.count("stocks")>0)return await e.getAll("stocks");{const r=await(await fetch("/iKDx/"+"stocks/stocks.json")).json(),n=e.transaction("stocks","readwrite"),d=n.objectStore("stocks");for(const v of r)await d.put(v);return await n.done,r}}const vn={style:{display:"flex","flex-direction":"column",height:"100%","min-height":"60vh"}},hn={style:{flex:"1 1 auto"}},gn={style:{display:"flex",gap:"8px","flex-wrap":"wrap","justify-content":"center","margin-bottom":"24px"}},mn=["onClick"],pn={key:0,style:{"margin-top":"12px"}},yn={key:0},wn={style:{"font-size":"17px","font-weight":"bold",color:"#222","margin-right":"16px","min-width":"60px"}},bn={style:{"font-size":"16px",color:"#333",flex:"1"}},xn={key:1,style:{color:"#999","text-align":"center","margin-top":"16px"}},kn={__name:"StockSearch",setup(e){const t=Ye("stock-search"),a=S(!1);Z(()=>{t.on(s=>{a.value=s})}),wt(()=>{t.reset()});const i=S(),r=S(""),n=S([]),d=["台積電","鴻海","聯發科","長榮","中鋼"],v={background:"#fff",color:"#878787",borderRadius:"16px",padding:"4px 16px",fontSize:"15px",cursor:"pointer",userSelect:"none",fontWeight:"500",transition:"background 0.2s, color 0.2s"},u={background:"#ffe066",color:"#222",fontWeight:"bold",boxShadow:"0 0 0 2px #ffe06688"};function h(s){return r.value===s?{...v,...u}:v}function c(){G(()=>{const s=i.value?.$el?.querySelector("input");s&&s.focus()})}N(()=>a.value,s=>{s&&setTimeout(()=>{c()},300)}),N(()=>r.value,async s=>{if(!s||s.length<1){n.value=[];return}const p=await fn();n.value=p.filter(y=>y.name.includes(s)||y.id.includes(s))});function w(s){}function l(s){r.value=s}return(s,p)=>(K(),bt(L(Yt),{show:a.value,"onUpdate:show":p[1]||(p[1]=y=>L(t).emit(!1)),"cancel-text":"離開",options:[],style:{"--van-share-sheet-header-padding":"24px 24px 0 24px"}},{title:z(()=>p[2]||(p[2]=[b("div",{style:{"font-size":"18px","font-weight":"bold","letter-spacing":"1px","text-align":"center","margin-top":"0","margin-bottom":"0",color:"#222","line-height":"1.2"}}," 股票搜尋 ",-1)])),description:z(()=>[b("div",vn,[b("div",hn,[b("div",null,[m(L(Tt),{ref_key:"searchInputRef",ref:i,modelValue:r.value,"onUpdate:modelValue":p[0]||(p[0]=y=>r.value=y),placeholder:"請輸入股票名稱或代碼","action-text":"",style:{"--van-search-input-height":"48px","font-size":"18px"},onSearch:w},null,8,["modelValue"])]),b("div",null,[p[3]||(p[3]=b("div",{style:{display:"flex","align-items":"center",margin:"0 0 10px 0"}},[b("div",{style:{"margin-left":"16px","font-size":"16px",color:"#222","font-weight":"bold","letter-spacing":"1px"}}," | 熱門股票 ")],-1)),b("div",gn,[(K(),j(he,null,ge(d,y=>b("span",{key:y,onClick:D=>l(y),style:kt(h(y))},E(y),13,mn)),64))]),r.value&&r.value.length>=1?(K(),j("div",pn,[n.value.length?(K(),j("div",yn,[(K(!0),j(he,null,ge(n.value,y=>(K(),j("div",{key:y.id,style:{background:"#fff","border-radius":"12px","box-shadow":"0 2px 8px #0001",padding:"16px 20px","margin-bottom":"12px",display:"flex","align-items":"center","min-height":"56px"}},[b("div",wn,E(y.id),1),b("div",bn,E(y.name),1)]))),128))])):(K(),j("div",xn," 查無資料 "))])):xt("",!0)])])])]),_:1},8,["show"]))}},Sn={class:"stock-page"},_n={class:"action-buttons"},Cn={class:"stock-content"},Pn={class:"stock-name"},Dn={class:"name"},In={class:"code"},Tn={class:"stock-indicator"},Bn={class:"kd-indicator"},$n={class:"kd-value"},En={class:"rsi-indicator"},Mn={class:"rsi-value"},An={__name:"Stock",setup(e){const t=Ye("stock-search"),a=S(null);S(null),S(0);const i=S(-1);S(0),S(0);const r=S(!1),n=S(null),d=S([{id:"2330",name:"台積電",code:"2330",price:1140,change:-1.72,changePercent:-.15,weeklyKD:22.6,rsi:45.2},{id:"2317",name:"鴻海",code:"2317",price:135,change:1.45,changePercent:1.08,weeklyKD:68.5,rsi:62.1},{id:"2454",name:"聯發科",code:"2454",price:1350,change:-18.5,changePercent:-1.35,weeklyKD:20.8,rsi:38.9},{id:"2881",name:"富邦金",code:"2881",price:31.55,change:.35,changePercent:1.12,weeklyKD:72.3,rsi:58.7},{id:"0056",name:"元大高股息",code:"0056",price:34.81,change:.02,changePercent:.06,weeklyKD:55.4,rsi:52.1},{id:"1215",name:"卜蜂",code:"1215",price:115.5,change:-.5,changePercent:-.43,weeklyKD:56.87,rsi:71.63},{id:"2885",name:"元大金",code:"2885",price:34.81,change:.06,changePercent:.17,weeklyKD:73.16,rsi:80.46},{id:"2646",name:"星宇航空",code:"2646",price:47.7,change:.5,changePercent:1.06,weeklyKD:54.87,rsi:58.55},{id:"2646",name:"華泰",code:"2646",price:47.7,change:.5,changePercent:1.06,weeklyKD:54.87,rsi:58.55}]);function v(){t.emit(!0)}function u(x,_){console.log(`Stock ${_} indicator changed to ${x}`)}function h(x){return x>0?"price-up":x<0?"price-down":"price-flat"}function c(x){return x>80?"kd-overbought":x<20?"kd-oversold":"kd-normal"}function w(x){return x>80?"超買":x<20?"超賣":"正常"}function l(x){return x>70?"rsi-overbought":x<30?"rsi-oversold":"rsi-normal"}function s(x){return x>70?"超買":x<30?"超賣":"正常"}function p(){}function y(x){le(`買賣 ${x.name}`)}function D(x){le(`${x.name} 策略設定`)}function R(){n.value&&(clearTimeout(n.value),n.value=null),r.value&&V()}function V(){r.value=!1,i.value=-1,le("拖拽結束")}return Z(()=>{}),(x,_)=>(K(),j("div",Sn,[b("div",{class:"stock-list",ref_key:"stockListRef",ref:a},[(K(!0),j(he,null,ge(d.value,(o,I)=>(K(),j("div",{key:o.id,class:U(["stock-row",{"is-dragging":i.value===I}]),onTouchend:R,onContextmenu:_[0]||(_[0]=_t(()=>{},["prevent"]))},[m(L(Jt),{"left-width":120,onClickLeft:p},{left:z(()=>[b("div",_n,[m(L(Me),{type:"primary",size:"small",class:"action-btn buy-btn",onClick:k=>y(o)},{default:z(()=>_[1]||(_[1]=[Ee(" 交 易 ",-1)])),_:2,__:[1]},1032,["onClick"]),m(L(Me),{type:"warning",size:"small",class:"action-btn strategy-btn",onClick:k=>D(o)},{default:z(()=>_[2]||(_[2]=[Ee(" 策 略 ",-1)])),_:2,__:[2]},1032,["onClick"])])]),default:z(()=>[b("div",Cn,[b("div",Pn,[b("div",Dn,E(o.name),1),b("div",In,E(o.code),1),b("div",{class:U(["price",h(o.change)])},E(o.price),3),b("div",{class:U(["change",h(o.change)])},E(o.change>0?"+":"")+E(o.change)+" ("+E(o.changePercent)+"%) ",3)]),b("div",Tn,[m(L(Et),{"show-indicators":!1,loop:!1,autoplay:0,onChange:k=>u(k,I)},{default:z(()=>[m(L(Oe),{class:"indicator-content"},{default:z(()=>[b("div",Bn,[b("div",$n,E(o.weeklyKD),1),b("div",{class:U(["kd-trend",c(o.weeklyKD)])},E(w(o.weeklyKD)),3)])]),_:2},1024),m(L(Oe),{class:"indicator-content"},{default:z(()=>[b("div",En,[b("div",Mn,E(o.rsi),1),b("div",{class:U(["rsi-trend",l(o.rsi)])},E(s(o.rsi)),3)])]),_:2},1024)]),_:2},1032,["onChange"])])])]),_:2},1024)],34))),128))],512),m(L(Lt),{axis:"xy",magnetic:"x",gap:{x:20,y:80},icon:"plus",style:{"--van-floating-bubble-size":"56px","--van-floating-bubble-background":"#ffe066","--van-floating-bubble-icon-size":"22px","--van-floating-bubble-color":"#322b0d"},onClick:v},{default:z(()=>_[3]||(_[3]=[b("div",{class:"bubble-content"},[b("span",{class:"bubble-label",style:{color:"#322b0d"}},"新增")],-1)])),_:1,__:[3]}),m(kn)]))}},zn=St(An,[["__scopeId","data-v-03ea4a97"]]);export{zn as default};
