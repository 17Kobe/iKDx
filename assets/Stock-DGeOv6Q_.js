import{d as Q,t as F,m as ae,n as ce,c as Z,r as S,a as ke,u as at,b as P,w as N,e as ot,o as re,f as je,g as st,h as Ve,i as it,j as Se,k as y,l as ee,p as Pe,q as J,s as Ne,v as oe,x as se,y as ie,z as q,A as ct,B as rt,C as Ie,D as Be,E as lt,F as ut,G as dt,H as He,T as ft,I as Fe,J as he,K as vt,L as ht,M as gt,N as mt,O as $e,P as pt,Q as wt,R as Xe,S as yt,U as K,V as Y,W as k,X as W,Y as j,Z as xt,_ as ge,$ as me,a0 as bt,a1 as E,a2 as kt,a3 as St,a4 as G,a5 as Me}from"./index-CCBlpoX0.js";import{u as _e,a as Ce,s as _t,p as Ct,P as Tt,b as Dt,S as Pt,B as Ee,c as te}from"./index-Dr5Qvn-O.js";function Ae(e,t){return e.reduce((a,i)=>Math.abs(a-t)<Math.abs(i-t)?a:i)}const[qe,ne]=Z("swipe"),It={loop:F,width:ce,height:ce,vertical:Boolean,autoplay:ae(0),duration:ae(500),touchable:F,lazyRender:Boolean,initialSwipe:ae(0),indicatorColor:String,showIndicators:F,stopPropagation:F},Ue=Symbol(qe);var Bt=Q({name:qe,props:It,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:a}){const i=S(),c=S(),n=ke({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let u=!1;const d=_e(),{children:r,linkChildren:p}=at(Ue),o=P(()=>r.length),h=P(()=>n[e.vertical?"height":"width"]),s=P(()=>e.vertical?d.deltaY.value:d.deltaX.value),g=P(()=>n.rect?(e.vertical?n.rect.height:n.rect.width)-h.value*o.value:0),D=P(()=>h.value?Math.ceil(Math.abs(g.value)/h.value):o.value),$=P(()=>o.value*h.value),I=P(()=>(n.active+o.value)%o.value),L=P(()=>{const f=e.vertical?"vertical":"horizontal";return d.direction.value===f}),V=P(()=>{const f={transitionDuration:`${n.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+n.offset.toFixed(2)}px)`};if(h.value){const T=e.vertical?"height":"width",C=e.vertical?"width":"height";f[T]=`${$.value}px`,f[C]=e[C]?`${e[C]}px`:""}return f}),H=f=>{const{active:T}=n;return f?e.loop?oe(T+f,-1,o.value):oe(T+f,0,D.value):T},A=(f,T=0)=>{let C=f*h.value;e.loop||(C=Math.min(C,-g.value));let O=T-C;return e.loop||(O=oe(O,g.value,0)),O},v=({pace:f=0,offset:T=0,emitChange:C})=>{if(o.value<=1)return;const{active:O}=n,M=H(f),U=A(M,T);if(e.loop){if(r[0]&&U!==g.value){const ue=U<g.value;r[0].setOffset(ue?$.value:0)}if(r[o.value-1]&&U!==0){const ue=U>0;r[o.value-1].setOffset(ue?-$.value:0)}}n.active=M,n.offset=U,C&&M!==O&&t("change",I.value)},B=()=>{n.swiping=!0,n.active<=-1?v({pace:o.value}):n.active>=o.value&&v({pace:-o.value})},b=()=>{B(),d.reset(),ee(()=>{n.swiping=!1,v({pace:-1,emitChange:!0})})},m=()=>{B(),d.reset(),ee(()=>{n.swiping=!1,v({pace:1,emitChange:!0})})};let l;const x=()=>clearTimeout(l),w=()=>{x(),+e.autoplay>0&&o.value>1&&(l=setTimeout(()=>{m(),w()},+e.autoplay))},_=(f=+e.initialSwipe)=>{if(!i.value)return;const T=()=>{var C,O;if(!Pe(i)){const M={width:i.value.offsetWidth,height:i.value.offsetHeight};n.rect=M,n.width=+((C=e.width)!=null?C:M.width),n.height=+((O=e.height)!=null?O:M.height)}o.value&&(f=Math.min(o.value-1,f),f===-1&&(f=o.value-1)),n.active=f,n.swiping=!0,n.offset=A(f),r.forEach(M=>{M.setOffset(0)}),w()};Pe(i)?J().then(T):T()},z=()=>_(n.active);let Te;const Qe=f=>{!e.touchable||f.touches.length>1||(d.start(f),u=!1,Te=Date.now(),x(),B())},Ze=f=>{e.touchable&&n.swiping&&(d.move(f),L.value&&(!e.loop&&(n.active===0&&s.value>0||n.active===o.value-1&&s.value<0)||(Ne(f,e.stopPropagation),v({offset:s.value}),u||(t("dragStart",{index:I.value}),u=!0))))},De=()=>{if(!e.touchable||!n.swiping)return;const f=Date.now()-Te,T=s.value/f;if((Math.abs(T)>.25||Math.abs(s.value)>h.value/2)&&L.value){const O=e.vertical?d.offsetY.value:d.offsetX.value;let M=0;e.loop?M=O>0?s.value>0?-1:1:0:M=-Math[s.value>0?"ceil":"floor"](s.value/h.value),v({pace:M,emitChange:!0})}else s.value&&v({pace:0});u=!1,n.swiping=!1,t("dragEnd",{index:I.value}),w()},et=(f,T={})=>{B(),d.reset(),ee(()=>{let C;e.loop&&f===o.value?C=n.active===0?0:f:C=f%o.value,T.immediate?ee(()=>{n.swiping=!1}):n.swiping=!1,v({pace:C-n.active,emitChange:!0})})},tt=(f,T)=>{const C=T===I.value,O=C?{backgroundColor:e.indicatorColor}:void 0;return y("i",{style:O,class:ne("indicator",{active:C})},null)},nt=()=>{if(a.indicator)return a.indicator({active:I.value,total:o.value});if(e.showIndicators&&o.value>1)return y("div",{class:ne("indicators",{vertical:e.vertical})},[Array(o.value).fill("").map(tt)])};return Ce({prev:b,next:m,state:n,resize:z,swipeTo:et}),p({size:h,props:e,count:o,activeIndicator:I}),N(()=>e.initialSwipe,f=>_(+f)),N(o,()=>_(n.active)),N(()=>e.autoplay,w),N([se,ie,()=>e.width,()=>e.height],z),N(ot(),f=>{f==="visible"?w():x()}),re(_),je(()=>_(n.active)),st(()=>_(n.active)),Ve(x),it(x),Se("touchmove",Ze,{target:c}),()=>{var f;return y("div",{ref:i,class:ne()},[y("div",{ref:c,style:V.value,class:ne("track",{vertical:e.vertical}),onTouchstartPassive:Qe,onTouchend:De,onTouchcancel:De},[(f=a.default)==null?void 0:f.call(a)]),nt()])}}});const $t=q(Bt),[Mt,Et]=Z("swipe-item");var At=Q({name:Mt,setup(e,{slots:t}){let a;const i=ke({offset:0,inited:!1,mounted:!1}),{parent:c,index:n}=ct(Ue);if(!c)return;const u=P(()=>{const p={},{vertical:o}=c.props;return c.size.value&&(p[o?"height":"width"]=`${c.size.value}px`),i.offset&&(p.transform=`translate${o?"Y":"X"}(${i.offset}px)`),p}),d=P(()=>{const{loop:p,lazyRender:o}=c.props;if(!o||a)return!0;if(!i.mounted)return!1;const h=c.activeIndicator.value,s=c.count.value-1,g=h===0&&p?s:h-1,D=h===s&&p?0:h+1;return a=n.value===h||n.value===g||n.value===D,a}),r=p=>{i.offset=p};return re(()=>{J(()=>{i.mounted=!0})}),Ce({setOffset:r}),()=>{var p;return y("div",{class:Et(),style:u.value},[d.value?(p=t.default)==null?void 0:p.call(t):null])}}});const Oe=q(At);q(_t);const Ot={gap:{type:[Number,Object],default:24},icon:String,axis:rt("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[Rt,Re]=Z("floating-bubble");var Lt=Q({name:Rt,inheritAttrs:!1,props:Ot,emits:["click","update:offset","offsetChange"],setup(e,{slots:t,emit:a,attrs:i}){const c=S(),n=S({x:0,y:0,width:0,height:0}),u=P(()=>Ie(e.gap)?e.gap.x:e.gap),d=P(()=>Ie(e.gap)?e.gap.y:e.gap),r=P(()=>({top:d.value,right:se.value-n.value.width-u.value,bottom:ie.value-n.value.height-d.value,left:u.value})),p=S(!1);let o=!1;const h=P(()=>{const v={},B=Be(n.value.x),b=Be(n.value.y);return v.transform=`translate3d(${B}, ${b}, 0)`,(p.value||!o)&&(v.transition="none"),v}),s=()=>{if(!A.value)return;const{width:v,height:B}=Fe(c.value),{offset:b}=e;n.value={x:b?b.x:se.value-v-u.value,y:b?b.y:ie.value-B-d.value,width:v,height:B}},g=_e();let D=0,$=0;const I=v=>{g.start(v),p.value=!0,D=n.value.x,$=n.value.y};Se("touchmove",v=>{if(v.preventDefault(),g.move(v),e.axis!=="lock"&&!g.isTap.value){if(e.axis==="x"||e.axis==="xy"){let b=D+g.deltaX.value;b<r.value.left&&(b=r.value.left),b>r.value.right&&(b=r.value.right),n.value.x=b}if(e.axis==="y"||e.axis==="xy"){let b=$+g.deltaY.value;b<r.value.top&&(b=r.value.top),b>r.value.bottom&&(b=r.value.bottom),n.value.y=b}const B=he(n.value,["x","y"]);a("update:offset",B)}},{target:c});const V=()=>{p.value=!1,J(()=>{if(e.magnetic==="x"){const v=Ae([r.value.left,r.value.right],n.value.x);n.value.x=v}if(e.magnetic==="y"){const v=Ae([r.value.top,r.value.bottom],n.value.y);n.value.y=v}if(!g.isTap.value){const v=he(n.value,["x","y"]);a("update:offset",v),(D!==v.x||$!==v.y)&&a("offsetChange",v)}})},H=v=>{g.isTap.value?a("click",v):v.stopPropagation()};re(()=>{s(),J(()=>{o=!0})}),N([se,ie,u,d,()=>e.offset],s,{deep:!0});const A=S(!0);return je(()=>{A.value=!0}),Ve(()=>{e.teleport&&(A.value=!1)}),()=>{const v=lt(y("div",He({class:Re(),ref:c,onTouchstartPassive:I,onTouchend:V,onTouchcancel:V,onClickCapture:H,style:h.value},i),[t.default?t.default():y(dt,{name:e.icon,class:Re("icon")},null)]),[[ut,A.value]]);return e.teleport?y(ft,{to:e.teleport},{default:()=>[v]}):v}}});const zt=q(Lt),Kt=e=>e?.includes("/"),Wt=[...Ct,"round","closeOnPopstate","safeAreaInsetBottom"],Yt={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[jt,R,Vt]=Z("share-sheet"),Nt=vt({},Dt,{title:String,round:F,options:ht(),cancelText:String,description:String,closeOnPopstate:F,safeAreaInsetBottom:F});var Ht=Q({name:jt,props:Nt,emits:["cancel","select","update:show"],setup(e,{emit:t,slots:a}){const i=s=>t("update:show",s),c=()=>{i(!1),t("cancel")},n=(s,g)=>t("select",s,g),u=()=>{const s=a.title?a.title():e.title,g=a.description?a.description():e.description;if(s||g)return y("div",{class:R("header")},[s&&y("h2",{class:R("title")},[s]),g&&y("span",{class:R("description")},[g])])},d=s=>Kt(s)?y("img",{src:s,class:R("image-icon")},null):y("div",{class:R("icon",[s])},[y(mt,{name:Yt[s]||s},null)]),r=(s,g)=>{const{name:D,icon:$,className:I,description:L}=s;return y("div",{role:"button",tabindex:0,class:[R("option"),I,gt],onClick:()=>n(s,g)},[d($),D&&y("span",{class:R("name")},[D]),L&&y("span",{class:R("option-description")},[L])])},p=(s,g)=>y("div",{class:R("options",{border:g})},[s.map(r)]),o=()=>{const{options:s}=e;return Array.isArray(s[0])?s.map((g,D)=>p(g,D!==0)):p(s)},h=()=>{var s;const g=(s=e.cancelText)!=null?s:Vt("cancel");if(a.cancel||g)return y("button",{type:"button",class:R("cancel"),onClick:c},[a.cancel?a.cancel():g])};return()=>y(Tt,He({class:R(),position:"bottom","onUpdate:show":i},he(e,Wt)),{default:()=>[u(),o(),h()]})}});const Ft=q(Ht),[Xt,de]=Z("swipe-cell"),qt={name:ae(""),disabled:Boolean,leftWidth:ce,rightWidth:ce,beforeClose:Function,stopPropagation:Boolean};var Ut=Q({name:Xt,props:qt,emits:["open","close","click"],setup(e,{emit:t,slots:a}){let i,c,n,u;const d=S(),r=S(),p=S(),o=ke({offset:0,dragging:!1}),h=_e(),s=m=>m.value?Fe(m).width:0,g=P(()=>$e(e.leftWidth)?+e.leftWidth:s(r)),D=P(()=>$e(e.rightWidth)?+e.rightWidth:s(p)),$=m=>{o.offset=m==="left"?g.value:-D.value,i||(i=!0,t("open",{name:e.name,position:m}))},I=m=>{o.offset=0,i&&(i=!1,t("close",{name:e.name,position:m}))},L=m=>{const l=Math.abs(o.offset),x=.15,w=i?1-x:x,_=m==="left"?g.value:D.value;_&&l>_*w?$(m):I(m)},V=m=>{e.disabled||(n=o.offset,h.start(m))},H=m=>{if(e.disabled)return;const{deltaX:l}=h;h.move(m),h.isHorizontal()&&(c=!0,o.dragging=!0,(!i||l.value*n<0)&&Ne(m,e.stopPropagation),o.offset=oe(l.value+n,-D.value,g.value))},A=()=>{o.dragging&&(o.dragging=!1,L(o.offset>0?"left":"right"),setTimeout(()=>{c=!1},0))},v=(m="outside",l)=>{u||(t("click",m),i&&!c&&(u=!0,wt(e.beforeClose,{args:[{event:l,name:e.name,position:m}],done:()=>{u=!1,I(m)},canceled:()=>u=!1,error:()=>u=!1})))},B=m=>l=>{(c||i)&&l.stopPropagation(),!c&&v(m,l)},b=(m,l)=>{const x=a[m];if(x)return y("div",{ref:l,class:de(m),onClick:B(m)},[x()])};return Ce({open:$,close:I}),pt(d,m=>v("outside",m),{eventName:"touchstart"}),Se("touchmove",H,{target:d}),()=>{var m;const l={transform:`translate3d(${o.offset}px, 0, 0)`,transitionDuration:o.dragging?"0s":".6s"};return y("div",{ref:d,class:de(),onClick:B("cell"),onTouchstartPassive:V,onTouchend:A,onTouchcancel:A},[y("div",{class:de("wrapper"),style:l},[b("left",r),(m=a.default)==null?void 0:m.call(a),b("right",p)])])}}});const Gt=q(Ut),pe=(e,t)=>t.some(a=>e instanceof a);let Le,ze;function Jt(){return Le||(Le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qt(){return ze||(ze=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const we=new WeakMap,fe=new WeakMap,le=new WeakMap;function Zt(e){const t=new Promise((a,i)=>{const c=()=>{e.removeEventListener("success",n),e.removeEventListener("error",u)},n=()=>{a(X(e.result)),c()},u=()=>{i(e.error),c()};e.addEventListener("success",n),e.addEventListener("error",u)});return le.set(t,e),t}function en(e){if(we.has(e))return;const t=new Promise((a,i)=>{const c=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",u),e.removeEventListener("abort",u)},n=()=>{a(),c()},u=()=>{i(e.error||new DOMException("AbortError","AbortError")),c()};e.addEventListener("complete",n),e.addEventListener("error",u),e.addEventListener("abort",u)});we.set(e,t)}let ye={get(e,t,a){if(e instanceof IDBTransaction){if(t==="done")return we.get(e);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return X(e[t])},set(e,t,a){return e[t]=a,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ge(e){ye=e(ye)}function tn(e){return Qt().includes(e)?function(...t){return e.apply(xe(this),t),X(this.request)}:function(...t){return X(e.apply(xe(this),t))}}function nn(e){return typeof e=="function"?tn(e):(e instanceof IDBTransaction&&en(e),pe(e,Jt())?new Proxy(e,ye):e)}function X(e){if(e instanceof IDBRequest)return Zt(e);if(fe.has(e))return fe.get(e);const t=nn(e);return t!==e&&(fe.set(e,t),le.set(t,e)),t}const xe=e=>le.get(e);function an(e,t,{blocked:a,upgrade:i,blocking:c,terminated:n}={}){const u=indexedDB.open(e,t),d=X(u);return i&&u.addEventListener("upgradeneeded",r=>{i(X(u.result),r.oldVersion,r.newVersion,X(u.transaction),r)}),a&&u.addEventListener("blocked",r=>a(r.oldVersion,r.newVersion,r)),d.then(r=>{n&&r.addEventListener("close",()=>n()),c&&r.addEventListener("versionchange",p=>c(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const on=["get","getKey","getAll","getAllKeys","count"],sn=["put","add","delete","clear"],ve=new Map;function Ke(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ve.get(t))return ve.get(t);const a=t.replace(/FromIndex$/,""),i=t!==a,c=sn.includes(a);if(!(a in(i?IDBIndex:IDBObjectStore).prototype)||!(c||on.includes(a)))return;const n=async function(u,...d){const r=this.transaction(u,c?"readwrite":"readonly");let p=r.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[a](...d),c&&r.done]))[0]};return ve.set(t,n),n}Ge(e=>({...e,get:(t,a,i)=>Ke(t,a)||e.get(t,a,i),has:(t,a)=>!!Ke(t,a)||e.has(t,a)}));const cn=["continue","continuePrimaryKey","advance"],We={},be=new WeakMap,Je=new WeakMap,rn={get(e,t){if(!cn.includes(t))return e[t];let a=We[t];return a||(a=We[t]=function(...i){be.set(this,Je.get(this)[t](...i))}),a}};async function*ln(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const a=new Proxy(t,rn);for(Je.set(a,t),le.set(a,xe(t));t;)yield a,t=await(be.get(a)||t.continue()),be.delete(a)}function Ye(e,t){return t===Symbol.asyncIterator&&pe(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&pe(e,[IDBIndex,IDBObjectStore])}Ge(e=>({...e,get(t,a,i){return Ye(t,a)?ln:e.get(t,a,i)},has(t,a){return Ye(t,a)||e.has(t,a)}}));const un=an("stock-db",1,{upgrade(e){e.objectStoreNames.contains("stocks")||e.createObjectStore("stocks",{keyPath:"id"})}});async function dn(){const e=await un;if(await e.count("stocks")>0)return await e.getAll("stocks");{const c=await(await fetch("/iKDx/"+"stocks/stocks.json")).json(),n=e.transaction("stocks","readwrite"),u=n.objectStore("stocks");for(const d of c)await u.put(d);return await n.done,c}}const fn={style:{display:"flex",gap:"8px","flex-wrap":"wrap","justify-content":"center","margin-bottom":"24px"}},vn=["onClick"],hn={key:0,style:{"margin-top":"12px"}},gn={key:0},mn={style:{"font-size":"17px","font-weight":"bold",color:"#222","margin-right":"16px","min-width":"60px"}},pn={style:{"font-size":"16px",color:"#333",flex:"1"}},wn={key:1,style:{color:"#999","text-align":"center","margin-top":"16px"}},yn={__name:"StockSearch",setup(e){const t=Xe("stock-search"),a=S(!1);t.on(o=>{a.value=o});const i=S(),c=S(""),n=S([]),u=["台積電","鴻海","聯發科","長榮","中鋼"];function d(){J(()=>{const o=i.value?.$el?.querySelector("input");o&&o.focus()})}N(()=>a.value,o=>{o&&setTimeout(()=>{d()},300)}),N(()=>c.value,async o=>{if(!o||o.length<1){n.value=[];return}const h=await dn();n.value=h.filter(s=>s.name.includes(o)||s.id.includes(o))});function r(o){}function p(o){c.value=o,d()}return(o,h)=>(K(),yt(W(Ft),{show:a.value,"onUpdate:show":h[1]||(h[1]=s=>W(t).emit(!1)),options:[],"cancel-text":"",style:{"--van-share-sheet-header-padding":"24px 24px 0 24px","min-height":"80vh",height:"80vh"}},{title:Y(()=>h[2]||(h[2]=[k("div",{style:{"font-size":"18px","font-weight":"bold","letter-spacing":"1px","text-align":"center","margin-top":"0","margin-bottom":"0",color:"#222","line-height":"1.2"}}," 股票搜尋 ",-1)])),description:Y(()=>[k("div",null,[y(W(Pt),{ref_key:"searchInputRef",ref:i,modelValue:c.value,"onUpdate:modelValue":h[0]||(h[0]=s=>c.value=s),placeholder:"請輸入股票名稱或代碼","action-text":"",style:{"--van-search-input-height":"48px","font-size":"18px"},onSearch:r},null,8,["modelValue"])]),k("div",null,[h[3]||(h[3]=k("div",{style:{display:"flex","align-items":"center",margin:"0 0 10px 0"}},[k("div",{style:{"margin-left":"16px","font-size":"16px",color:"#222","font-weight":"bold","letter-spacing":"1px"}}," | 熱門股票 ")],-1)),k("div",fn,[(K(),j(ge,null,me(u,s=>k("span",{key:s,onClick:g=>p(s),style:bt({background:c.value===s?"#1976d2":"#e3eafc",color:c.value===s?"#fff":"#1976d2",borderRadius:"16px",padding:"4px 12px",fontSize:"15px",cursor:"pointer",userSelect:"none",fontWeight:c.value===s?"bold":"normal",boxShadow:c.value===s?"0 0 0 2px #1976d233":"none",transition:"background 0.2s, color 0.2s"})},E(s),13,vn)),64))]),c.value&&c.value.length>=1?(K(),j("div",hn,[n.value.length?(K(),j("div",gn,[(K(!0),j(ge,null,me(n.value,s=>(K(),j("div",{key:s.id,style:{background:"#fff","border-radius":"12px","box-shadow":"0 2px 8px #0001",padding:"16px 20px","margin-bottom":"12px",display:"flex","align-items":"center","min-height":"56px"}},[k("div",mn,E(s.id),1),k("div",pn,E(s.name),1)]))),128))])):(K(),j("div",wn," 查無資料 "))])):xt("",!0)])]),_:1},8,["show"]))}},xn={class:"stock-page"},bn=["onTouchstart"],kn={class:"action-buttons"},Sn={class:"stock-content"},_n={class:"stock-name"},Cn={class:"name"},Tn={class:"code"},Dn={class:"stock-indicator"},Pn={class:"kd-indicator"},In={class:"kd-value"},Bn={class:"rsi-indicator"},$n={class:"rsi-value"},Mn={__name:"Stock",setup(e){const t=Xe("stock-search"),a=S(null);S(null),S(0);const i=S(-1),c=S(0),n=S(0),u=S(!1),d=S(null),r=S([{id:"2330",name:"台積電",code:"2330",price:1140,change:-1.72,changePercent:-.15,weeklyKD:22.6,rsi:45.2},{id:"2317",name:"鴻海",code:"2317",price:135,change:1.45,changePercent:1.08,weeklyKD:68.5,rsi:62.1},{id:"2454",name:"聯發科",code:"2454",price:1350,change:-18.5,changePercent:-1.35,weeklyKD:20.8,rsi:38.9},{id:"2881",name:"富邦金",code:"2881",price:31.55,change:.35,changePercent:1.12,weeklyKD:72.3,rsi:58.7},{id:"0056",name:"元大高股息",code:"0056",price:34.81,change:.02,changePercent:.06,weeklyKD:55.4,rsi:52.1},{id:"1215",name:"卜蜂",code:"1215",price:115.5,change:-.5,changePercent:-.43,weeklyKD:56.87,rsi:71.63},{id:"2885",name:"元大金",code:"2885",price:34.81,change:.06,changePercent:.17,weeklyKD:73.16,rsi:80.46},{id:"2646",name:"星宇航空",code:"2646",price:47.7,change:.5,changePercent:1.06,weeklyKD:54.87,rsi:58.55}]);function p(){t.emit(!0)}function o(l,x){console.log(`Stock ${x} indicator changed to ${l}`)}function h(l){return l>0?"price-up":l<0?"price-down":"price-flat"}function s(l){return l>80?"kd-overbought":l<20?"kd-oversold":"kd-normal"}function g(l){return l>80?"超買":l<20?"超賣":"正常"}function D(l){return l>70?"rsi-overbought":l<30?"rsi-oversold":"rsi-normal"}function $(l){return l>70?"超買":l<30?"超賣":"正常"}function I(){}function L(l){te(`買賣 ${l.name}`)}function V(l){te(`${l.name} 策略設定`)}function H(l,x){const w=l.touches[0];c.value=w.clientY,n.value=w.clientY,d.value=setTimeout(()=>{u.value||B(x)},500)}function A(l){if(d.value){const x=l.touches[0];Math.abs(x.clientY-c.value)>10&&(clearTimeout(d.value),d.value=null)}if(u.value){l.preventDefault();const x=l.touches[0];n.value=x.clientY;const w=n.value-c.value,_=m(i.value,w);if(_!==i.value&&_>=0&&_<r.value.length){const z=r.value.splice(i.value,1)[0];r.value.splice(_,0,z),i.value=_,c.value=n.value}}}function v(){d.value&&(clearTimeout(d.value),d.value=null),u.value&&b()}function B(l){u.value=!0,i.value=l,te("長按拖拽模式")}function b(){u.value=!1,i.value=-1,te("拖拽結束")}function m(l,x){const _=Math.round(x/80);return Math.max(0,Math.min(r.value.length-1,l+_))}return re(()=>{}),(l,x)=>(K(),j("div",xn,[k("div",{class:"stock-list",ref_key:"stockListRef",ref:a},[(K(!0),j(ge,null,me(r.value,(w,_)=>(K(),j("div",{key:w.id,class:G(["stock-row",{"is-dragging":i.value===_}]),onTouchstart:z=>H(z,_),onTouchmove:A,onTouchend:v,onContextmenu:x[0]||(x[0]=St(()=>{},["prevent"]))},[y(W(Gt),{"left-width":120,onClickLeft:I},{left:Y(()=>[k("div",kn,[y(W(Ee),{type:"primary",size:"small",class:"action-btn buy-btn",onClick:z=>L(w)},{default:Y(()=>x[1]||(x[1]=[Me(" 買賣 ",-1)])),_:2,__:[1]},1032,["onClick"]),y(W(Ee),{type:"warning",size:"small",class:"action-btn strategy-btn",onClick:z=>V(w)},{default:Y(()=>x[2]||(x[2]=[Me(" 策略 ",-1)])),_:2,__:[2]},1032,["onClick"])])]),default:Y(()=>[k("div",Sn,[k("div",_n,[k("div",Cn,E(w.name),1),k("div",Tn,E(w.code),1),k("div",{class:G(["price",h(w.change)])},E(w.price),3),k("div",{class:G(["change",h(w.change)])},E(w.change>0?"+":"")+E(w.change)+" ("+E(w.changePercent)+"%) ",3)]),k("div",Dn,[y(W($t),{"show-indicators":!1,loop:!1,autoplay:0,onChange:z=>o(z,_)},{default:Y(()=>[y(W(Oe),{class:"indicator-content"},{default:Y(()=>[k("div",Pn,[k("div",In,E(w.weeklyKD),1),k("div",{class:G(["kd-trend",s(w.weeklyKD)])},E(g(w.weeklyKD)),3)])]),_:2},1024),y(W(Oe),{class:"indicator-content"},{default:Y(()=>[k("div",Bn,[k("div",$n,E(w.rsi),1),k("div",{class:G(["rsi-trend",D(w.rsi)])},E($(w.rsi)),3)])]),_:2},1024)]),_:2},1032,["onChange"])])])]),_:2},1024)],42,bn))),128))],512),y(W(zt),{icon:"plus",axis:"xy",magnetic:"x",gap:{x:24,y:80},style:{"--van-floating-bubble-size":"48px"},onClick:p}),y(yn)]))}},On=kt(Mn,[["__scopeId","data-v-cbe88044"]]);export{On as default};
