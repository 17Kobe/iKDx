import{d as un,e as vr,c as jn,u as ug,B as vw,a as q,r as fg,m as Ye,n as xn,I as di,p as Fi,L as bw,w as Zn,g as xw,t as Xn,b as Jr,f as qt,h as fa,i as Tc,j as yw,k as Bt,l as xs,o as An,q as ww,s as pi,v as hg,x as Sw,y as dg,z as Cw,A as ha,C as Th,D as sn,E as ts,F as po,G as Fo,H as Bo,J as gg,K as zo,M as vn,N as kw,O as uc,P as Dw,Q as Mw,R as Tw,S as Aw,T as Qo,U as Ow,V as Ah,W as Ew,X as fc,Y as fs,Z as Iw,_ as Pw,$ as Lw,a0 as Rw,a1 as Fw,a2 as Bw,a3 as pg,a4 as hs,a5 as zw,a6 as Ww,a7 as Nw,a8 as Hw,a9 as $w,aa as Yw,ab as Uw,ac as Ac,ad as mg,ae as _g,af as mo,ag as Vw,ah as Vt,ai as qw,aj as Xw,ak as Gw,al as vg,am as bg,an as xg,ao as Ie,ap as en,aq as gt,ar as Ce,as as rn,at as Kw,au as Wl,av as Oh,aw as yg,ax as Pe,ay as Wo,az as wg,aA as ds,aB as jw,aC as hc,aD as Sg,aE as ys,aF as Oc,aG as dc,aH as Zw,aI as Qw,aJ as Jw,aK as t1}from"./index-B-YefCpx.js";import{w as Ec}from"./worker-pool-Vr2Seoof.js";function Eh(n,t){return n.reduce((e,i)=>Math.abs(e-t)<Math.abs(i-t)?e:i)}const[e1,rr]=jn("button"),n1=vr({},fg,{tag:Ye("button"),text:String,icon:String,type:Ye("default"),size:Ye("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Ye("button"),loadingSize:xn,loadingText:String,loadingType:String,iconPosition:Ye("left")});var i1=un({name:e1,props:n1,emits:["click"],setup(n,{emit:t,slots:e}){const i=ug(),s=()=>e.loading?e.loading():q(bw,{size:n.loadingSize,type:n.loadingType,class:rr("loading")},null),a=()=>{if(n.loading)return s();if(e.icon)return q("div",{class:rr("icon")},[e.icon()]);if(n.icon)return q(di,{name:n.icon,class:rr("icon"),classPrefix:n.iconPrefix},null)},l=()=>{let h;if(n.loading?h=n.loadingText:h=e.default?e.default():n.text,h)return q("span",{class:rr("text")},[h])},u=()=>{const{color:h,plain:g}=n;if(h){const m={color:g?h:"white"};return g||(m.background=h),h.includes("gradient")?m.border=0:m.borderColor=h,m}},f=h=>{n.loading?Fi(h):n.disabled||(t("click",h),i())};return()=>{const{tag:h,type:g,size:m,block:_,round:b,plain:S,square:y,loading:w,disabled:k,hairline:O,nativeType:E,iconPosition:R}=n,T=[rr([g,m,{plain:S,block:_,round:b,square:y,loading:w,disabled:k,hairline:O}]),{[vw]:O}];return q(h,{type:E,class:T,style:u(),disabled:k,onClick:f},{default:()=>[q("div",{class:rr("content")},[R==="left"&&a(),l(),R==="right"&&a()])]})}}});const Nl=Zn(i1);let r1=0;function Cg(){const n=xw(),{name:t="unknown"}=n?.type||{};return`${t}-${++r1}`}const[kg,_o]=jn("swipe"),s1={loop:Xn,width:xn,height:xn,vertical:Boolean,autoplay:Jr(0),duration:Jr(500),touchable:Xn,lazyRender:Boolean,initialSwipe:Jr(0),indicatorColor:String,showIndicators:Xn,stopPropagation:Xn},Dg=Symbol(kg);var o1=un({name:kg,props:s1,emits:["change","dragStart","dragEnd"],setup(n,{emit:t,slots:e}){const i=qt(),s=qt(),a=fa({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let l=!1;const u=Tc(),{children:f,linkChildren:h}=yw(Dg),g=Bt(()=>f.length),m=Bt(()=>a[n.vertical?"height":"width"]),_=Bt(()=>n.vertical?u.deltaY.value:u.deltaX.value),b=Bt(()=>a.rect?(n.vertical?a.rect.height:a.rect.width)-m.value*g.value:0),S=Bt(()=>m.value?Math.ceil(Math.abs(b.value)/m.value):g.value),y=Bt(()=>g.value*m.value),w=Bt(()=>(a.active+g.value)%g.value),k=Bt(()=>{const U=n.vertical?"vertical":"horizontal";return u.direction.value===U}),O=Bt(()=>{const U={transitionDuration:`${a.swiping?0:n.duration}ms`,transform:`translate${n.vertical?"Y":"X"}(${+a.offset.toFixed(2)}px)`};if(m.value){const mt=n.vertical?"height":"width",xt=n.vertical?"width":"height";U[mt]=`${y.value}px`,U[xt]=n[xt]?`${n[xt]}px`:""}return U}),E=U=>{const{active:mt}=a;return U?n.loop?ts(mt+U,-1,g.value):ts(mt+U,0,S.value):mt},R=(U,mt=0)=>{let xt=U*m.value;n.loop||(xt=Math.min(xt,-b.value));let Lt=mt-xt;return n.loop||(Lt=ts(Lt,b.value,0)),Lt},T=({pace:U=0,offset:mt=0,emitChange:xt})=>{if(g.value<=1)return;const{active:Lt}=a,Tt=E(U),Xt=R(Tt,mt);if(n.loop){if(f[0]&&Xt!==b.value){const W=Xt<b.value;f[0].setOffset(W?y.value:0)}if(f[g.value-1]&&Xt!==0){const W=Xt>0;f[g.value-1].setOffset(W?-y.value:0)}}a.active=Tt,a.offset=Xt,xt&&Tt!==Lt&&t("change",w.value)},N=()=>{a.swiping=!0,a.active<=-1?T({pace:g.value}):a.active>=g.value&&T({pace:-g.value})},F=()=>{N(),u.reset(),po(()=>{a.swiping=!1,T({pace:-1,emitChange:!0})})},P=()=>{N(),u.reset(),po(()=>{a.swiping=!1,T({pace:1,emitChange:!0})})};let $;const K=()=>clearTimeout($),X=()=>{K(),+n.autoplay>0&&g.value>1&&($=setTimeout(()=>{P(),X()},+n.autoplay))},j=(U=+n.initialSwipe)=>{if(!i.value)return;const mt=()=>{var xt,Lt;if(!Th(i)){const Tt={width:i.value.offsetWidth,height:i.value.offsetHeight};a.rect=Tt,a.width=+((xt=n.width)!=null?xt:Tt.width),a.height=+((Lt=n.height)!=null?Lt:Tt.height)}g.value&&(U=Math.min(g.value-1,U),U===-1&&(U=g.value-1)),a.active=U,a.swiping=!0,a.offset=R(U),f.forEach(Tt=>{Tt.setOffset(0)}),X()};Th(i)?sn().then(mt):mt()},rt=()=>j(a.active);let vt;const st=U=>{!n.touchable||U.touches.length>1||(u.start(U),l=!1,vt=Date.now(),K(),N())},ft=U=>{n.touchable&&a.swiping&&(u.move(U),k.value&&(!n.loop&&(a.active===0&&_.value>0||a.active===g.value-1&&_.value<0)||(Fi(U,n.stopPropagation),T({offset:_.value}),l||(t("dragStart",{index:w.value}),l=!0))))},bt=()=>{if(!n.touchable||!a.swiping)return;const U=Date.now()-vt,mt=_.value/U;if((Math.abs(mt)>.25||Math.abs(_.value)>m.value/2)&&k.value){const Lt=n.vertical?u.offsetY.value:u.offsetX.value;let Tt=0;n.loop?Tt=Lt>0?_.value>0?-1:1:0:Tt=-Math[_.value>0?"ceil":"floor"](_.value/m.value),T({pace:Tt,emitChange:!0})}else _.value&&T({pace:0});l=!1,a.swiping=!1,t("dragEnd",{index:w.value}),X()},Ct=(U,mt={})=>{N(),u.reset(),po(()=>{let xt;n.loop&&U===g.value?xt=a.active===0?0:U:xt=U%g.value,mt.immediate?po(()=>{a.swiping=!1}):a.swiping=!1,T({pace:xt-a.active,emitChange:!0})})},ne=(U,mt)=>{const xt=mt===w.value,Lt=xt?{backgroundColor:n.indicatorColor}:void 0;return q("i",{style:Lt,class:_o("indicator",{active:xt})},null)},Qt=()=>{if(e.indicator)return e.indicator({active:w.value,total:g.value});if(n.showIndicators&&g.value>1)return q("div",{class:_o("indicators",{vertical:n.vertical})},[Array(g.value).fill("").map(ne)])};return xs({prev:F,next:P,state:a,resize:rt,swipeTo:Ct}),h({size:m,props:n,count:g,activeIndicator:w}),An(()=>n.initialSwipe,U=>j(+U)),An(g,()=>j(a.active)),An(()=>n.autoplay,X),An([Fo,Bo,()=>n.width,()=>n.height],rt),An(ww(),U=>{U==="visible"?X():K()}),pi(j),hg(()=>j(a.active)),Sw(()=>j(a.active)),dg(K),Cw(K),ha("touchmove",ft,{target:s}),()=>{var U;return q("div",{ref:i,class:_o()},[q("div",{ref:s,style:O.value,class:_o("track",{vertical:n.vertical}),onTouchstartPassive:st,onTouchend:bt,onTouchcancel:bt},[(U=e.default)==null?void 0:U.call(e)]),Qt()])}}});const a1=Zn(o1),[l1,c1]=jn("swipe-item");var u1=un({name:l1,setup(n,{slots:t}){let e;const i=fa({offset:0,inited:!1,mounted:!1}),{parent:s,index:a}=gg(Dg);if(!s)return;const l=Bt(()=>{const h={},{vertical:g}=s.props;return s.size.value&&(h[g?"height":"width"]=`${s.size.value}px`),i.offset&&(h.transform=`translate${g?"Y":"X"}(${i.offset}px)`),h}),u=Bt(()=>{const{loop:h,lazyRender:g}=s.props;if(!g||e)return!0;if(!i.mounted)return!1;const m=s.activeIndicator.value,_=s.count.value-1,b=m===0&&h?_:m-1,S=m===_&&h?0:m+1;return e=a.value===m||a.value===b||a.value===S,e}),f=h=>{i.offset=h};return pi(()=>{sn(()=>{i.mounted=!0})}),xs({setOffset:f}),()=>{var h;return q("div",{class:c1(),style:l.value},[u.value?(h=t.default)==null?void 0:h.call(t):null])}}});const Ih=Zn(u1),[f1,sr]=jn("cell"),Mg={tag:Ye("div"),icon:String,size:String,title:xn,value:xn,label:xn,center:Boolean,isLink:Boolean,border:Xn,iconPrefix:String,valueClass:zo,labelClass:zo,titleClass:zo,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},h1=vr({},Mg,fg);var d1=un({name:f1,props:h1,setup(n,{slots:t}){const e=ug(),i=()=>{if(t.label||vn(n.label))return q("div",{class:[sr("label"),n.labelClass]},[t.label?t.label():n.label])},s=()=>{var f;if(t.title||vn(n.title)){const h=(f=t.title)==null?void 0:f.call(t);return Array.isArray(h)&&h.length===0?void 0:q("div",{class:[sr("title"),n.titleClass],style:n.titleStyle},[h||q("span",null,[n.title]),i()])}},a=()=>{const f=t.value||t.default;if(f||vn(n.value))return q("div",{class:[sr("value"),n.valueClass]},[f?f():q("span",null,[n.value])])},l=()=>{if(t.icon)return t.icon();if(n.icon)return q(di,{name:n.icon,class:sr("left-icon"),classPrefix:n.iconPrefix},null)},u=()=>{if(t["right-icon"])return t["right-icon"]();if(n.isLink){const f=n.arrowDirection&&n.arrowDirection!=="right"?`arrow-${n.arrowDirection}`:"arrow";return q(di,{name:f,class:sr("right-icon")},null)}};return()=>{var f;const{tag:h,size:g,center:m,border:_,isLink:b,required:S}=n,y=(f=n.clickable)!=null?f:b,w={center:m,required:!!S,clickable:y,borderless:!_};return g&&(w[g]=!!g),q(h,{class:sr(w),role:y?"button":void 0,tabindex:y?0:void 0,onClick:e},{default:()=>{var k;return[l(),s(),a(),u(),(k=t.extra)==null?void 0:k.call(t)]}})}}});const g1=Zn(d1);function Tg(n){return Array.isArray(n)?!n.length:n===0?!1:!n}function p1(n,t){if(Tg(n)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(n)))}function m1(n,t){return new Promise(e=>{const i=t.validator(n,t);if(Tw(i)){i.then(e);return}e(i)})}function Ph(n,t){const{message:e}=t;return Mw(e)?e(n,t):e||""}function _1({target:n}){n.composing=!0}function Lh({target:n}){n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}function v1(n,t){const e=kw();n.style.height="auto";let i=n.scrollHeight;if(uc(t)){const{maxHeight:s,minHeight:a}=t;s!==void 0&&(i=Math.min(i,s)),a!==void 0&&(i=Math.max(i,a))}i&&(n.style.height=`${i}px`,Dw(e))}function b1(n,t){return n==="number"&&(n="text",t??(t="decimal")),n==="digit"&&(n="tel",t??(t="numeric")),{type:n,inputmode:t}}function $n(n){return[...n].length}function Hl(n,t){return[...n].slice(0,t).join("")}const[x1,Je]=jn("field"),Ic={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:xn,max:Number,min:Number,formatter:Function,clearIcon:Ye("clear"),modelValue:Jr(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:Ye("focus"),formatTrigger:Ye("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},y1=vr({},Mg,Ic,{rows:xn,type:Ye("text"),rules:Array,autosize:[Boolean,Object],labelWidth:xn,labelClass:zo,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var w1=un({name:x1,props:y1,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(n,{emit:t,slots:e}){const i=Cg(),s=fa({status:"unvalidated",focused:!1,validateMessage:""}),a=qt(),l=qt(),u=qt(),{parent:f}=gg(Aw),h=()=>{var W;return String((W=n.modelValue)!=null?W:"")},g=W=>{if(vn(n[W]))return n[W];if(f&&vn(f.props[W]))return f.props[W]},m=Bt(()=>{const W=g("readonly");if(n.clearable&&!W){const ot=h()!=="",at=n.clearTrigger==="always"||n.clearTrigger==="focus"&&s.focused;return ot&&at}return!1}),_=Bt(()=>u.value&&e.input?u.value():n.modelValue),b=Bt(()=>{var W;const ot=g("required");return ot==="auto"?(W=n.rules)==null?void 0:W.some(at=>at.required):ot}),S=W=>W.reduce((ot,at)=>ot.then(()=>{if(s.status==="failed")return;let{value:Rt}=_;if(at.formatter&&(Rt=at.formatter(Rt,at)),!p1(Rt,at)){s.status="failed",s.validateMessage=Ph(Rt,at);return}if(at.validator)return Tg(Rt)&&at.validateEmpty===!1?void 0:m1(Rt,at).then(Wt=>{Wt&&typeof Wt=="string"?(s.status="failed",s.validateMessage=Wt):Wt===!1&&(s.status="failed",s.validateMessage=Ph(Rt,at))})}),Promise.resolve()),y=()=>{s.status="unvalidated",s.validateMessage=""},w=()=>t("endValidate",{status:s.status,message:s.validateMessage}),k=(W=n.rules)=>new Promise(ot=>{y(),W?(t("startValidate"),S(W).then(()=>{s.status==="failed"?(ot({name:n.name,message:s.validateMessage}),w()):(s.status="passed",ot(),w())})):ot()}),O=W=>{if(f&&n.rules){const{validateTrigger:ot}=f.props,at=Ah(ot).includes(W),Rt=n.rules.filter(Wt=>Wt.trigger?Ah(Wt.trigger).includes(W):at);Rt.length&&k(Rt)}},E=W=>{var ot;const{maxlength:at}=n;if(vn(at)&&$n(W)>+at){const Rt=h();if(Rt&&$n(Rt)===+at)return Rt;const Wt=(ot=a.value)==null?void 0:ot.selectionEnd;if(s.focused&&Wt){const de=[...W],ke=de.length-+at;return de.splice(Wt-ke,ke),de.join("")}return Hl(W,+at)}return W},R=(W,ot="onChange")=>{var at,Rt;const Wt=W;W=E(W);const de=$n(Wt)-$n(W);if(n.type==="number"||n.type==="digit"){const It=n.type==="number";if(W=Ew(W,It,It),ot==="onBlur"&&W!==""&&(n.min!==void 0||n.max!==void 0)){const Gt=ts(+W,(at=n.min)!=null?at:-1/0,(Rt=n.max)!=null?Rt:1/0);+W!==Gt&&(W=Gt.toString())}}let ke=0;if(n.formatter&&ot===n.formatTrigger){const{formatter:It,maxlength:Gt}=n;if(W=It(W),vn(Gt)&&$n(W)>+Gt&&(W=Hl(W,+Gt)),a.value&&s.focused){const{selectionEnd:yn}=a.value,ge=Hl(Wt,yn);ke=$n(It(ge))-$n(ge)}}if(a.value&&a.value.value!==W)if(s.focused){let{selectionStart:It,selectionEnd:Gt}=a.value;if(a.value.value=W,vn(It)&&vn(Gt)){const yn=$n(W);de?(It-=de,Gt-=de):ke&&(It+=ke,Gt+=ke),a.value.setSelectionRange(Math.min(It,yn),Math.min(Gt,yn))}}else a.value.value=W;W!==n.modelValue&&t("update:modelValue",W)},T=W=>{W.target.composing||R(W.target.value)},N=()=>{var W;return(W=a.value)==null?void 0:W.blur()},F=()=>{var W;return(W=a.value)==null?void 0:W.focus()},P=()=>{const W=a.value;n.type==="textarea"&&n.autosize&&W&&v1(W,n.autosize)},$=W=>{s.focused=!0,t("focus",W),sn(P),g("readonly")&&N()},K=W=>{s.focused=!1,R(h(),"onBlur"),t("blur",W),!g("readonly")&&(O("onBlur"),sn(P),Iw())},X=W=>t("clickInput",W),j=W=>t("clickLeftIcon",W),rt=W=>t("clickRightIcon",W),vt=W=>{Fi(W),t("update:modelValue",""),t("clear",W)},st=Bt(()=>{if(typeof n.error=="boolean")return n.error;if(f&&f.props.showError&&s.status==="failed")return!0}),ft=Bt(()=>{const W=g("labelWidth"),ot=g("labelAlign");if(W&&ot!=="top")return{width:Qo(W)}}),bt=W=>{W.keyCode===13&&(!(f&&f.props.submitOnEnter)&&n.type!=="textarea"&&Fi(W),n.type==="search"&&N()),t("keypress",W)},Ct=()=>n.id||`${i}-input`,ne=()=>s.status,Qt=()=>{const W=Je("control",[g("inputAlign"),{error:st.value,custom:!!e.input,"min-height":n.type==="textarea"&&!n.autosize}]);if(e.input)return q("div",{class:W,onClick:X},[e.input()]);const ot={id:Ct(),ref:a,name:n.name,rows:n.rows!==void 0?+n.rows:void 0,class:W,disabled:g("disabled"),readonly:g("readonly"),autofocus:n.autofocus,placeholder:n.placeholder,autocomplete:n.autocomplete,autocapitalize:n.autocapitalize,autocorrect:n.autocorrect,enterkeyhint:n.enterkeyhint,spellcheck:n.spellcheck,"aria-labelledby":n.label?`${i}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:K,onFocus:$,onInput:T,onClick:X,onChange:Lh,onKeypress:bt,onCompositionend:Lh,onCompositionstart:_1};return n.type==="textarea"?q("textarea",fs(ot,{inputmode:n.inputmode}),null):q("input",fs(b1(n.type,n.inputmode),ot),null)},U=()=>{const W=e["left-icon"];if(n.leftIcon||W)return q("div",{class:Je("left-icon"),onClick:j},[W?W():q(di,{name:n.leftIcon,classPrefix:n.iconPrefix},null)])},mt=()=>{const W=e["right-icon"];if(n.rightIcon||W)return q("div",{class:Je("right-icon"),onClick:rt},[W?W():q(di,{name:n.rightIcon,classPrefix:n.iconPrefix},null)])},xt=()=>{if(n.showWordLimit&&n.maxlength){const W=$n(h());return q("div",{class:Je("word-limit")},[q("span",{class:Je("word-num")},[W]),fc("/"),n.maxlength])}},Lt=()=>{if(f&&f.props.showErrorMessage===!1)return;const W=n.errorMessage||s.validateMessage;if(W){const ot=e["error-message"],at=g("errorMessageAlign");return q("div",{class:Je("error-message",at)},[ot?ot({message:W}):W])}},Tt=()=>{const W=g("labelWidth"),ot=g("labelAlign"),at=g("colon")?":":"";if(e.label)return[e.label(),at];if(n.label)return q("label",{id:`${i}-label`,for:e.input?void 0:Ct(),"data-allow-mismatch":"attribute",onClick:Rt=>{Fi(Rt),F()},style:ot==="top"&&W?{width:Qo(W)}:void 0},[n.label+at])},Xt=()=>[q("div",{class:Je("body")},[Qt(),m.value&&q(di,{ref:l,name:n.clearIcon,class:Je("clear")},null),mt(),e.button&&q("div",{class:Je("button")},[e.button()])]),xt(),Lt()];return xs({blur:N,focus:F,validate:k,formValue:_,resetValidation:y,getValidationStatus:ne}),Ow(Pw,{customValue:u,resetValidation:y,validateWithTrigger:O}),An(()=>n.modelValue,()=>{R(h()),y(),O("onChange"),sn(P)}),pi(()=>{R(h(),n.formatTrigger),sn(P)}),ha("touchstart",vt,{target:Bt(()=>{var W;return(W=l.value)==null?void 0:W.$el})}),()=>{const W=g("disabled"),ot=g("labelAlign"),at=U(),Rt=()=>{const Wt=Tt();return ot==="top"?[at,Wt].filter(Boolean):Wt||[]};return q(g1,{size:n.size,class:Je({error:st.value,disabled:W,[`label-${ot}`]:ot}),center:n.center,border:n.border,isLink:n.isLink,clickable:n.clickable,titleStyle:ft.value,valueClass:Je("value"),titleClass:[Je("label",[ot,{required:b.value}]),n.labelClass],arrowDirection:n.arrowDirection},{icon:at&&ot!=="top"?()=>at:null,title:Rt,value:Xt,extra:e.extra})}}});const S1=Zn(w1),C1={gap:{type:[Number,Object],default:24},icon:String,axis:Ye("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[k1,Rh]=jn("floating-bubble");var D1=un({name:k1,inheritAttrs:!1,props:C1,emits:["click","update:offset","offsetChange"],setup(n,{slots:t,emit:e,attrs:i}){const s=qt(),a=qt({x:0,y:0,width:0,height:0}),l=Bt(()=>uc(n.gap)?n.gap.x:n.gap),u=Bt(()=>uc(n.gap)?n.gap.y:n.gap),f=Bt(()=>({top:u.value,right:Fo.value-a.value.width-l.value,bottom:Bo.value-a.value.height-u.value,left:l.value})),h=qt(!1);let g=!1;const m=Bt(()=>{const T={},N=Qo(a.value.x),F=Qo(a.value.y);return T.transform=`translate3d(${N}, ${F}, 0)`,(h.value||!g)&&(T.transition="none"),T}),_=()=>{if(!R.value)return;const{width:T,height:N}=pg(s.value),{offset:F}=n;a.value={x:F?F.x:Fo.value-T-l.value,y:F?F.y:Bo.value-N-u.value,width:T,height:N}},b=Tc();let S=0,y=0;const w=T=>{b.start(T),h.value=!0,S=a.value.x,y=a.value.y};ha("touchmove",T=>{if(T.preventDefault(),b.move(T),n.axis!=="lock"&&!b.isTap.value){if(n.axis==="x"||n.axis==="xy"){let F=S+b.deltaX.value;F<f.value.left&&(F=f.value.left),F>f.value.right&&(F=f.value.right),a.value.x=F}if(n.axis==="y"||n.axis==="xy"){let F=y+b.deltaY.value;F<f.value.top&&(F=f.value.top),F>f.value.bottom&&(F=f.value.bottom),a.value.y=F}const N=hs(a.value,["x","y"]);e("update:offset",N)}},{target:s});const O=()=>{h.value=!1,sn(()=>{if(n.magnetic==="x"){const T=Eh([f.value.left,f.value.right],a.value.x);a.value.x=T}if(n.magnetic==="y"){const T=Eh([f.value.top,f.value.bottom],a.value.y);a.value.y=T}if(!b.isTap.value){const T=hs(a.value,["x","y"]);e("update:offset",T),(S!==T.x||y!==T.y)&&e("offsetChange",T)}})},E=T=>{b.isTap.value?e("click",T):T.stopPropagation()};pi(()=>{_(),sn(()=>{g=!0})}),An([Fo,Bo,l,u,()=>n.offset],_,{deep:!0});const R=qt(!0);return hg(()=>{R.value=!0}),dg(()=>{n.teleport&&(R.value=!1)}),()=>{const T=Lw(q("div",fs({class:Rh(),ref:s,onTouchstartPassive:w,onTouchend:O,onTouchcancel:O,onClickCapture:E,style:m.value},i),[t.default?t.default():q(Fw,{name:n.icon,class:Rh("icon")},null)]),[[Rw,R.value]]);return n.teleport?q(Bw,{to:n.teleport},{default:()=>[T]}):T}}});const M1=Zn(D1),[T1,Wr,A1]=jn("search"),O1=vr({},Ic,{label:String,shape:Ye("square"),leftIcon:Ye("search"),clearable:Xn,actionText:String,background:String,showAction:Boolean});var E1=un({name:T1,props:O1,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(n,{emit:t,slots:e,attrs:i}){const s=Cg(),a=qt(),l=()=>{e.action||(t("update:modelValue",""),t("cancel"))},u=T=>{T.keyCode===13&&(Fi(T),t("search",n.modelValue))},f=()=>n.id||`${s}-input`,h=()=>{if(e.label||n.label)return q("label",{class:Wr("label"),for:f(),"data-allow-mismatch":"attribute"},[e.label?e.label():n.label])},g=()=>{if(n.showAction){const T=n.actionText||A1("cancel");return q("div",{class:Wr("action"),role:"button",tabindex:0,onClick:l},[e.action?e.action():T])}},m=()=>{var T;return(T=a.value)==null?void 0:T.blur()},_=()=>{var T;return(T=a.value)==null?void 0:T.focus()},b=T=>t("blur",T),S=T=>t("focus",T),y=T=>t("clear",T),w=T=>t("clickInput",T),k=T=>t("clickLeftIcon",T),O=T=>t("clickRightIcon",T),E=Object.keys(Ic),R=()=>{const T=vr({},i,hs(n,E),{id:f()}),N=F=>t("update:modelValue",F);return q(S1,fs({ref:a,type:"search",class:Wr("field",{"with-message":T.errorMessage}),border:!1,onBlur:b,onFocus:S,onClear:y,onKeypress:u,onClickInput:w,onClickLeftIcon:k,onClickRightIcon:O,"onUpdate:modelValue":N},T),hs(e,["left-icon","right-icon"]))};return xs({focus:_,blur:m}),()=>{var T;return q("div",{class:Wr({"show-action":n.showAction}),style:{background:n.background}},[(T=e.left)==null?void 0:T.call(e),q("div",{class:Wr("content",n.shape)},[h(),R()]),g()])}}});const I1=Zn(E1),P1=n=>n?.includes("/"),L1=[...zw,"round","closeOnPopstate","safeAreaInsetBottom"],R1={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[F1,mn,B1]=jn("share-sheet"),z1=vr({},Nw,{title:String,round:Xn,options:Hw(),cancelText:String,description:String,closeOnPopstate:Xn,safeAreaInsetBottom:Xn});var W1=un({name:F1,props:z1,emits:["cancel","select","update:show"],setup(n,{emit:t,slots:e}){const i=_=>t("update:show",_),s=()=>{i(!1),t("cancel")},a=(_,b)=>t("select",_,b),l=()=>{const _=e.title?e.title():n.title,b=e.description?e.description():n.description;if(_||b)return q("div",{class:mn("header")},[_&&q("h2",{class:mn("title")},[_]),b&&q("span",{class:mn("description")},[b])])},u=_=>P1(_)?q("img",{src:_,class:mn("image-icon")},null):q("div",{class:mn("icon",[_])},[q(di,{name:R1[_]||_},null)]),f=(_,b)=>{const{name:S,icon:y,className:w,description:k}=_;return q("div",{role:"button",tabindex:0,class:[mn("option"),w,$w],onClick:()=>a(_,b)},[u(y),S&&q("span",{class:mn("name")},[S]),k&&q("span",{class:mn("option-description")},[k])])},h=(_,b)=>q("div",{class:mn("options",{border:b})},[_.map(f)]),g=()=>{const{options:_}=n;return Array.isArray(_[0])?_.map((b,S)=>h(b,S!==0)):h(_)},m=()=>{var _;const b=(_=n.cancelText)!=null?_:B1("cancel");if(e.cancel||b)return q("button",{type:"button",class:mn("cancel"),onClick:s},[e.cancel?e.cancel():b])};return()=>q(Ww,fs({class:mn(),position:"bottom","onUpdate:show":i},hs(n,L1)),{default:()=>[l(),g(),m()]})}});const N1=Zn(W1),[H1,$l]=jn("swipe-cell"),$1={name:Jr(""),disabled:Boolean,leftWidth:xn,rightWidth:xn,beforeClose:Function,stopPropagation:Boolean};var Y1=un({name:H1,props:$1,emits:["open","close","click"],setup(n,{emit:t,slots:e}){let i,s,a,l;const u=qt(),f=qt(),h=qt(),g=fa({offset:0,dragging:!1}),m=Tc(),_=P=>P.value?pg(P).width:0,b=Bt(()=>vn(n.leftWidth)?+n.leftWidth:_(f)),S=Bt(()=>vn(n.rightWidth)?+n.rightWidth:_(h)),y=P=>{g.offset=P==="left"?b.value:-S.value,i||(i=!0,t("open",{name:n.name,position:P}))},w=P=>{g.offset=0,i&&(i=!1,t("close",{name:n.name,position:P}))},k=P=>{const $=Math.abs(g.offset),K=.15,X=i?1-K:K,j=P==="left"?b.value:S.value;j&&$>j*X?y(P):w(P)},O=P=>{n.disabled||(a=g.offset,m.start(P))},E=P=>{if(n.disabled)return;const{deltaX:$}=m;m.move(P),m.isHorizontal()&&(s=!0,g.dragging=!0,(!i||$.value*a<0)&&Fi(P,n.stopPropagation),g.offset=ts($.value+a,-S.value,b.value))},R=()=>{g.dragging&&(g.dragging=!1,k(g.offset>0?"left":"right"),setTimeout(()=>{s=!1},0))},T=(P="outside",$)=>{l||(t("click",P),i&&!s&&(l=!0,Uw(n.beforeClose,{args:[{event:$,name:n.name,position:P}],done:()=>{l=!1,w(P)},canceled:()=>l=!1,error:()=>l=!1})))},N=P=>$=>{(s||i)&&$.stopPropagation(),!s&&T(P,$)},F=(P,$)=>{const K=e[P];if(K)return q("div",{ref:$,class:$l(P),onClick:N(P)},[K()])};return xs({open:y,close:w}),Yw(u,P=>T("outside",P),{eventName:"touchstart"}),ha("touchmove",E,{target:u}),()=>{var P;const $={transform:`translate3d(${g.offset}px, 0, 0)`,transitionDuration:g.dragging?"0s":".6s"};return q("div",{ref:u,class:$l(),onClick:N("cell"),onTouchstartPassive:O,onTouchend:R,onTouchcancel:R},[q("div",{class:$l("wrapper"),style:$},[F("left",f),(P=e.default)==null?void 0:P.call(e),F("right",h)])])}}});const U1=Zn(Y1);async function V1(){console.log("開始執行 getAllStocks");const n=await mg("all-stocks");if(n&&n.length>0)return console.log("從 IndexedDB 獲取的股票資料:",n),n;{console.log("all-stocks store 無資料，開始從 stock_list.json 獲取");const e=(await _g.get("stocks/stock_list.json")).data;for(const i of e)await Ac("all-stocks",i);return console.log("股票資料已快取到 IndexedDB:",e),e}}async function q1(n){return await getFromStore("all-stocks",n)}async function X1(n){return await Ac("all-stocks",n)}var Vr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var G1=Vr.exports,Fh;function K1(){return Fh||(Fh=1,function(n,t){(function(){var e,i="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,g="__lodash_placeholder__",m=1,_=2,b=4,S=1,y=2,w=1,k=2,O=4,E=8,R=16,T=32,N=64,F=128,P=256,$=512,K=30,X="...",j=800,rt=16,vt=1,st=2,ft=3,bt=1/0,Ct=9007199254740991,ne=17976931348623157e292,Qt=NaN,U=4294967295,mt=U-1,xt=U>>>1,Lt=[["ary",F],["bind",w],["bindKey",k],["curry",E],["curryRight",R],["flip",$],["partial",T],["partialRight",N],["rearg",P]],Tt="[object Arguments]",Xt="[object Array]",W="[object AsyncFunction]",ot="[object Boolean]",at="[object Date]",Rt="[object DOMException]",Wt="[object Error]",de="[object Function]",ke="[object GeneratorFunction]",It="[object Map]",Gt="[object Number]",yn="[object Null]",ge="[object Object]",Hi="[object Promise]",xr="[object Proxy]",$i="[object RegExp]",fn="[object Set]",yr="[object String]",ks="[object Symbol]",Bp="[object Undefined]",wr="[object WeakMap]",zp="[object WeakSet]",Sr="[object ArrayBuffer]",Yi="[object DataView]",va="[object Float32Array]",ba="[object Float64Array]",xa="[object Int8Array]",ya="[object Int16Array]",wa="[object Int32Array]",Sa="[object Uint8Array]",Ca="[object Uint8ClampedArray]",ka="[object Uint16Array]",Da="[object Uint32Array]",Wp=/\b__p \+= '';/g,Np=/\b(__p \+=) '' \+/g,Hp=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Qc=/&(?:amp|lt|gt|quot|#39);/g,Jc=/[&<>"']/g,$p=RegExp(Qc.source),Yp=RegExp(Jc.source),Up=/<%-([\s\S]+?)%>/g,Vp=/<%([\s\S]+?)%>/g,tu=/<%=([\s\S]+?)%>/g,qp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xp=/^\w*$/,Gp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ma=/[\\^$.*+?()[\]{}|]/g,Kp=RegExp(Ma.source),Ta=/^\s+/,jp=/\s/,Zp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Qp=/\{\n\/\* \[wrapped with (.+)\] \*/,Jp=/,? & /,tm=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,em=/[()=,{}\[\]\/\s]/,nm=/\\(\\)?/g,im=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,eu=/\w*$/,rm=/^[-+]0x[0-9a-f]+$/i,sm=/^0b[01]+$/i,om=/^\[object .+?Constructor\]$/,am=/^0o[0-7]+$/i,lm=/^(?:0|[1-9]\d*)$/,cm=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ds=/($^)/,um=/['\n\r\u2028\u2029\\]/g,Ms="\\ud800-\\udfff",fm="\\u0300-\\u036f",hm="\\ufe20-\\ufe2f",dm="\\u20d0-\\u20ff",nu=fm+hm+dm,iu="\\u2700-\\u27bf",ru="a-z\\xdf-\\xf6\\xf8-\\xff",gm="\\xac\\xb1\\xd7\\xf7",pm="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",mm="\\u2000-\\u206f",_m=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",su="A-Z\\xc0-\\xd6\\xd8-\\xde",ou="\\ufe0e\\ufe0f",au=gm+pm+mm+_m,Aa="['’]",vm="["+Ms+"]",lu="["+au+"]",Ts="["+nu+"]",cu="\\d+",bm="["+iu+"]",uu="["+ru+"]",fu="[^"+Ms+au+cu+iu+ru+su+"]",Oa="\\ud83c[\\udffb-\\udfff]",xm="(?:"+Ts+"|"+Oa+")",hu="[^"+Ms+"]",Ea="(?:\\ud83c[\\udde6-\\uddff]){2}",Ia="[\\ud800-\\udbff][\\udc00-\\udfff]",Ui="["+su+"]",du="\\u200d",gu="(?:"+uu+"|"+fu+")",ym="(?:"+Ui+"|"+fu+")",pu="(?:"+Aa+"(?:d|ll|m|re|s|t|ve))?",mu="(?:"+Aa+"(?:D|LL|M|RE|S|T|VE))?",_u=xm+"?",vu="["+ou+"]?",wm="(?:"+du+"(?:"+[hu,Ea,Ia].join("|")+")"+vu+_u+")*",Sm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bu=vu+_u+wm,km="(?:"+[bm,Ea,Ia].join("|")+")"+bu,Dm="(?:"+[hu+Ts+"?",Ts,Ea,Ia,vm].join("|")+")",Mm=RegExp(Aa,"g"),Tm=RegExp(Ts,"g"),Pa=RegExp(Oa+"(?="+Oa+")|"+Dm+bu,"g"),Am=RegExp([Ui+"?"+uu+"+"+pu+"(?="+[lu,Ui,"$"].join("|")+")",ym+"+"+mu+"(?="+[lu,Ui+gu,"$"].join("|")+")",Ui+"?"+gu+"+"+pu,Ui+"+"+mu,Cm,Sm,cu,km].join("|"),"g"),Om=RegExp("["+du+Ms+nu+ou+"]"),Em=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Im=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pm=-1,Nt={};Nt[va]=Nt[ba]=Nt[xa]=Nt[ya]=Nt[wa]=Nt[Sa]=Nt[Ca]=Nt[ka]=Nt[Da]=!0,Nt[Tt]=Nt[Xt]=Nt[Sr]=Nt[ot]=Nt[Yi]=Nt[at]=Nt[Wt]=Nt[de]=Nt[It]=Nt[Gt]=Nt[ge]=Nt[$i]=Nt[fn]=Nt[yr]=Nt[wr]=!1;var Ft={};Ft[Tt]=Ft[Xt]=Ft[Sr]=Ft[Yi]=Ft[ot]=Ft[at]=Ft[va]=Ft[ba]=Ft[xa]=Ft[ya]=Ft[wa]=Ft[It]=Ft[Gt]=Ft[ge]=Ft[$i]=Ft[fn]=Ft[yr]=Ft[ks]=Ft[Sa]=Ft[Ca]=Ft[ka]=Ft[Da]=!0,Ft[Wt]=Ft[de]=Ft[wr]=!1;var Lm={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Rm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Bm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zm=parseFloat,Wm=parseInt,xu=typeof mo=="object"&&mo&&mo.Object===Object&&mo,Nm=typeof self=="object"&&self&&self.Object===Object&&self,ue=xu||Nm||Function("return this")(),La=t&&!t.nodeType&&t,_i=La&&!0&&n&&!n.nodeType&&n,yu=_i&&_i.exports===La,Ra=yu&&xu.process,Ve=function(){try{var M=_i&&_i.require&&_i.require("util").types;return M||Ra&&Ra.binding&&Ra.binding("util")}catch{}}(),wu=Ve&&Ve.isArrayBuffer,Su=Ve&&Ve.isDate,Cu=Ve&&Ve.isMap,ku=Ve&&Ve.isRegExp,Du=Ve&&Ve.isSet,Mu=Ve&&Ve.isTypedArray;function Re(M,L,I){switch(I.length){case 0:return M.call(L);case 1:return M.call(L,I[0]);case 2:return M.call(L,I[0],I[1]);case 3:return M.call(L,I[0],I[1],I[2])}return M.apply(L,I)}function Hm(M,L,I,G){for(var it=-1,kt=M==null?0:M.length;++it<kt;){var re=M[it];L(G,re,I(re),M)}return G}function qe(M,L){for(var I=-1,G=M==null?0:M.length;++I<G&&L(M[I],I,M)!==!1;);return M}function $m(M,L){for(var I=M==null?0:M.length;I--&&L(M[I],I,M)!==!1;);return M}function Tu(M,L){for(var I=-1,G=M==null?0:M.length;++I<G;)if(!L(M[I],I,M))return!1;return!0}function Jn(M,L){for(var I=-1,G=M==null?0:M.length,it=0,kt=[];++I<G;){var re=M[I];L(re,I,M)&&(kt[it++]=re)}return kt}function As(M,L){var I=M==null?0:M.length;return!!I&&Vi(M,L,0)>-1}function Fa(M,L,I){for(var G=-1,it=M==null?0:M.length;++G<it;)if(I(L,M[G]))return!0;return!1}function $t(M,L){for(var I=-1,G=M==null?0:M.length,it=Array(G);++I<G;)it[I]=L(M[I],I,M);return it}function ti(M,L){for(var I=-1,G=L.length,it=M.length;++I<G;)M[it+I]=L[I];return M}function Ba(M,L,I,G){var it=-1,kt=M==null?0:M.length;for(G&&kt&&(I=M[++it]);++it<kt;)I=L(I,M[it],it,M);return I}function Ym(M,L,I,G){var it=M==null?0:M.length;for(G&&it&&(I=M[--it]);it--;)I=L(I,M[it],it,M);return I}function za(M,L){for(var I=-1,G=M==null?0:M.length;++I<G;)if(L(M[I],I,M))return!0;return!1}var Um=Wa("length");function Vm(M){return M.split("")}function qm(M){return M.match(tm)||[]}function Au(M,L,I){var G;return I(M,function(it,kt,re){if(L(it,kt,re))return G=kt,!1}),G}function Os(M,L,I,G){for(var it=M.length,kt=I+(G?1:-1);G?kt--:++kt<it;)if(L(M[kt],kt,M))return kt;return-1}function Vi(M,L,I){return L===L?r_(M,L,I):Os(M,Ou,I)}function Xm(M,L,I,G){for(var it=I-1,kt=M.length;++it<kt;)if(G(M[it],L))return it;return-1}function Ou(M){return M!==M}function Eu(M,L){var I=M==null?0:M.length;return I?Ha(M,L)/I:Qt}function Wa(M){return function(L){return L==null?e:L[M]}}function Na(M){return function(L){return M==null?e:M[L]}}function Iu(M,L,I,G,it){return it(M,function(kt,re,Pt){I=G?(G=!1,kt):L(I,kt,re,Pt)}),I}function Gm(M,L){var I=M.length;for(M.sort(L);I--;)M[I]=M[I].value;return M}function Ha(M,L){for(var I,G=-1,it=M.length;++G<it;){var kt=L(M[G]);kt!==e&&(I=I===e?kt:I+kt)}return I}function $a(M,L){for(var I=-1,G=Array(M);++I<M;)G[I]=L(I);return G}function Km(M,L){return $t(L,function(I){return[I,M[I]]})}function Pu(M){return M&&M.slice(0,Bu(M)+1).replace(Ta,"")}function Fe(M){return function(L){return M(L)}}function Ya(M,L){return $t(L,function(I){return M[I]})}function Cr(M,L){return M.has(L)}function Lu(M,L){for(var I=-1,G=M.length;++I<G&&Vi(L,M[I],0)>-1;);return I}function Ru(M,L){for(var I=M.length;I--&&Vi(L,M[I],0)>-1;);return I}function jm(M,L){for(var I=M.length,G=0;I--;)M[I]===L&&++G;return G}var Zm=Na(Lm),Qm=Na(Rm);function Jm(M){return"\\"+Bm[M]}function t_(M,L){return M==null?e:M[L]}function qi(M){return Om.test(M)}function e_(M){return Em.test(M)}function n_(M){for(var L,I=[];!(L=M.next()).done;)I.push(L.value);return I}function Ua(M){var L=-1,I=Array(M.size);return M.forEach(function(G,it){I[++L]=[it,G]}),I}function Fu(M,L){return function(I){return M(L(I))}}function ei(M,L){for(var I=-1,G=M.length,it=0,kt=[];++I<G;){var re=M[I];(re===L||re===g)&&(M[I]=g,kt[it++]=I)}return kt}function Es(M){var L=-1,I=Array(M.size);return M.forEach(function(G){I[++L]=G}),I}function i_(M){var L=-1,I=Array(M.size);return M.forEach(function(G){I[++L]=[G,G]}),I}function r_(M,L,I){for(var G=I-1,it=M.length;++G<it;)if(M[G]===L)return G;return-1}function s_(M,L,I){for(var G=I+1;G--;)if(M[G]===L)return G;return G}function Xi(M){return qi(M)?a_(M):Um(M)}function hn(M){return qi(M)?l_(M):Vm(M)}function Bu(M){for(var L=M.length;L--&&jp.test(M.charAt(L)););return L}var o_=Na(Fm);function a_(M){for(var L=Pa.lastIndex=0;Pa.test(M);)++L;return L}function l_(M){return M.match(Pa)||[]}function c_(M){return M.match(Am)||[]}var u_=function M(L){L=L==null?ue:Gi.defaults(ue.Object(),L,Gi.pick(ue,Im));var I=L.Array,G=L.Date,it=L.Error,kt=L.Function,re=L.Math,Pt=L.Object,Va=L.RegExp,f_=L.String,Xe=L.TypeError,Is=I.prototype,h_=kt.prototype,Ki=Pt.prototype,Ps=L["__core-js_shared__"],Ls=h_.toString,Ot=Ki.hasOwnProperty,d_=0,zu=function(){var r=/[^.]+$/.exec(Ps&&Ps.keys&&Ps.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Rs=Ki.toString,g_=Ls.call(Pt),p_=ue._,m_=Va("^"+Ls.call(Ot).replace(Ma,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fs=yu?L.Buffer:e,ni=L.Symbol,Bs=L.Uint8Array,Wu=Fs?Fs.allocUnsafe:e,zs=Fu(Pt.getPrototypeOf,Pt),Nu=Pt.create,Hu=Ki.propertyIsEnumerable,Ws=Is.splice,$u=ni?ni.isConcatSpreadable:e,kr=ni?ni.iterator:e,vi=ni?ni.toStringTag:e,Ns=function(){try{var r=Si(Pt,"defineProperty");return r({},"",{}),r}catch{}}(),__=L.clearTimeout!==ue.clearTimeout&&L.clearTimeout,v_=G&&G.now!==ue.Date.now&&G.now,b_=L.setTimeout!==ue.setTimeout&&L.setTimeout,Hs=re.ceil,$s=re.floor,qa=Pt.getOwnPropertySymbols,x_=Fs?Fs.isBuffer:e,Yu=L.isFinite,y_=Is.join,w_=Fu(Pt.keys,Pt),se=re.max,pe=re.min,S_=G.now,C_=L.parseInt,Uu=re.random,k_=Is.reverse,Xa=Si(L,"DataView"),Dr=Si(L,"Map"),Ga=Si(L,"Promise"),ji=Si(L,"Set"),Mr=Si(L,"WeakMap"),Tr=Si(Pt,"create"),Ys=Mr&&new Mr,Zi={},D_=Ci(Xa),M_=Ci(Dr),T_=Ci(Ga),A_=Ci(ji),O_=Ci(Mr),Us=ni?ni.prototype:e,Ar=Us?Us.valueOf:e,Vu=Us?Us.toString:e;function v(r){if(Kt(r)&&!lt(r)&&!(r instanceof _t)){if(r instanceof Ge)return r;if(Ot.call(r,"__wrapped__"))return Xf(r)}return new Ge(r)}var Qi=function(){function r(){}return function(o){if(!Ut(o))return{};if(Nu)return Nu(o);r.prototype=o;var c=new r;return r.prototype=e,c}}();function Vs(){}function Ge(r,o){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=e}v.templateSettings={escape:Up,evaluate:Vp,interpolate:tu,variable:"",imports:{_:v}},v.prototype=Vs.prototype,v.prototype.constructor=v,Ge.prototype=Qi(Vs.prototype),Ge.prototype.constructor=Ge;function _t(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function E_(){var r=new _t(this.__wrapped__);return r.__actions__=De(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=De(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=De(this.__views__),r}function I_(){if(this.__filtered__){var r=new _t(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function P_(){var r=this.__wrapped__.value(),o=this.__dir__,c=lt(r),d=o<0,p=c?r.length:0,x=Vv(0,p,this.__views__),C=x.start,D=x.end,A=D-C,B=d?D:C-1,z=this.__iteratees__,H=z.length,V=0,Z=pe(A,this.__takeCount__);if(!c||!d&&p==A&&Z==A)return mf(r,this.__actions__);var J=[];t:for(;A--&&V<Z;){B+=o;for(var ht=-1,tt=r[B];++ht<H;){var pt=z[ht],yt=pt.iteratee,We=pt.type,we=yt(tt);if(We==st)tt=we;else if(!we){if(We==vt)continue t;break t}}J[V++]=tt}return J}_t.prototype=Qi(Vs.prototype),_t.prototype.constructor=_t;function bi(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var d=r[o];this.set(d[0],d[1])}}function L_(){this.__data__=Tr?Tr(null):{},this.size=0}function R_(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o}function F_(r){var o=this.__data__;if(Tr){var c=o[r];return c===f?e:c}return Ot.call(o,r)?o[r]:e}function B_(r){var o=this.__data__;return Tr?o[r]!==e:Ot.call(o,r)}function z_(r,o){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=Tr&&o===e?f:o,this}bi.prototype.clear=L_,bi.prototype.delete=R_,bi.prototype.get=F_,bi.prototype.has=B_,bi.prototype.set=z_;function Pn(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var d=r[o];this.set(d[0],d[1])}}function W_(){this.__data__=[],this.size=0}function N_(r){var o=this.__data__,c=qs(o,r);if(c<0)return!1;var d=o.length-1;return c==d?o.pop():Ws.call(o,c,1),--this.size,!0}function H_(r){var o=this.__data__,c=qs(o,r);return c<0?e:o[c][1]}function $_(r){return qs(this.__data__,r)>-1}function Y_(r,o){var c=this.__data__,d=qs(c,r);return d<0?(++this.size,c.push([r,o])):c[d][1]=o,this}Pn.prototype.clear=W_,Pn.prototype.delete=N_,Pn.prototype.get=H_,Pn.prototype.has=$_,Pn.prototype.set=Y_;function Ln(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var d=r[o];this.set(d[0],d[1])}}function U_(){this.size=0,this.__data__={hash:new bi,map:new(Dr||Pn),string:new bi}}function V_(r){var o=ro(this,r).delete(r);return this.size-=o?1:0,o}function q_(r){return ro(this,r).get(r)}function X_(r){return ro(this,r).has(r)}function G_(r,o){var c=ro(this,r),d=c.size;return c.set(r,o),this.size+=c.size==d?0:1,this}Ln.prototype.clear=U_,Ln.prototype.delete=V_,Ln.prototype.get=q_,Ln.prototype.has=X_,Ln.prototype.set=G_;function xi(r){var o=-1,c=r==null?0:r.length;for(this.__data__=new Ln;++o<c;)this.add(r[o])}function K_(r){return this.__data__.set(r,f),this}function j_(r){return this.__data__.has(r)}xi.prototype.add=xi.prototype.push=K_,xi.prototype.has=j_;function dn(r){var o=this.__data__=new Pn(r);this.size=o.size}function Z_(){this.__data__=new Pn,this.size=0}function Q_(r){var o=this.__data__,c=o.delete(r);return this.size=o.size,c}function J_(r){return this.__data__.get(r)}function tv(r){return this.__data__.has(r)}function ev(r,o){var c=this.__data__;if(c instanceof Pn){var d=c.__data__;if(!Dr||d.length<s-1)return d.push([r,o]),this.size=++c.size,this;c=this.__data__=new Ln(d)}return c.set(r,o),this.size=c.size,this}dn.prototype.clear=Z_,dn.prototype.delete=Q_,dn.prototype.get=J_,dn.prototype.has=tv,dn.prototype.set=ev;function qu(r,o){var c=lt(r),d=!c&&ki(r),p=!c&&!d&&ai(r),x=!c&&!d&&!p&&nr(r),C=c||d||p||x,D=C?$a(r.length,f_):[],A=D.length;for(var B in r)(o||Ot.call(r,B))&&!(C&&(B=="length"||p&&(B=="offset"||B=="parent")||x&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||zn(B,A)))&&D.push(B);return D}function Xu(r){var o=r.length;return o?r[sl(0,o-1)]:e}function nv(r,o){return so(De(r),yi(o,0,r.length))}function iv(r){return so(De(r))}function Ka(r,o,c){(c!==e&&!gn(r[o],c)||c===e&&!(o in r))&&Rn(r,o,c)}function Or(r,o,c){var d=r[o];(!(Ot.call(r,o)&&gn(d,c))||c===e&&!(o in r))&&Rn(r,o,c)}function qs(r,o){for(var c=r.length;c--;)if(gn(r[c][0],o))return c;return-1}function rv(r,o,c,d){return ii(r,function(p,x,C){o(d,p,c(p),C)}),d}function Gu(r,o){return r&&Sn(o,ae(o),r)}function sv(r,o){return r&&Sn(o,Te(o),r)}function Rn(r,o,c){o=="__proto__"&&Ns?Ns(r,o,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[o]=c}function ja(r,o){for(var c=-1,d=o.length,p=I(d),x=r==null;++c<d;)p[c]=x?e:Ol(r,o[c]);return p}function yi(r,o,c){return r===r&&(c!==e&&(r=r<=c?r:c),o!==e&&(r=r>=o?r:o)),r}function Ke(r,o,c,d,p,x){var C,D=o&m,A=o&_,B=o&b;if(c&&(C=p?c(r,d,p,x):c(r)),C!==e)return C;if(!Ut(r))return r;var z=lt(r);if(z){if(C=Xv(r),!D)return De(r,C)}else{var H=me(r),V=H==de||H==ke;if(ai(r))return bf(r,D);if(H==ge||H==Tt||V&&!p){if(C=A||V?{}:zf(r),!D)return A?Fv(r,sv(C,r)):Rv(r,Gu(C,r))}else{if(!Ft[H])return p?r:{};C=Gv(r,H,D)}}x||(x=new dn);var Z=x.get(r);if(Z)return Z;x.set(r,C),dh(r)?r.forEach(function(tt){C.add(Ke(tt,o,c,tt,r,x))}):fh(r)&&r.forEach(function(tt,pt){C.set(pt,Ke(tt,o,c,pt,r,x))});var J=B?A?ml:pl:A?Te:ae,ht=z?e:J(r);return qe(ht||r,function(tt,pt){ht&&(pt=tt,tt=r[pt]),Or(C,pt,Ke(tt,o,c,pt,r,x))}),C}function ov(r){var o=ae(r);return function(c){return Ku(c,r,o)}}function Ku(r,o,c){var d=c.length;if(r==null)return!d;for(r=Pt(r);d--;){var p=c[d],x=o[p],C=r[p];if(C===e&&!(p in r)||!x(C))return!1}return!0}function ju(r,o,c){if(typeof r!="function")throw new Xe(l);return Br(function(){r.apply(e,c)},o)}function Er(r,o,c,d){var p=-1,x=As,C=!0,D=r.length,A=[],B=o.length;if(!D)return A;c&&(o=$t(o,Fe(c))),d?(x=Fa,C=!1):o.length>=s&&(x=Cr,C=!1,o=new xi(o));t:for(;++p<D;){var z=r[p],H=c==null?z:c(z);if(z=d||z!==0?z:0,C&&H===H){for(var V=B;V--;)if(o[V]===H)continue t;A.push(z)}else x(o,H,d)||A.push(z)}return A}var ii=Cf(wn),Zu=Cf(Qa,!0);function av(r,o){var c=!0;return ii(r,function(d,p,x){return c=!!o(d,p,x),c}),c}function Xs(r,o,c){for(var d=-1,p=r.length;++d<p;){var x=r[d],C=o(x);if(C!=null&&(D===e?C===C&&!ze(C):c(C,D)))var D=C,A=x}return A}function lv(r,o,c,d){var p=r.length;for(c=ut(c),c<0&&(c=-c>p?0:p+c),d=d===e||d>p?p:ut(d),d<0&&(d+=p),d=c>d?0:ph(d);c<d;)r[c++]=o;return r}function Qu(r,o){var c=[];return ii(r,function(d,p,x){o(d,p,x)&&c.push(d)}),c}function fe(r,o,c,d,p){var x=-1,C=r.length;for(c||(c=jv),p||(p=[]);++x<C;){var D=r[x];o>0&&c(D)?o>1?fe(D,o-1,c,d,p):ti(p,D):d||(p[p.length]=D)}return p}var Za=kf(),Ju=kf(!0);function wn(r,o){return r&&Za(r,o,ae)}function Qa(r,o){return r&&Ju(r,o,ae)}function Gs(r,o){return Jn(o,function(c){return Wn(r[c])})}function wi(r,o){o=si(o,r);for(var c=0,d=o.length;r!=null&&c<d;)r=r[Cn(o[c++])];return c&&c==d?r:e}function tf(r,o,c){var d=o(r);return lt(r)?d:ti(d,c(r))}function xe(r){return r==null?r===e?Bp:yn:vi&&vi in Pt(r)?Uv(r):ib(r)}function Ja(r,o){return r>o}function cv(r,o){return r!=null&&Ot.call(r,o)}function uv(r,o){return r!=null&&o in Pt(r)}function fv(r,o,c){return r>=pe(o,c)&&r<se(o,c)}function tl(r,o,c){for(var d=c?Fa:As,p=r[0].length,x=r.length,C=x,D=I(x),A=1/0,B=[];C--;){var z=r[C];C&&o&&(z=$t(z,Fe(o))),A=pe(z.length,A),D[C]=!c&&(o||p>=120&&z.length>=120)?new xi(C&&z):e}z=r[0];var H=-1,V=D[0];t:for(;++H<p&&B.length<A;){var Z=z[H],J=o?o(Z):Z;if(Z=c||Z!==0?Z:0,!(V?Cr(V,J):d(B,J,c))){for(C=x;--C;){var ht=D[C];if(!(ht?Cr(ht,J):d(r[C],J,c)))continue t}V&&V.push(J),B.push(Z)}}return B}function hv(r,o,c,d){return wn(r,function(p,x,C){o(d,c(p),x,C)}),d}function Ir(r,o,c){o=si(o,r),r=$f(r,o);var d=r==null?r:r[Cn(Ze(o))];return d==null?e:Re(d,r,c)}function ef(r){return Kt(r)&&xe(r)==Tt}function dv(r){return Kt(r)&&xe(r)==Sr}function gv(r){return Kt(r)&&xe(r)==at}function Pr(r,o,c,d,p){return r===o?!0:r==null||o==null||!Kt(r)&&!Kt(o)?r!==r&&o!==o:pv(r,o,c,d,Pr,p)}function pv(r,o,c,d,p,x){var C=lt(r),D=lt(o),A=C?Xt:me(r),B=D?Xt:me(o);A=A==Tt?ge:A,B=B==Tt?ge:B;var z=A==ge,H=B==ge,V=A==B;if(V&&ai(r)){if(!ai(o))return!1;C=!0,z=!1}if(V&&!z)return x||(x=new dn),C||nr(r)?Rf(r,o,c,d,p,x):$v(r,o,A,c,d,p,x);if(!(c&S)){var Z=z&&Ot.call(r,"__wrapped__"),J=H&&Ot.call(o,"__wrapped__");if(Z||J){var ht=Z?r.value():r,tt=J?o.value():o;return x||(x=new dn),p(ht,tt,c,d,x)}}return V?(x||(x=new dn),Yv(r,o,c,d,p,x)):!1}function mv(r){return Kt(r)&&me(r)==It}function el(r,o,c,d){var p=c.length,x=p,C=!d;if(r==null)return!x;for(r=Pt(r);p--;){var D=c[p];if(C&&D[2]?D[1]!==r[D[0]]:!(D[0]in r))return!1}for(;++p<x;){D=c[p];var A=D[0],B=r[A],z=D[1];if(C&&D[2]){if(B===e&&!(A in r))return!1}else{var H=new dn;if(d)var V=d(B,z,A,r,o,H);if(!(V===e?Pr(z,B,S|y,d,H):V))return!1}}return!0}function nf(r){if(!Ut(r)||Qv(r))return!1;var o=Wn(r)?m_:om;return o.test(Ci(r))}function _v(r){return Kt(r)&&xe(r)==$i}function vv(r){return Kt(r)&&me(r)==fn}function bv(r){return Kt(r)&&fo(r.length)&&!!Nt[xe(r)]}function rf(r){return typeof r=="function"?r:r==null?Ae:typeof r=="object"?lt(r)?af(r[0],r[1]):of(r):Dh(r)}function nl(r){if(!Fr(r))return w_(r);var o=[];for(var c in Pt(r))Ot.call(r,c)&&c!="constructor"&&o.push(c);return o}function xv(r){if(!Ut(r))return nb(r);var o=Fr(r),c=[];for(var d in r)d=="constructor"&&(o||!Ot.call(r,d))||c.push(d);return c}function il(r,o){return r<o}function sf(r,o){var c=-1,d=Me(r)?I(r.length):[];return ii(r,function(p,x,C){d[++c]=o(p,x,C)}),d}function of(r){var o=vl(r);return o.length==1&&o[0][2]?Nf(o[0][0],o[0][1]):function(c){return c===r||el(c,r,o)}}function af(r,o){return xl(r)&&Wf(o)?Nf(Cn(r),o):function(c){var d=Ol(c,r);return d===e&&d===o?El(c,r):Pr(o,d,S|y)}}function Ks(r,o,c,d,p){r!==o&&Za(o,function(x,C){if(p||(p=new dn),Ut(x))yv(r,o,C,c,Ks,d,p);else{var D=d?d(wl(r,C),x,C+"",r,o,p):e;D===e&&(D=x),Ka(r,C,D)}},Te)}function yv(r,o,c,d,p,x,C){var D=wl(r,c),A=wl(o,c),B=C.get(A);if(B){Ka(r,c,B);return}var z=x?x(D,A,c+"",r,o,C):e,H=z===e;if(H){var V=lt(A),Z=!V&&ai(A),J=!V&&!Z&&nr(A);z=A,V||Z||J?lt(D)?z=D:Jt(D)?z=De(D):Z?(H=!1,z=bf(A,!0)):J?(H=!1,z=xf(A,!0)):z=[]:zr(A)||ki(A)?(z=D,ki(D)?z=mh(D):(!Ut(D)||Wn(D))&&(z=zf(A))):H=!1}H&&(C.set(A,z),p(z,A,d,x,C),C.delete(A)),Ka(r,c,z)}function lf(r,o){var c=r.length;if(c)return o+=o<0?c:0,zn(o,c)?r[o]:e}function cf(r,o,c){o.length?o=$t(o,function(x){return lt(x)?function(C){return wi(C,x.length===1?x[0]:x)}:x}):o=[Ae];var d=-1;o=$t(o,Fe(Q()));var p=sf(r,function(x,C,D){var A=$t(o,function(B){return B(x)});return{criteria:A,index:++d,value:x}});return Gm(p,function(x,C){return Lv(x,C,c)})}function wv(r,o){return uf(r,o,function(c,d){return El(r,d)})}function uf(r,o,c){for(var d=-1,p=o.length,x={};++d<p;){var C=o[d],D=wi(r,C);c(D,C)&&Lr(x,si(C,r),D)}return x}function Sv(r){return function(o){return wi(o,r)}}function rl(r,o,c,d){var p=d?Xm:Vi,x=-1,C=o.length,D=r;for(r===o&&(o=De(o)),c&&(D=$t(r,Fe(c)));++x<C;)for(var A=0,B=o[x],z=c?c(B):B;(A=p(D,z,A,d))>-1;)D!==r&&Ws.call(D,A,1),Ws.call(r,A,1);return r}function ff(r,o){for(var c=r?o.length:0,d=c-1;c--;){var p=o[c];if(c==d||p!==x){var x=p;zn(p)?Ws.call(r,p,1):ll(r,p)}}return r}function sl(r,o){return r+$s(Uu()*(o-r+1))}function Cv(r,o,c,d){for(var p=-1,x=se(Hs((o-r)/(c||1)),0),C=I(x);x--;)C[d?x:++p]=r,r+=c;return C}function ol(r,o){var c="";if(!r||o<1||o>Ct)return c;do o%2&&(c+=r),o=$s(o/2),o&&(r+=r);while(o);return c}function dt(r,o){return Sl(Hf(r,o,Ae),r+"")}function kv(r){return Xu(ir(r))}function Dv(r,o){var c=ir(r);return so(c,yi(o,0,c.length))}function Lr(r,o,c,d){if(!Ut(r))return r;o=si(o,r);for(var p=-1,x=o.length,C=x-1,D=r;D!=null&&++p<x;){var A=Cn(o[p]),B=c;if(A==="__proto__"||A==="constructor"||A==="prototype")return r;if(p!=C){var z=D[A];B=d?d(z,A,D):e,B===e&&(B=Ut(z)?z:zn(o[p+1])?[]:{})}Or(D,A,B),D=D[A]}return r}var hf=Ys?function(r,o){return Ys.set(r,o),r}:Ae,Mv=Ns?function(r,o){return Ns(r,"toString",{configurable:!0,enumerable:!1,value:Pl(o),writable:!0})}:Ae;function Tv(r){return so(ir(r))}function je(r,o,c){var d=-1,p=r.length;o<0&&(o=-o>p?0:p+o),c=c>p?p:c,c<0&&(c+=p),p=o>c?0:c-o>>>0,o>>>=0;for(var x=I(p);++d<p;)x[d]=r[d+o];return x}function Av(r,o){var c;return ii(r,function(d,p,x){return c=o(d,p,x),!c}),!!c}function js(r,o,c){var d=0,p=r==null?d:r.length;if(typeof o=="number"&&o===o&&p<=xt){for(;d<p;){var x=d+p>>>1,C=r[x];C!==null&&!ze(C)&&(c?C<=o:C<o)?d=x+1:p=x}return p}return al(r,o,Ae,c)}function al(r,o,c,d){var p=0,x=r==null?0:r.length;if(x===0)return 0;o=c(o);for(var C=o!==o,D=o===null,A=ze(o),B=o===e;p<x;){var z=$s((p+x)/2),H=c(r[z]),V=H!==e,Z=H===null,J=H===H,ht=ze(H);if(C)var tt=d||J;else B?tt=J&&(d||V):D?tt=J&&V&&(d||!Z):A?tt=J&&V&&!Z&&(d||!ht):Z||ht?tt=!1:tt=d?H<=o:H<o;tt?p=z+1:x=z}return pe(x,mt)}function df(r,o){for(var c=-1,d=r.length,p=0,x=[];++c<d;){var C=r[c],D=o?o(C):C;if(!c||!gn(D,A)){var A=D;x[p++]=C===0?0:C}}return x}function gf(r){return typeof r=="number"?r:ze(r)?Qt:+r}function Be(r){if(typeof r=="string")return r;if(lt(r))return $t(r,Be)+"";if(ze(r))return Vu?Vu.call(r):"";var o=r+"";return o=="0"&&1/r==-bt?"-0":o}function ri(r,o,c){var d=-1,p=As,x=r.length,C=!0,D=[],A=D;if(c)C=!1,p=Fa;else if(x>=s){var B=o?null:Nv(r);if(B)return Es(B);C=!1,p=Cr,A=new xi}else A=o?[]:D;t:for(;++d<x;){var z=r[d],H=o?o(z):z;if(z=c||z!==0?z:0,C&&H===H){for(var V=A.length;V--;)if(A[V]===H)continue t;o&&A.push(H),D.push(z)}else p(A,H,c)||(A!==D&&A.push(H),D.push(z))}return D}function ll(r,o){return o=si(o,r),r=$f(r,o),r==null||delete r[Cn(Ze(o))]}function pf(r,o,c,d){return Lr(r,o,c(wi(r,o)),d)}function Zs(r,o,c,d){for(var p=r.length,x=d?p:-1;(d?x--:++x<p)&&o(r[x],x,r););return c?je(r,d?0:x,d?x+1:p):je(r,d?x+1:0,d?p:x)}function mf(r,o){var c=r;return c instanceof _t&&(c=c.value()),Ba(o,function(d,p){return p.func.apply(p.thisArg,ti([d],p.args))},c)}function cl(r,o,c){var d=r.length;if(d<2)return d?ri(r[0]):[];for(var p=-1,x=I(d);++p<d;)for(var C=r[p],D=-1;++D<d;)D!=p&&(x[p]=Er(x[p]||C,r[D],o,c));return ri(fe(x,1),o,c)}function _f(r,o,c){for(var d=-1,p=r.length,x=o.length,C={};++d<p;){var D=d<x?o[d]:e;c(C,r[d],D)}return C}function ul(r){return Jt(r)?r:[]}function fl(r){return typeof r=="function"?r:Ae}function si(r,o){return lt(r)?r:xl(r,o)?[r]:qf(At(r))}var Ov=dt;function oi(r,o,c){var d=r.length;return c=c===e?d:c,!o&&c>=d?r:je(r,o,c)}var vf=__||function(r){return ue.clearTimeout(r)};function bf(r,o){if(o)return r.slice();var c=r.length,d=Wu?Wu(c):new r.constructor(c);return r.copy(d),d}function hl(r){var o=new r.constructor(r.byteLength);return new Bs(o).set(new Bs(r)),o}function Ev(r,o){var c=o?hl(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function Iv(r){var o=new r.constructor(r.source,eu.exec(r));return o.lastIndex=r.lastIndex,o}function Pv(r){return Ar?Pt(Ar.call(r)):{}}function xf(r,o){var c=o?hl(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function yf(r,o){if(r!==o){var c=r!==e,d=r===null,p=r===r,x=ze(r),C=o!==e,D=o===null,A=o===o,B=ze(o);if(!D&&!B&&!x&&r>o||x&&C&&A&&!D&&!B||d&&C&&A||!c&&A||!p)return 1;if(!d&&!x&&!B&&r<o||B&&c&&p&&!d&&!x||D&&c&&p||!C&&p||!A)return-1}return 0}function Lv(r,o,c){for(var d=-1,p=r.criteria,x=o.criteria,C=p.length,D=c.length;++d<C;){var A=yf(p[d],x[d]);if(A){if(d>=D)return A;var B=c[d];return A*(B=="desc"?-1:1)}}return r.index-o.index}function wf(r,o,c,d){for(var p=-1,x=r.length,C=c.length,D=-1,A=o.length,B=se(x-C,0),z=I(A+B),H=!d;++D<A;)z[D]=o[D];for(;++p<C;)(H||p<x)&&(z[c[p]]=r[p]);for(;B--;)z[D++]=r[p++];return z}function Sf(r,o,c,d){for(var p=-1,x=r.length,C=-1,D=c.length,A=-1,B=o.length,z=se(x-D,0),H=I(z+B),V=!d;++p<z;)H[p]=r[p];for(var Z=p;++A<B;)H[Z+A]=o[A];for(;++C<D;)(V||p<x)&&(H[Z+c[C]]=r[p++]);return H}function De(r,o){var c=-1,d=r.length;for(o||(o=I(d));++c<d;)o[c]=r[c];return o}function Sn(r,o,c,d){var p=!c;c||(c={});for(var x=-1,C=o.length;++x<C;){var D=o[x],A=d?d(c[D],r[D],D,c,r):e;A===e&&(A=r[D]),p?Rn(c,D,A):Or(c,D,A)}return c}function Rv(r,o){return Sn(r,bl(r),o)}function Fv(r,o){return Sn(r,Ff(r),o)}function Qs(r,o){return function(c,d){var p=lt(c)?Hm:rv,x=o?o():{};return p(c,r,Q(d,2),x)}}function Ji(r){return dt(function(o,c){var d=-1,p=c.length,x=p>1?c[p-1]:e,C=p>2?c[2]:e;for(x=r.length>3&&typeof x=="function"?(p--,x):e,C&&ye(c[0],c[1],C)&&(x=p<3?e:x,p=1),o=Pt(o);++d<p;){var D=c[d];D&&r(o,D,d,x)}return o})}function Cf(r,o){return function(c,d){if(c==null)return c;if(!Me(c))return r(c,d);for(var p=c.length,x=o?p:-1,C=Pt(c);(o?x--:++x<p)&&d(C[x],x,C)!==!1;);return c}}function kf(r){return function(o,c,d){for(var p=-1,x=Pt(o),C=d(o),D=C.length;D--;){var A=C[r?D:++p];if(c(x[A],A,x)===!1)break}return o}}function Bv(r,o,c){var d=o&w,p=Rr(r);function x(){var C=this&&this!==ue&&this instanceof x?p:r;return C.apply(d?c:this,arguments)}return x}function Df(r){return function(o){o=At(o);var c=qi(o)?hn(o):e,d=c?c[0]:o.charAt(0),p=c?oi(c,1).join(""):o.slice(1);return d[r]()+p}}function tr(r){return function(o){return Ba(Ch(Sh(o).replace(Mm,"")),r,"")}}function Rr(r){return function(){var o=arguments;switch(o.length){case 0:return new r;case 1:return new r(o[0]);case 2:return new r(o[0],o[1]);case 3:return new r(o[0],o[1],o[2]);case 4:return new r(o[0],o[1],o[2],o[3]);case 5:return new r(o[0],o[1],o[2],o[3],o[4]);case 6:return new r(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new r(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var c=Qi(r.prototype),d=r.apply(c,o);return Ut(d)?d:c}}function zv(r,o,c){var d=Rr(r);function p(){for(var x=arguments.length,C=I(x),D=x,A=er(p);D--;)C[D]=arguments[D];var B=x<3&&C[0]!==A&&C[x-1]!==A?[]:ei(C,A);if(x-=B.length,x<c)return Ef(r,o,Js,p.placeholder,e,C,B,e,e,c-x);var z=this&&this!==ue&&this instanceof p?d:r;return Re(z,this,C)}return p}function Mf(r){return function(o,c,d){var p=Pt(o);if(!Me(o)){var x=Q(c,3);o=ae(o),c=function(D){return x(p[D],D,p)}}var C=r(o,c,d);return C>-1?p[x?o[C]:C]:e}}function Tf(r){return Bn(function(o){var c=o.length,d=c,p=Ge.prototype.thru;for(r&&o.reverse();d--;){var x=o[d];if(typeof x!="function")throw new Xe(l);if(p&&!C&&io(x)=="wrapper")var C=new Ge([],!0)}for(d=C?d:c;++d<c;){x=o[d];var D=io(x),A=D=="wrapper"?_l(x):e;A&&yl(A[0])&&A[1]==(F|E|T|P)&&!A[4].length&&A[9]==1?C=C[io(A[0])].apply(C,A[3]):C=x.length==1&&yl(x)?C[D]():C.thru(x)}return function(){var B=arguments,z=B[0];if(C&&B.length==1&&lt(z))return C.plant(z).value();for(var H=0,V=c?o[H].apply(this,B):z;++H<c;)V=o[H].call(this,V);return V}})}function Js(r,o,c,d,p,x,C,D,A,B){var z=o&F,H=o&w,V=o&k,Z=o&(E|R),J=o&$,ht=V?e:Rr(r);function tt(){for(var pt=arguments.length,yt=I(pt),We=pt;We--;)yt[We]=arguments[We];if(Z)var we=er(tt),Ne=jm(yt,we);if(d&&(yt=wf(yt,d,p,Z)),x&&(yt=Sf(yt,x,C,Z)),pt-=Ne,Z&&pt<B){var te=ei(yt,we);return Ef(r,o,Js,tt.placeholder,c,yt,te,D,A,B-pt)}var pn=H?c:this,Hn=V?pn[r]:r;return pt=yt.length,D?yt=rb(yt,D):J&&pt>1&&yt.reverse(),z&&A<pt&&(yt.length=A),this&&this!==ue&&this instanceof tt&&(Hn=ht||Rr(Hn)),Hn.apply(pn,yt)}return tt}function Af(r,o){return function(c,d){return hv(c,r,o(d),{})}}function to(r,o){return function(c,d){var p;if(c===e&&d===e)return o;if(c!==e&&(p=c),d!==e){if(p===e)return d;typeof c=="string"||typeof d=="string"?(c=Be(c),d=Be(d)):(c=gf(c),d=gf(d)),p=r(c,d)}return p}}function dl(r){return Bn(function(o){return o=$t(o,Fe(Q())),dt(function(c){var d=this;return r(o,function(p){return Re(p,d,c)})})})}function eo(r,o){o=o===e?" ":Be(o);var c=o.length;if(c<2)return c?ol(o,r):o;var d=ol(o,Hs(r/Xi(o)));return qi(o)?oi(hn(d),0,r).join(""):d.slice(0,r)}function Wv(r,o,c,d){var p=o&w,x=Rr(r);function C(){for(var D=-1,A=arguments.length,B=-1,z=d.length,H=I(z+A),V=this&&this!==ue&&this instanceof C?x:r;++B<z;)H[B]=d[B];for(;A--;)H[B++]=arguments[++D];return Re(V,p?c:this,H)}return C}function Of(r){return function(o,c,d){return d&&typeof d!="number"&&ye(o,c,d)&&(c=d=e),o=Nn(o),c===e?(c=o,o=0):c=Nn(c),d=d===e?o<c?1:-1:Nn(d),Cv(o,c,d,r)}}function no(r){return function(o,c){return typeof o=="string"&&typeof c=="string"||(o=Qe(o),c=Qe(c)),r(o,c)}}function Ef(r,o,c,d,p,x,C,D,A,B){var z=o&E,H=z?C:e,V=z?e:C,Z=z?x:e,J=z?e:x;o|=z?T:N,o&=~(z?N:T),o&O||(o&=-4);var ht=[r,o,p,Z,H,J,V,D,A,B],tt=c.apply(e,ht);return yl(r)&&Yf(tt,ht),tt.placeholder=d,Uf(tt,r,o)}function gl(r){var o=re[r];return function(c,d){if(c=Qe(c),d=d==null?0:pe(ut(d),292),d&&Yu(c)){var p=(At(c)+"e").split("e"),x=o(p[0]+"e"+(+p[1]+d));return p=(At(x)+"e").split("e"),+(p[0]+"e"+(+p[1]-d))}return o(c)}}var Nv=ji&&1/Es(new ji([,-0]))[1]==bt?function(r){return new ji(r)}:Fl;function If(r){return function(o){var c=me(o);return c==It?Ua(o):c==fn?i_(o):Km(o,r(o))}}function Fn(r,o,c,d,p,x,C,D){var A=o&k;if(!A&&typeof r!="function")throw new Xe(l);var B=d?d.length:0;if(B||(o&=-97,d=p=e),C=C===e?C:se(ut(C),0),D=D===e?D:ut(D),B-=p?p.length:0,o&N){var z=d,H=p;d=p=e}var V=A?e:_l(r),Z=[r,o,c,d,p,z,H,x,C,D];if(V&&eb(Z,V),r=Z[0],o=Z[1],c=Z[2],d=Z[3],p=Z[4],D=Z[9]=Z[9]===e?A?0:r.length:se(Z[9]-B,0),!D&&o&(E|R)&&(o&=-25),!o||o==w)var J=Bv(r,o,c);else o==E||o==R?J=zv(r,o,D):(o==T||o==(w|T))&&!p.length?J=Wv(r,o,c,d):J=Js.apply(e,Z);var ht=V?hf:Yf;return Uf(ht(J,Z),r,o)}function Pf(r,o,c,d){return r===e||gn(r,Ki[c])&&!Ot.call(d,c)?o:r}function Lf(r,o,c,d,p,x){return Ut(r)&&Ut(o)&&(x.set(o,r),Ks(r,o,e,Lf,x),x.delete(o)),r}function Hv(r){return zr(r)?e:r}function Rf(r,o,c,d,p,x){var C=c&S,D=r.length,A=o.length;if(D!=A&&!(C&&A>D))return!1;var B=x.get(r),z=x.get(o);if(B&&z)return B==o&&z==r;var H=-1,V=!0,Z=c&y?new xi:e;for(x.set(r,o),x.set(o,r);++H<D;){var J=r[H],ht=o[H];if(d)var tt=C?d(ht,J,H,o,r,x):d(J,ht,H,r,o,x);if(tt!==e){if(tt)continue;V=!1;break}if(Z){if(!za(o,function(pt,yt){if(!Cr(Z,yt)&&(J===pt||p(J,pt,c,d,x)))return Z.push(yt)})){V=!1;break}}else if(!(J===ht||p(J,ht,c,d,x))){V=!1;break}}return x.delete(r),x.delete(o),V}function $v(r,o,c,d,p,x,C){switch(c){case Yi:if(r.byteLength!=o.byteLength||r.byteOffset!=o.byteOffset)return!1;r=r.buffer,o=o.buffer;case Sr:return!(r.byteLength!=o.byteLength||!x(new Bs(r),new Bs(o)));case ot:case at:case Gt:return gn(+r,+o);case Wt:return r.name==o.name&&r.message==o.message;case $i:case yr:return r==o+"";case It:var D=Ua;case fn:var A=d&S;if(D||(D=Es),r.size!=o.size&&!A)return!1;var B=C.get(r);if(B)return B==o;d|=y,C.set(r,o);var z=Rf(D(r),D(o),d,p,x,C);return C.delete(r),z;case ks:if(Ar)return Ar.call(r)==Ar.call(o)}return!1}function Yv(r,o,c,d,p,x){var C=c&S,D=pl(r),A=D.length,B=pl(o),z=B.length;if(A!=z&&!C)return!1;for(var H=A;H--;){var V=D[H];if(!(C?V in o:Ot.call(o,V)))return!1}var Z=x.get(r),J=x.get(o);if(Z&&J)return Z==o&&J==r;var ht=!0;x.set(r,o),x.set(o,r);for(var tt=C;++H<A;){V=D[H];var pt=r[V],yt=o[V];if(d)var We=C?d(yt,pt,V,o,r,x):d(pt,yt,V,r,o,x);if(!(We===e?pt===yt||p(pt,yt,c,d,x):We)){ht=!1;break}tt||(tt=V=="constructor")}if(ht&&!tt){var we=r.constructor,Ne=o.constructor;we!=Ne&&"constructor"in r&&"constructor"in o&&!(typeof we=="function"&&we instanceof we&&typeof Ne=="function"&&Ne instanceof Ne)&&(ht=!1)}return x.delete(r),x.delete(o),ht}function Bn(r){return Sl(Hf(r,e,jf),r+"")}function pl(r){return tf(r,ae,bl)}function ml(r){return tf(r,Te,Ff)}var _l=Ys?function(r){return Ys.get(r)}:Fl;function io(r){for(var o=r.name+"",c=Zi[o],d=Ot.call(Zi,o)?c.length:0;d--;){var p=c[d],x=p.func;if(x==null||x==r)return p.name}return o}function er(r){var o=Ot.call(v,"placeholder")?v:r;return o.placeholder}function Q(){var r=v.iteratee||Ll;return r=r===Ll?rf:r,arguments.length?r(arguments[0],arguments[1]):r}function ro(r,o){var c=r.__data__;return Zv(o)?c[typeof o=="string"?"string":"hash"]:c.map}function vl(r){for(var o=ae(r),c=o.length;c--;){var d=o[c],p=r[d];o[c]=[d,p,Wf(p)]}return o}function Si(r,o){var c=t_(r,o);return nf(c)?c:e}function Uv(r){var o=Ot.call(r,vi),c=r[vi];try{r[vi]=e;var d=!0}catch{}var p=Rs.call(r);return d&&(o?r[vi]=c:delete r[vi]),p}var bl=qa?function(r){return r==null?[]:(r=Pt(r),Jn(qa(r),function(o){return Hu.call(r,o)}))}:Bl,Ff=qa?function(r){for(var o=[];r;)ti(o,bl(r)),r=zs(r);return o}:Bl,me=xe;(Xa&&me(new Xa(new ArrayBuffer(1)))!=Yi||Dr&&me(new Dr)!=It||Ga&&me(Ga.resolve())!=Hi||ji&&me(new ji)!=fn||Mr&&me(new Mr)!=wr)&&(me=function(r){var o=xe(r),c=o==ge?r.constructor:e,d=c?Ci(c):"";if(d)switch(d){case D_:return Yi;case M_:return It;case T_:return Hi;case A_:return fn;case O_:return wr}return o});function Vv(r,o,c){for(var d=-1,p=c.length;++d<p;){var x=c[d],C=x.size;switch(x.type){case"drop":r+=C;break;case"dropRight":o-=C;break;case"take":o=pe(o,r+C);break;case"takeRight":r=se(r,o-C);break}}return{start:r,end:o}}function qv(r){var o=r.match(Qp);return o?o[1].split(Jp):[]}function Bf(r,o,c){o=si(o,r);for(var d=-1,p=o.length,x=!1;++d<p;){var C=Cn(o[d]);if(!(x=r!=null&&c(r,C)))break;r=r[C]}return x||++d!=p?x:(p=r==null?0:r.length,!!p&&fo(p)&&zn(C,p)&&(lt(r)||ki(r)))}function Xv(r){var o=r.length,c=new r.constructor(o);return o&&typeof r[0]=="string"&&Ot.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function zf(r){return typeof r.constructor=="function"&&!Fr(r)?Qi(zs(r)):{}}function Gv(r,o,c){var d=r.constructor;switch(o){case Sr:return hl(r);case ot:case at:return new d(+r);case Yi:return Ev(r,c);case va:case ba:case xa:case ya:case wa:case Sa:case Ca:case ka:case Da:return xf(r,c);case It:return new d;case Gt:case yr:return new d(r);case $i:return Iv(r);case fn:return new d;case ks:return Pv(r)}}function Kv(r,o){var c=o.length;if(!c)return r;var d=c-1;return o[d]=(c>1?"& ":"")+o[d],o=o.join(c>2?", ":" "),r.replace(Zp,`{
/* [wrapped with `+o+`] */
`)}function jv(r){return lt(r)||ki(r)||!!($u&&r&&r[$u])}function zn(r,o){var c=typeof r;return o=o??Ct,!!o&&(c=="number"||c!="symbol"&&lm.test(r))&&r>-1&&r%1==0&&r<o}function ye(r,o,c){if(!Ut(c))return!1;var d=typeof o;return(d=="number"?Me(c)&&zn(o,c.length):d=="string"&&o in c)?gn(c[o],r):!1}function xl(r,o){if(lt(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||ze(r)?!0:Xp.test(r)||!qp.test(r)||o!=null&&r in Pt(o)}function Zv(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}function yl(r){var o=io(r),c=v[o];if(typeof c!="function"||!(o in _t.prototype))return!1;if(r===c)return!0;var d=_l(c);return!!d&&r===d[0]}function Qv(r){return!!zu&&zu in r}var Jv=Ps?Wn:zl;function Fr(r){var o=r&&r.constructor,c=typeof o=="function"&&o.prototype||Ki;return r===c}function Wf(r){return r===r&&!Ut(r)}function Nf(r,o){return function(c){return c==null?!1:c[r]===o&&(o!==e||r in Pt(c))}}function tb(r){var o=co(r,function(d){return c.size===h&&c.clear(),d}),c=o.cache;return o}function eb(r,o){var c=r[1],d=o[1],p=c|d,x=p<(w|k|F),C=d==F&&c==E||d==F&&c==P&&r[7].length<=o[8]||d==(F|P)&&o[7].length<=o[8]&&c==E;if(!(x||C))return r;d&w&&(r[2]=o[2],p|=c&w?0:O);var D=o[3];if(D){var A=r[3];r[3]=A?wf(A,D,o[4]):D,r[4]=A?ei(r[3],g):o[4]}return D=o[5],D&&(A=r[5],r[5]=A?Sf(A,D,o[6]):D,r[6]=A?ei(r[5],g):o[6]),D=o[7],D&&(r[7]=D),d&F&&(r[8]=r[8]==null?o[8]:pe(r[8],o[8])),r[9]==null&&(r[9]=o[9]),r[0]=o[0],r[1]=p,r}function nb(r){var o=[];if(r!=null)for(var c in Pt(r))o.push(c);return o}function ib(r){return Rs.call(r)}function Hf(r,o,c){return o=se(o===e?r.length-1:o,0),function(){for(var d=arguments,p=-1,x=se(d.length-o,0),C=I(x);++p<x;)C[p]=d[o+p];p=-1;for(var D=I(o+1);++p<o;)D[p]=d[p];return D[o]=c(C),Re(r,this,D)}}function $f(r,o){return o.length<2?r:wi(r,je(o,0,-1))}function rb(r,o){for(var c=r.length,d=pe(o.length,c),p=De(r);d--;){var x=o[d];r[d]=zn(x,c)?p[x]:e}return r}function wl(r,o){if(!(o==="constructor"&&typeof r[o]=="function")&&o!="__proto__")return r[o]}var Yf=Vf(hf),Br=b_||function(r,o){return ue.setTimeout(r,o)},Sl=Vf(Mv);function Uf(r,o,c){var d=o+"";return Sl(r,Kv(d,sb(qv(d),c)))}function Vf(r){var o=0,c=0;return function(){var d=S_(),p=rt-(d-c);if(c=d,p>0){if(++o>=j)return arguments[0]}else o=0;return r.apply(e,arguments)}}function so(r,o){var c=-1,d=r.length,p=d-1;for(o=o===e?d:o;++c<o;){var x=sl(c,p),C=r[x];r[x]=r[c],r[c]=C}return r.length=o,r}var qf=tb(function(r){var o=[];return r.charCodeAt(0)===46&&o.push(""),r.replace(Gp,function(c,d,p,x){o.push(p?x.replace(nm,"$1"):d||c)}),o});function Cn(r){if(typeof r=="string"||ze(r))return r;var o=r+"";return o=="0"&&1/r==-bt?"-0":o}function Ci(r){if(r!=null){try{return Ls.call(r)}catch{}try{return r+""}catch{}}return""}function sb(r,o){return qe(Lt,function(c){var d="_."+c[0];o&c[1]&&!As(r,d)&&r.push(d)}),r.sort()}function Xf(r){if(r instanceof _t)return r.clone();var o=new Ge(r.__wrapped__,r.__chain__);return o.__actions__=De(r.__actions__),o.__index__=r.__index__,o.__values__=r.__values__,o}function ob(r,o,c){(c?ye(r,o,c):o===e)?o=1:o=se(ut(o),0);var d=r==null?0:r.length;if(!d||o<1)return[];for(var p=0,x=0,C=I(Hs(d/o));p<d;)C[x++]=je(r,p,p+=o);return C}function ab(r){for(var o=-1,c=r==null?0:r.length,d=0,p=[];++o<c;){var x=r[o];x&&(p[d++]=x)}return p}function lb(){var r=arguments.length;if(!r)return[];for(var o=I(r-1),c=arguments[0],d=r;d--;)o[d-1]=arguments[d];return ti(lt(c)?De(c):[c],fe(o,1))}var cb=dt(function(r,o){return Jt(r)?Er(r,fe(o,1,Jt,!0)):[]}),ub=dt(function(r,o){var c=Ze(o);return Jt(c)&&(c=e),Jt(r)?Er(r,fe(o,1,Jt,!0),Q(c,2)):[]}),fb=dt(function(r,o){var c=Ze(o);return Jt(c)&&(c=e),Jt(r)?Er(r,fe(o,1,Jt,!0),e,c):[]});function hb(r,o,c){var d=r==null?0:r.length;return d?(o=c||o===e?1:ut(o),je(r,o<0?0:o,d)):[]}function db(r,o,c){var d=r==null?0:r.length;return d?(o=c||o===e?1:ut(o),o=d-o,je(r,0,o<0?0:o)):[]}function gb(r,o){return r&&r.length?Zs(r,Q(o,3),!0,!0):[]}function pb(r,o){return r&&r.length?Zs(r,Q(o,3),!0):[]}function mb(r,o,c,d){var p=r==null?0:r.length;return p?(c&&typeof c!="number"&&ye(r,o,c)&&(c=0,d=p),lv(r,o,c,d)):[]}function Gf(r,o,c){var d=r==null?0:r.length;if(!d)return-1;var p=c==null?0:ut(c);return p<0&&(p=se(d+p,0)),Os(r,Q(o,3),p)}function Kf(r,o,c){var d=r==null?0:r.length;if(!d)return-1;var p=d-1;return c!==e&&(p=ut(c),p=c<0?se(d+p,0):pe(p,d-1)),Os(r,Q(o,3),p,!0)}function jf(r){var o=r==null?0:r.length;return o?fe(r,1):[]}function _b(r){var o=r==null?0:r.length;return o?fe(r,bt):[]}function vb(r,o){var c=r==null?0:r.length;return c?(o=o===e?1:ut(o),fe(r,o)):[]}function bb(r){for(var o=-1,c=r==null?0:r.length,d={};++o<c;){var p=r[o];d[p[0]]=p[1]}return d}function Zf(r){return r&&r.length?r[0]:e}function xb(r,o,c){var d=r==null?0:r.length;if(!d)return-1;var p=c==null?0:ut(c);return p<0&&(p=se(d+p,0)),Vi(r,o,p)}function yb(r){var o=r==null?0:r.length;return o?je(r,0,-1):[]}var wb=dt(function(r){var o=$t(r,ul);return o.length&&o[0]===r[0]?tl(o):[]}),Sb=dt(function(r){var o=Ze(r),c=$t(r,ul);return o===Ze(c)?o=e:c.pop(),c.length&&c[0]===r[0]?tl(c,Q(o,2)):[]}),Cb=dt(function(r){var o=Ze(r),c=$t(r,ul);return o=typeof o=="function"?o:e,o&&c.pop(),c.length&&c[0]===r[0]?tl(c,e,o):[]});function kb(r,o){return r==null?"":y_.call(r,o)}function Ze(r){var o=r==null?0:r.length;return o?r[o-1]:e}function Db(r,o,c){var d=r==null?0:r.length;if(!d)return-1;var p=d;return c!==e&&(p=ut(c),p=p<0?se(d+p,0):pe(p,d-1)),o===o?s_(r,o,p):Os(r,Ou,p,!0)}function Mb(r,o){return r&&r.length?lf(r,ut(o)):e}var Tb=dt(Qf);function Qf(r,o){return r&&r.length&&o&&o.length?rl(r,o):r}function Ab(r,o,c){return r&&r.length&&o&&o.length?rl(r,o,Q(c,2)):r}function Ob(r,o,c){return r&&r.length&&o&&o.length?rl(r,o,e,c):r}var Eb=Bn(function(r,o){var c=r==null?0:r.length,d=ja(r,o);return ff(r,$t(o,function(p){return zn(p,c)?+p:p}).sort(yf)),d});function Ib(r,o){var c=[];if(!(r&&r.length))return c;var d=-1,p=[],x=r.length;for(o=Q(o,3);++d<x;){var C=r[d];o(C,d,r)&&(c.push(C),p.push(d))}return ff(r,p),c}function Cl(r){return r==null?r:k_.call(r)}function Pb(r,o,c){var d=r==null?0:r.length;return d?(c&&typeof c!="number"&&ye(r,o,c)?(o=0,c=d):(o=o==null?0:ut(o),c=c===e?d:ut(c)),je(r,o,c)):[]}function Lb(r,o){return js(r,o)}function Rb(r,o,c){return al(r,o,Q(c,2))}function Fb(r,o){var c=r==null?0:r.length;if(c){var d=js(r,o);if(d<c&&gn(r[d],o))return d}return-1}function Bb(r,o){return js(r,o,!0)}function zb(r,o,c){return al(r,o,Q(c,2),!0)}function Wb(r,o){var c=r==null?0:r.length;if(c){var d=js(r,o,!0)-1;if(gn(r[d],o))return d}return-1}function Nb(r){return r&&r.length?df(r):[]}function Hb(r,o){return r&&r.length?df(r,Q(o,2)):[]}function $b(r){var o=r==null?0:r.length;return o?je(r,1,o):[]}function Yb(r,o,c){return r&&r.length?(o=c||o===e?1:ut(o),je(r,0,o<0?0:o)):[]}function Ub(r,o,c){var d=r==null?0:r.length;return d?(o=c||o===e?1:ut(o),o=d-o,je(r,o<0?0:o,d)):[]}function Vb(r,o){return r&&r.length?Zs(r,Q(o,3),!1,!0):[]}function qb(r,o){return r&&r.length?Zs(r,Q(o,3)):[]}var Xb=dt(function(r){return ri(fe(r,1,Jt,!0))}),Gb=dt(function(r){var o=Ze(r);return Jt(o)&&(o=e),ri(fe(r,1,Jt,!0),Q(o,2))}),Kb=dt(function(r){var o=Ze(r);return o=typeof o=="function"?o:e,ri(fe(r,1,Jt,!0),e,o)});function jb(r){return r&&r.length?ri(r):[]}function Zb(r,o){return r&&r.length?ri(r,Q(o,2)):[]}function Qb(r,o){return o=typeof o=="function"?o:e,r&&r.length?ri(r,e,o):[]}function kl(r){if(!(r&&r.length))return[];var o=0;return r=Jn(r,function(c){if(Jt(c))return o=se(c.length,o),!0}),$a(o,function(c){return $t(r,Wa(c))})}function Jf(r,o){if(!(r&&r.length))return[];var c=kl(r);return o==null?c:$t(c,function(d){return Re(o,e,d)})}var Jb=dt(function(r,o){return Jt(r)?Er(r,o):[]}),t0=dt(function(r){return cl(Jn(r,Jt))}),e0=dt(function(r){var o=Ze(r);return Jt(o)&&(o=e),cl(Jn(r,Jt),Q(o,2))}),n0=dt(function(r){var o=Ze(r);return o=typeof o=="function"?o:e,cl(Jn(r,Jt),e,o)}),i0=dt(kl);function r0(r,o){return _f(r||[],o||[],Or)}function s0(r,o){return _f(r||[],o||[],Lr)}var o0=dt(function(r){var o=r.length,c=o>1?r[o-1]:e;return c=typeof c=="function"?(r.pop(),c):e,Jf(r,c)});function th(r){var o=v(r);return o.__chain__=!0,o}function a0(r,o){return o(r),r}function oo(r,o){return o(r)}var l0=Bn(function(r){var o=r.length,c=o?r[0]:0,d=this.__wrapped__,p=function(x){return ja(x,r)};return o>1||this.__actions__.length||!(d instanceof _t)||!zn(c)?this.thru(p):(d=d.slice(c,+c+(o?1:0)),d.__actions__.push({func:oo,args:[p],thisArg:e}),new Ge(d,this.__chain__).thru(function(x){return o&&!x.length&&x.push(e),x}))});function c0(){return th(this)}function u0(){return new Ge(this.value(),this.__chain__)}function f0(){this.__values__===e&&(this.__values__=gh(this.value()));var r=this.__index__>=this.__values__.length,o=r?e:this.__values__[this.__index__++];return{done:r,value:o}}function h0(){return this}function d0(r){for(var o,c=this;c instanceof Vs;){var d=Xf(c);d.__index__=0,d.__values__=e,o?p.__wrapped__=d:o=d;var p=d;c=c.__wrapped__}return p.__wrapped__=r,o}function g0(){var r=this.__wrapped__;if(r instanceof _t){var o=r;return this.__actions__.length&&(o=new _t(this)),o=o.reverse(),o.__actions__.push({func:oo,args:[Cl],thisArg:e}),new Ge(o,this.__chain__)}return this.thru(Cl)}function p0(){return mf(this.__wrapped__,this.__actions__)}var m0=Qs(function(r,o,c){Ot.call(r,c)?++r[c]:Rn(r,c,1)});function _0(r,o,c){var d=lt(r)?Tu:av;return c&&ye(r,o,c)&&(o=e),d(r,Q(o,3))}function v0(r,o){var c=lt(r)?Jn:Qu;return c(r,Q(o,3))}var b0=Mf(Gf),x0=Mf(Kf);function y0(r,o){return fe(ao(r,o),1)}function w0(r,o){return fe(ao(r,o),bt)}function S0(r,o,c){return c=c===e?1:ut(c),fe(ao(r,o),c)}function eh(r,o){var c=lt(r)?qe:ii;return c(r,Q(o,3))}function nh(r,o){var c=lt(r)?$m:Zu;return c(r,Q(o,3))}var C0=Qs(function(r,o,c){Ot.call(r,c)?r[c].push(o):Rn(r,c,[o])});function k0(r,o,c,d){r=Me(r)?r:ir(r),c=c&&!d?ut(c):0;var p=r.length;return c<0&&(c=se(p+c,0)),ho(r)?c<=p&&r.indexOf(o,c)>-1:!!p&&Vi(r,o,c)>-1}var D0=dt(function(r,o,c){var d=-1,p=typeof o=="function",x=Me(r)?I(r.length):[];return ii(r,function(C){x[++d]=p?Re(o,C,c):Ir(C,o,c)}),x}),M0=Qs(function(r,o,c){Rn(r,c,o)});function ao(r,o){var c=lt(r)?$t:sf;return c(r,Q(o,3))}function T0(r,o,c,d){return r==null?[]:(lt(o)||(o=o==null?[]:[o]),c=d?e:c,lt(c)||(c=c==null?[]:[c]),cf(r,o,c))}var A0=Qs(function(r,o,c){r[c?0:1].push(o)},function(){return[[],[]]});function O0(r,o,c){var d=lt(r)?Ba:Iu,p=arguments.length<3;return d(r,Q(o,4),c,p,ii)}function E0(r,o,c){var d=lt(r)?Ym:Iu,p=arguments.length<3;return d(r,Q(o,4),c,p,Zu)}function I0(r,o){var c=lt(r)?Jn:Qu;return c(r,uo(Q(o,3)))}function P0(r){var o=lt(r)?Xu:kv;return o(r)}function L0(r,o,c){(c?ye(r,o,c):o===e)?o=1:o=ut(o);var d=lt(r)?nv:Dv;return d(r,o)}function R0(r){var o=lt(r)?iv:Tv;return o(r)}function F0(r){if(r==null)return 0;if(Me(r))return ho(r)?Xi(r):r.length;var o=me(r);return o==It||o==fn?r.size:nl(r).length}function B0(r,o,c){var d=lt(r)?za:Av;return c&&ye(r,o,c)&&(o=e),d(r,Q(o,3))}var z0=dt(function(r,o){if(r==null)return[];var c=o.length;return c>1&&ye(r,o[0],o[1])?o=[]:c>2&&ye(o[0],o[1],o[2])&&(o=[o[0]]),cf(r,fe(o,1),[])}),lo=v_||function(){return ue.Date.now()};function W0(r,o){if(typeof o!="function")throw new Xe(l);return r=ut(r),function(){if(--r<1)return o.apply(this,arguments)}}function ih(r,o,c){return o=c?e:o,o=r&&o==null?r.length:o,Fn(r,F,e,e,e,e,o)}function rh(r,o){var c;if(typeof o!="function")throw new Xe(l);return r=ut(r),function(){return--r>0&&(c=o.apply(this,arguments)),r<=1&&(o=e),c}}var Dl=dt(function(r,o,c){var d=w;if(c.length){var p=ei(c,er(Dl));d|=T}return Fn(r,d,o,c,p)}),sh=dt(function(r,o,c){var d=w|k;if(c.length){var p=ei(c,er(sh));d|=T}return Fn(o,d,r,c,p)});function oh(r,o,c){o=c?e:o;var d=Fn(r,E,e,e,e,e,e,o);return d.placeholder=oh.placeholder,d}function ah(r,o,c){o=c?e:o;var d=Fn(r,R,e,e,e,e,e,o);return d.placeholder=ah.placeholder,d}function lh(r,o,c){var d,p,x,C,D,A,B=0,z=!1,H=!1,V=!0;if(typeof r!="function")throw new Xe(l);o=Qe(o)||0,Ut(c)&&(z=!!c.leading,H="maxWait"in c,x=H?se(Qe(c.maxWait)||0,o):x,V="trailing"in c?!!c.trailing:V);function Z(te){var pn=d,Hn=p;return d=p=e,B=te,C=r.apply(Hn,pn),C}function J(te){return B=te,D=Br(pt,o),z?Z(te):C}function ht(te){var pn=te-A,Hn=te-B,Mh=o-pn;return H?pe(Mh,x-Hn):Mh}function tt(te){var pn=te-A,Hn=te-B;return A===e||pn>=o||pn<0||H&&Hn>=x}function pt(){var te=lo();if(tt(te))return yt(te);D=Br(pt,ht(te))}function yt(te){return D=e,V&&d?Z(te):(d=p=e,C)}function We(){D!==e&&vf(D),B=0,d=A=p=D=e}function we(){return D===e?C:yt(lo())}function Ne(){var te=lo(),pn=tt(te);if(d=arguments,p=this,A=te,pn){if(D===e)return J(A);if(H)return vf(D),D=Br(pt,o),Z(A)}return D===e&&(D=Br(pt,o)),C}return Ne.cancel=We,Ne.flush=we,Ne}var N0=dt(function(r,o){return ju(r,1,o)}),H0=dt(function(r,o,c){return ju(r,Qe(o)||0,c)});function $0(r){return Fn(r,$)}function co(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new Xe(l);var c=function(){var d=arguments,p=o?o.apply(this,d):d[0],x=c.cache;if(x.has(p))return x.get(p);var C=r.apply(this,d);return c.cache=x.set(p,C)||x,C};return c.cache=new(co.Cache||Ln),c}co.Cache=Ln;function uo(r){if(typeof r!="function")throw new Xe(l);return function(){var o=arguments;switch(o.length){case 0:return!r.call(this);case 1:return!r.call(this,o[0]);case 2:return!r.call(this,o[0],o[1]);case 3:return!r.call(this,o[0],o[1],o[2])}return!r.apply(this,o)}}function Y0(r){return rh(2,r)}var U0=Ov(function(r,o){o=o.length==1&&lt(o[0])?$t(o[0],Fe(Q())):$t(fe(o,1),Fe(Q()));var c=o.length;return dt(function(d){for(var p=-1,x=pe(d.length,c);++p<x;)d[p]=o[p].call(this,d[p]);return Re(r,this,d)})}),Ml=dt(function(r,o){var c=ei(o,er(Ml));return Fn(r,T,e,o,c)}),ch=dt(function(r,o){var c=ei(o,er(ch));return Fn(r,N,e,o,c)}),V0=Bn(function(r,o){return Fn(r,P,e,e,e,o)});function q0(r,o){if(typeof r!="function")throw new Xe(l);return o=o===e?o:ut(o),dt(r,o)}function X0(r,o){if(typeof r!="function")throw new Xe(l);return o=o==null?0:se(ut(o),0),dt(function(c){var d=c[o],p=oi(c,0,o);return d&&ti(p,d),Re(r,this,p)})}function G0(r,o,c){var d=!0,p=!0;if(typeof r!="function")throw new Xe(l);return Ut(c)&&(d="leading"in c?!!c.leading:d,p="trailing"in c?!!c.trailing:p),lh(r,o,{leading:d,maxWait:o,trailing:p})}function K0(r){return ih(r,1)}function j0(r,o){return Ml(fl(o),r)}function Z0(){if(!arguments.length)return[];var r=arguments[0];return lt(r)?r:[r]}function Q0(r){return Ke(r,b)}function J0(r,o){return o=typeof o=="function"?o:e,Ke(r,b,o)}function tx(r){return Ke(r,m|b)}function ex(r,o){return o=typeof o=="function"?o:e,Ke(r,m|b,o)}function nx(r,o){return o==null||Ku(r,o,ae(o))}function gn(r,o){return r===o||r!==r&&o!==o}var ix=no(Ja),rx=no(function(r,o){return r>=o}),ki=ef(function(){return arguments}())?ef:function(r){return Kt(r)&&Ot.call(r,"callee")&&!Hu.call(r,"callee")},lt=I.isArray,sx=wu?Fe(wu):dv;function Me(r){return r!=null&&fo(r.length)&&!Wn(r)}function Jt(r){return Kt(r)&&Me(r)}function ox(r){return r===!0||r===!1||Kt(r)&&xe(r)==ot}var ai=x_||zl,ax=Su?Fe(Su):gv;function lx(r){return Kt(r)&&r.nodeType===1&&!zr(r)}function cx(r){if(r==null)return!0;if(Me(r)&&(lt(r)||typeof r=="string"||typeof r.splice=="function"||ai(r)||nr(r)||ki(r)))return!r.length;var o=me(r);if(o==It||o==fn)return!r.size;if(Fr(r))return!nl(r).length;for(var c in r)if(Ot.call(r,c))return!1;return!0}function ux(r,o){return Pr(r,o)}function fx(r,o,c){c=typeof c=="function"?c:e;var d=c?c(r,o):e;return d===e?Pr(r,o,e,c):!!d}function Tl(r){if(!Kt(r))return!1;var o=xe(r);return o==Wt||o==Rt||typeof r.message=="string"&&typeof r.name=="string"&&!zr(r)}function hx(r){return typeof r=="number"&&Yu(r)}function Wn(r){if(!Ut(r))return!1;var o=xe(r);return o==de||o==ke||o==W||o==xr}function uh(r){return typeof r=="number"&&r==ut(r)}function fo(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Ct}function Ut(r){var o=typeof r;return r!=null&&(o=="object"||o=="function")}function Kt(r){return r!=null&&typeof r=="object"}var fh=Cu?Fe(Cu):mv;function dx(r,o){return r===o||el(r,o,vl(o))}function gx(r,o,c){return c=typeof c=="function"?c:e,el(r,o,vl(o),c)}function px(r){return hh(r)&&r!=+r}function mx(r){if(Jv(r))throw new it(a);return nf(r)}function _x(r){return r===null}function vx(r){return r==null}function hh(r){return typeof r=="number"||Kt(r)&&xe(r)==Gt}function zr(r){if(!Kt(r)||xe(r)!=ge)return!1;var o=zs(r);if(o===null)return!0;var c=Ot.call(o,"constructor")&&o.constructor;return typeof c=="function"&&c instanceof c&&Ls.call(c)==g_}var Al=ku?Fe(ku):_v;function bx(r){return uh(r)&&r>=-Ct&&r<=Ct}var dh=Du?Fe(Du):vv;function ho(r){return typeof r=="string"||!lt(r)&&Kt(r)&&xe(r)==yr}function ze(r){return typeof r=="symbol"||Kt(r)&&xe(r)==ks}var nr=Mu?Fe(Mu):bv;function xx(r){return r===e}function yx(r){return Kt(r)&&me(r)==wr}function wx(r){return Kt(r)&&xe(r)==zp}var Sx=no(il),Cx=no(function(r,o){return r<=o});function gh(r){if(!r)return[];if(Me(r))return ho(r)?hn(r):De(r);if(kr&&r[kr])return n_(r[kr]());var o=me(r),c=o==It?Ua:o==fn?Es:ir;return c(r)}function Nn(r){if(!r)return r===0?r:0;if(r=Qe(r),r===bt||r===-bt){var o=r<0?-1:1;return o*ne}return r===r?r:0}function ut(r){var o=Nn(r),c=o%1;return o===o?c?o-c:o:0}function ph(r){return r?yi(ut(r),0,U):0}function Qe(r){if(typeof r=="number")return r;if(ze(r))return Qt;if(Ut(r)){var o=typeof r.valueOf=="function"?r.valueOf():r;r=Ut(o)?o+"":o}if(typeof r!="string")return r===0?r:+r;r=Pu(r);var c=sm.test(r);return c||am.test(r)?Wm(r.slice(2),c?2:8):rm.test(r)?Qt:+r}function mh(r){return Sn(r,Te(r))}function kx(r){return r?yi(ut(r),-Ct,Ct):r===0?r:0}function At(r){return r==null?"":Be(r)}var Dx=Ji(function(r,o){if(Fr(o)||Me(o)){Sn(o,ae(o),r);return}for(var c in o)Ot.call(o,c)&&Or(r,c,o[c])}),_h=Ji(function(r,o){Sn(o,Te(o),r)}),go=Ji(function(r,o,c,d){Sn(o,Te(o),r,d)}),Mx=Ji(function(r,o,c,d){Sn(o,ae(o),r,d)}),Tx=Bn(ja);function Ax(r,o){var c=Qi(r);return o==null?c:Gu(c,o)}var Ox=dt(function(r,o){r=Pt(r);var c=-1,d=o.length,p=d>2?o[2]:e;for(p&&ye(o[0],o[1],p)&&(d=1);++c<d;)for(var x=o[c],C=Te(x),D=-1,A=C.length;++D<A;){var B=C[D],z=r[B];(z===e||gn(z,Ki[B])&&!Ot.call(r,B))&&(r[B]=x[B])}return r}),Ex=dt(function(r){return r.push(e,Lf),Re(vh,e,r)});function Ix(r,o){return Au(r,Q(o,3),wn)}function Px(r,o){return Au(r,Q(o,3),Qa)}function Lx(r,o){return r==null?r:Za(r,Q(o,3),Te)}function Rx(r,o){return r==null?r:Ju(r,Q(o,3),Te)}function Fx(r,o){return r&&wn(r,Q(o,3))}function Bx(r,o){return r&&Qa(r,Q(o,3))}function zx(r){return r==null?[]:Gs(r,ae(r))}function Wx(r){return r==null?[]:Gs(r,Te(r))}function Ol(r,o,c){var d=r==null?e:wi(r,o);return d===e?c:d}function Nx(r,o){return r!=null&&Bf(r,o,cv)}function El(r,o){return r!=null&&Bf(r,o,uv)}var Hx=Af(function(r,o,c){o!=null&&typeof o.toString!="function"&&(o=Rs.call(o)),r[o]=c},Pl(Ae)),$x=Af(function(r,o,c){o!=null&&typeof o.toString!="function"&&(o=Rs.call(o)),Ot.call(r,o)?r[o].push(c):r[o]=[c]},Q),Yx=dt(Ir);function ae(r){return Me(r)?qu(r):nl(r)}function Te(r){return Me(r)?qu(r,!0):xv(r)}function Ux(r,o){var c={};return o=Q(o,3),wn(r,function(d,p,x){Rn(c,o(d,p,x),d)}),c}function Vx(r,o){var c={};return o=Q(o,3),wn(r,function(d,p,x){Rn(c,p,o(d,p,x))}),c}var qx=Ji(function(r,o,c){Ks(r,o,c)}),vh=Ji(function(r,o,c,d){Ks(r,o,c,d)}),Xx=Bn(function(r,o){var c={};if(r==null)return c;var d=!1;o=$t(o,function(x){return x=si(x,r),d||(d=x.length>1),x}),Sn(r,ml(r),c),d&&(c=Ke(c,m|_|b,Hv));for(var p=o.length;p--;)ll(c,o[p]);return c});function Gx(r,o){return bh(r,uo(Q(o)))}var Kx=Bn(function(r,o){return r==null?{}:wv(r,o)});function bh(r,o){if(r==null)return{};var c=$t(ml(r),function(d){return[d]});return o=Q(o),uf(r,c,function(d,p){return o(d,p[0])})}function jx(r,o,c){o=si(o,r);var d=-1,p=o.length;for(p||(p=1,r=e);++d<p;){var x=r==null?e:r[Cn(o[d])];x===e&&(d=p,x=c),r=Wn(x)?x.call(r):x}return r}function Zx(r,o,c){return r==null?r:Lr(r,o,c)}function Qx(r,o,c,d){return d=typeof d=="function"?d:e,r==null?r:Lr(r,o,c,d)}var xh=If(ae),yh=If(Te);function Jx(r,o,c){var d=lt(r),p=d||ai(r)||nr(r);if(o=Q(o,4),c==null){var x=r&&r.constructor;p?c=d?new x:[]:Ut(r)?c=Wn(x)?Qi(zs(r)):{}:c={}}return(p?qe:wn)(r,function(C,D,A){return o(c,C,D,A)}),c}function ty(r,o){return r==null?!0:ll(r,o)}function ey(r,o,c){return r==null?r:pf(r,o,fl(c))}function ny(r,o,c,d){return d=typeof d=="function"?d:e,r==null?r:pf(r,o,fl(c),d)}function ir(r){return r==null?[]:Ya(r,ae(r))}function iy(r){return r==null?[]:Ya(r,Te(r))}function ry(r,o,c){return c===e&&(c=o,o=e),c!==e&&(c=Qe(c),c=c===c?c:0),o!==e&&(o=Qe(o),o=o===o?o:0),yi(Qe(r),o,c)}function sy(r,o,c){return o=Nn(o),c===e?(c=o,o=0):c=Nn(c),r=Qe(r),fv(r,o,c)}function oy(r,o,c){if(c&&typeof c!="boolean"&&ye(r,o,c)&&(o=c=e),c===e&&(typeof o=="boolean"?(c=o,o=e):typeof r=="boolean"&&(c=r,r=e)),r===e&&o===e?(r=0,o=1):(r=Nn(r),o===e?(o=r,r=0):o=Nn(o)),r>o){var d=r;r=o,o=d}if(c||r%1||o%1){var p=Uu();return pe(r+p*(o-r+zm("1e-"+((p+"").length-1))),o)}return sl(r,o)}var ay=tr(function(r,o,c){return o=o.toLowerCase(),r+(c?wh(o):o)});function wh(r){return Il(At(r).toLowerCase())}function Sh(r){return r=At(r),r&&r.replace(cm,Zm).replace(Tm,"")}function ly(r,o,c){r=At(r),o=Be(o);var d=r.length;c=c===e?d:yi(ut(c),0,d);var p=c;return c-=o.length,c>=0&&r.slice(c,p)==o}function cy(r){return r=At(r),r&&Yp.test(r)?r.replace(Jc,Qm):r}function uy(r){return r=At(r),r&&Kp.test(r)?r.replace(Ma,"\\$&"):r}var fy=tr(function(r,o,c){return r+(c?"-":"")+o.toLowerCase()}),hy=tr(function(r,o,c){return r+(c?" ":"")+o.toLowerCase()}),dy=Df("toLowerCase");function gy(r,o,c){r=At(r),o=ut(o);var d=o?Xi(r):0;if(!o||d>=o)return r;var p=(o-d)/2;return eo($s(p),c)+r+eo(Hs(p),c)}function py(r,o,c){r=At(r),o=ut(o);var d=o?Xi(r):0;return o&&d<o?r+eo(o-d,c):r}function my(r,o,c){r=At(r),o=ut(o);var d=o?Xi(r):0;return o&&d<o?eo(o-d,c)+r:r}function _y(r,o,c){return c||o==null?o=0:o&&(o=+o),C_(At(r).replace(Ta,""),o||0)}function vy(r,o,c){return(c?ye(r,o,c):o===e)?o=1:o=ut(o),ol(At(r),o)}function by(){var r=arguments,o=At(r[0]);return r.length<3?o:o.replace(r[1],r[2])}var xy=tr(function(r,o,c){return r+(c?"_":"")+o.toLowerCase()});function yy(r,o,c){return c&&typeof c!="number"&&ye(r,o,c)&&(o=c=e),c=c===e?U:c>>>0,c?(r=At(r),r&&(typeof o=="string"||o!=null&&!Al(o))&&(o=Be(o),!o&&qi(r))?oi(hn(r),0,c):r.split(o,c)):[]}var wy=tr(function(r,o,c){return r+(c?" ":"")+Il(o)});function Sy(r,o,c){return r=At(r),c=c==null?0:yi(ut(c),0,r.length),o=Be(o),r.slice(c,c+o.length)==o}function Cy(r,o,c){var d=v.templateSettings;c&&ye(r,o,c)&&(o=e),r=At(r),o=go({},o,d,Pf);var p=go({},o.imports,d.imports,Pf),x=ae(p),C=Ya(p,x),D,A,B=0,z=o.interpolate||Ds,H="__p += '",V=Va((o.escape||Ds).source+"|"+z.source+"|"+(z===tu?im:Ds).source+"|"+(o.evaluate||Ds).source+"|$","g"),Z="//# sourceURL="+(Ot.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pm+"]")+`
`;r.replace(V,function(tt,pt,yt,We,we,Ne){return yt||(yt=We),H+=r.slice(B,Ne).replace(um,Jm),pt&&(D=!0,H+=`' +
__e(`+pt+`) +
'`),we&&(A=!0,H+=`';
`+we+`;
__p += '`),yt&&(H+=`' +
((__t = (`+yt+`)) == null ? '' : __t) +
'`),B=Ne+tt.length,tt}),H+=`';
`;var J=Ot.call(o,"variable")&&o.variable;if(!J)H=`with (obj) {
`+H+`
}
`;else if(em.test(J))throw new it(u);H=(A?H.replace(Wp,""):H).replace(Np,"$1").replace(Hp,"$1;"),H="function("+(J||"obj")+`) {
`+(J?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(D?", __e = _.escape":"")+(A?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+H+`return __p
}`;var ht=kh(function(){return kt(x,Z+"return "+H).apply(e,C)});if(ht.source=H,Tl(ht))throw ht;return ht}function ky(r){return At(r).toLowerCase()}function Dy(r){return At(r).toUpperCase()}function My(r,o,c){if(r=At(r),r&&(c||o===e))return Pu(r);if(!r||!(o=Be(o)))return r;var d=hn(r),p=hn(o),x=Lu(d,p),C=Ru(d,p)+1;return oi(d,x,C).join("")}function Ty(r,o,c){if(r=At(r),r&&(c||o===e))return r.slice(0,Bu(r)+1);if(!r||!(o=Be(o)))return r;var d=hn(r),p=Ru(d,hn(o))+1;return oi(d,0,p).join("")}function Ay(r,o,c){if(r=At(r),r&&(c||o===e))return r.replace(Ta,"");if(!r||!(o=Be(o)))return r;var d=hn(r),p=Lu(d,hn(o));return oi(d,p).join("")}function Oy(r,o){var c=K,d=X;if(Ut(o)){var p="separator"in o?o.separator:p;c="length"in o?ut(o.length):c,d="omission"in o?Be(o.omission):d}r=At(r);var x=r.length;if(qi(r)){var C=hn(r);x=C.length}if(c>=x)return r;var D=c-Xi(d);if(D<1)return d;var A=C?oi(C,0,D).join(""):r.slice(0,D);if(p===e)return A+d;if(C&&(D+=A.length-D),Al(p)){if(r.slice(D).search(p)){var B,z=A;for(p.global||(p=Va(p.source,At(eu.exec(p))+"g")),p.lastIndex=0;B=p.exec(z);)var H=B.index;A=A.slice(0,H===e?D:H)}}else if(r.indexOf(Be(p),D)!=D){var V=A.lastIndexOf(p);V>-1&&(A=A.slice(0,V))}return A+d}function Ey(r){return r=At(r),r&&$p.test(r)?r.replace(Qc,o_):r}var Iy=tr(function(r,o,c){return r+(c?" ":"")+o.toUpperCase()}),Il=Df("toUpperCase");function Ch(r,o,c){return r=At(r),o=c?e:o,o===e?e_(r)?c_(r):qm(r):r.match(o)||[]}var kh=dt(function(r,o){try{return Re(r,e,o)}catch(c){return Tl(c)?c:new it(c)}}),Py=Bn(function(r,o){return qe(o,function(c){c=Cn(c),Rn(r,c,Dl(r[c],r))}),r});function Ly(r){var o=r==null?0:r.length,c=Q();return r=o?$t(r,function(d){if(typeof d[1]!="function")throw new Xe(l);return[c(d[0]),d[1]]}):[],dt(function(d){for(var p=-1;++p<o;){var x=r[p];if(Re(x[0],this,d))return Re(x[1],this,d)}})}function Ry(r){return ov(Ke(r,m))}function Pl(r){return function(){return r}}function Fy(r,o){return r==null||r!==r?o:r}var By=Tf(),zy=Tf(!0);function Ae(r){return r}function Ll(r){return rf(typeof r=="function"?r:Ke(r,m))}function Wy(r){return of(Ke(r,m))}function Ny(r,o){return af(r,Ke(o,m))}var Hy=dt(function(r,o){return function(c){return Ir(c,r,o)}}),$y=dt(function(r,o){return function(c){return Ir(r,c,o)}});function Rl(r,o,c){var d=ae(o),p=Gs(o,d);c==null&&!(Ut(o)&&(p.length||!d.length))&&(c=o,o=r,r=this,p=Gs(o,ae(o)));var x=!(Ut(c)&&"chain"in c)||!!c.chain,C=Wn(r);return qe(p,function(D){var A=o[D];r[D]=A,C&&(r.prototype[D]=function(){var B=this.__chain__;if(x||B){var z=r(this.__wrapped__),H=z.__actions__=De(this.__actions__);return H.push({func:A,args:arguments,thisArg:r}),z.__chain__=B,z}return A.apply(r,ti([this.value()],arguments))})}),r}function Yy(){return ue._===this&&(ue._=p_),this}function Fl(){}function Uy(r){return r=ut(r),dt(function(o){return lf(o,r)})}var Vy=dl($t),qy=dl(Tu),Xy=dl(za);function Dh(r){return xl(r)?Wa(Cn(r)):Sv(r)}function Gy(r){return function(o){return r==null?e:wi(r,o)}}var Ky=Of(),jy=Of(!0);function Bl(){return[]}function zl(){return!1}function Zy(){return{}}function Qy(){return""}function Jy(){return!0}function tw(r,o){if(r=ut(r),r<1||r>Ct)return[];var c=U,d=pe(r,U);o=Q(o),r-=U;for(var p=$a(d,o);++c<r;)o(c);return p}function ew(r){return lt(r)?$t(r,Cn):ze(r)?[r]:De(qf(At(r)))}function nw(r){var o=++d_;return At(r)+o}var iw=to(function(r,o){return r+o},0),rw=gl("ceil"),sw=to(function(r,o){return r/o},1),ow=gl("floor");function aw(r){return r&&r.length?Xs(r,Ae,Ja):e}function lw(r,o){return r&&r.length?Xs(r,Q(o,2),Ja):e}function cw(r){return Eu(r,Ae)}function uw(r,o){return Eu(r,Q(o,2))}function fw(r){return r&&r.length?Xs(r,Ae,il):e}function hw(r,o){return r&&r.length?Xs(r,Q(o,2),il):e}var dw=to(function(r,o){return r*o},1),gw=gl("round"),pw=to(function(r,o){return r-o},0);function mw(r){return r&&r.length?Ha(r,Ae):0}function _w(r,o){return r&&r.length?Ha(r,Q(o,2)):0}return v.after=W0,v.ary=ih,v.assign=Dx,v.assignIn=_h,v.assignInWith=go,v.assignWith=Mx,v.at=Tx,v.before=rh,v.bind=Dl,v.bindAll=Py,v.bindKey=sh,v.castArray=Z0,v.chain=th,v.chunk=ob,v.compact=ab,v.concat=lb,v.cond=Ly,v.conforms=Ry,v.constant=Pl,v.countBy=m0,v.create=Ax,v.curry=oh,v.curryRight=ah,v.debounce=lh,v.defaults=Ox,v.defaultsDeep=Ex,v.defer=N0,v.delay=H0,v.difference=cb,v.differenceBy=ub,v.differenceWith=fb,v.drop=hb,v.dropRight=db,v.dropRightWhile=gb,v.dropWhile=pb,v.fill=mb,v.filter=v0,v.flatMap=y0,v.flatMapDeep=w0,v.flatMapDepth=S0,v.flatten=jf,v.flattenDeep=_b,v.flattenDepth=vb,v.flip=$0,v.flow=By,v.flowRight=zy,v.fromPairs=bb,v.functions=zx,v.functionsIn=Wx,v.groupBy=C0,v.initial=yb,v.intersection=wb,v.intersectionBy=Sb,v.intersectionWith=Cb,v.invert=Hx,v.invertBy=$x,v.invokeMap=D0,v.iteratee=Ll,v.keyBy=M0,v.keys=ae,v.keysIn=Te,v.map=ao,v.mapKeys=Ux,v.mapValues=Vx,v.matches=Wy,v.matchesProperty=Ny,v.memoize=co,v.merge=qx,v.mergeWith=vh,v.method=Hy,v.methodOf=$y,v.mixin=Rl,v.negate=uo,v.nthArg=Uy,v.omit=Xx,v.omitBy=Gx,v.once=Y0,v.orderBy=T0,v.over=Vy,v.overArgs=U0,v.overEvery=qy,v.overSome=Xy,v.partial=Ml,v.partialRight=ch,v.partition=A0,v.pick=Kx,v.pickBy=bh,v.property=Dh,v.propertyOf=Gy,v.pull=Tb,v.pullAll=Qf,v.pullAllBy=Ab,v.pullAllWith=Ob,v.pullAt=Eb,v.range=Ky,v.rangeRight=jy,v.rearg=V0,v.reject=I0,v.remove=Ib,v.rest=q0,v.reverse=Cl,v.sampleSize=L0,v.set=Zx,v.setWith=Qx,v.shuffle=R0,v.slice=Pb,v.sortBy=z0,v.sortedUniq=Nb,v.sortedUniqBy=Hb,v.split=yy,v.spread=X0,v.tail=$b,v.take=Yb,v.takeRight=Ub,v.takeRightWhile=Vb,v.takeWhile=qb,v.tap=a0,v.throttle=G0,v.thru=oo,v.toArray=gh,v.toPairs=xh,v.toPairsIn=yh,v.toPath=ew,v.toPlainObject=mh,v.transform=Jx,v.unary=K0,v.union=Xb,v.unionBy=Gb,v.unionWith=Kb,v.uniq=jb,v.uniqBy=Zb,v.uniqWith=Qb,v.unset=ty,v.unzip=kl,v.unzipWith=Jf,v.update=ey,v.updateWith=ny,v.values=ir,v.valuesIn=iy,v.without=Jb,v.words=Ch,v.wrap=j0,v.xor=t0,v.xorBy=e0,v.xorWith=n0,v.zip=i0,v.zipObject=r0,v.zipObjectDeep=s0,v.zipWith=o0,v.entries=xh,v.entriesIn=yh,v.extend=_h,v.extendWith=go,Rl(v,v),v.add=iw,v.attempt=kh,v.camelCase=ay,v.capitalize=wh,v.ceil=rw,v.clamp=ry,v.clone=Q0,v.cloneDeep=tx,v.cloneDeepWith=ex,v.cloneWith=J0,v.conformsTo=nx,v.deburr=Sh,v.defaultTo=Fy,v.divide=sw,v.endsWith=ly,v.eq=gn,v.escape=cy,v.escapeRegExp=uy,v.every=_0,v.find=b0,v.findIndex=Gf,v.findKey=Ix,v.findLast=x0,v.findLastIndex=Kf,v.findLastKey=Px,v.floor=ow,v.forEach=eh,v.forEachRight=nh,v.forIn=Lx,v.forInRight=Rx,v.forOwn=Fx,v.forOwnRight=Bx,v.get=Ol,v.gt=ix,v.gte=rx,v.has=Nx,v.hasIn=El,v.head=Zf,v.identity=Ae,v.includes=k0,v.indexOf=xb,v.inRange=sy,v.invoke=Yx,v.isArguments=ki,v.isArray=lt,v.isArrayBuffer=sx,v.isArrayLike=Me,v.isArrayLikeObject=Jt,v.isBoolean=ox,v.isBuffer=ai,v.isDate=ax,v.isElement=lx,v.isEmpty=cx,v.isEqual=ux,v.isEqualWith=fx,v.isError=Tl,v.isFinite=hx,v.isFunction=Wn,v.isInteger=uh,v.isLength=fo,v.isMap=fh,v.isMatch=dx,v.isMatchWith=gx,v.isNaN=px,v.isNative=mx,v.isNil=vx,v.isNull=_x,v.isNumber=hh,v.isObject=Ut,v.isObjectLike=Kt,v.isPlainObject=zr,v.isRegExp=Al,v.isSafeInteger=bx,v.isSet=dh,v.isString=ho,v.isSymbol=ze,v.isTypedArray=nr,v.isUndefined=xx,v.isWeakMap=yx,v.isWeakSet=wx,v.join=kb,v.kebabCase=fy,v.last=Ze,v.lastIndexOf=Db,v.lowerCase=hy,v.lowerFirst=dy,v.lt=Sx,v.lte=Cx,v.max=aw,v.maxBy=lw,v.mean=cw,v.meanBy=uw,v.min=fw,v.minBy=hw,v.stubArray=Bl,v.stubFalse=zl,v.stubObject=Zy,v.stubString=Qy,v.stubTrue=Jy,v.multiply=dw,v.nth=Mb,v.noConflict=Yy,v.noop=Fl,v.now=lo,v.pad=gy,v.padEnd=py,v.padStart=my,v.parseInt=_y,v.random=oy,v.reduce=O0,v.reduceRight=E0,v.repeat=vy,v.replace=by,v.result=jx,v.round=gw,v.runInContext=M,v.sample=P0,v.size=F0,v.snakeCase=xy,v.some=B0,v.sortedIndex=Lb,v.sortedIndexBy=Rb,v.sortedIndexOf=Fb,v.sortedLastIndex=Bb,v.sortedLastIndexBy=zb,v.sortedLastIndexOf=Wb,v.startCase=wy,v.startsWith=Sy,v.subtract=pw,v.sum=mw,v.sumBy=_w,v.template=Cy,v.times=tw,v.toFinite=Nn,v.toInteger=ut,v.toLength=ph,v.toLower=ky,v.toNumber=Qe,v.toSafeInteger=kx,v.toString=At,v.toUpper=Dy,v.trim=My,v.trimEnd=Ty,v.trimStart=Ay,v.truncate=Oy,v.unescape=Ey,v.uniqueId=nw,v.upperCase=Iy,v.upperFirst=Il,v.each=eh,v.eachRight=nh,v.first=Zf,Rl(v,function(){var r={};return wn(v,function(o,c){Ot.call(v.prototype,c)||(r[c]=o)}),r}(),{chain:!1}),v.VERSION=i,qe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){v[r].placeholder=v}),qe(["drop","take"],function(r,o){_t.prototype[r]=function(c){c=c===e?1:se(ut(c),0);var d=this.__filtered__&&!o?new _t(this):this.clone();return d.__filtered__?d.__takeCount__=pe(c,d.__takeCount__):d.__views__.push({size:pe(c,U),type:r+(d.__dir__<0?"Right":"")}),d},_t.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),qe(["filter","map","takeWhile"],function(r,o){var c=o+1,d=c==vt||c==ft;_t.prototype[r]=function(p){var x=this.clone();return x.__iteratees__.push({iteratee:Q(p,3),type:c}),x.__filtered__=x.__filtered__||d,x}}),qe(["head","last"],function(r,o){var c="take"+(o?"Right":"");_t.prototype[r]=function(){return this[c](1).value()[0]}}),qe(["initial","tail"],function(r,o){var c="drop"+(o?"":"Right");_t.prototype[r]=function(){return this.__filtered__?new _t(this):this[c](1)}}),_t.prototype.compact=function(){return this.filter(Ae)},_t.prototype.find=function(r){return this.filter(r).head()},_t.prototype.findLast=function(r){return this.reverse().find(r)},_t.prototype.invokeMap=dt(function(r,o){return typeof r=="function"?new _t(this):this.map(function(c){return Ir(c,r,o)})}),_t.prototype.reject=function(r){return this.filter(uo(Q(r)))},_t.prototype.slice=function(r,o){r=ut(r);var c=this;return c.__filtered__&&(r>0||o<0)?new _t(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),o!==e&&(o=ut(o),c=o<0?c.dropRight(-o):c.take(o-r)),c)},_t.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},_t.prototype.toArray=function(){return this.take(U)},wn(_t.prototype,function(r,o){var c=/^(?:filter|find|map|reject)|While$/.test(o),d=/^(?:head|last)$/.test(o),p=v[d?"take"+(o=="last"?"Right":""):o],x=d||/^find/.test(o);p&&(v.prototype[o]=function(){var C=this.__wrapped__,D=d?[1]:arguments,A=C instanceof _t,B=D[0],z=A||lt(C),H=function(pt){var yt=p.apply(v,ti([pt],D));return d&&V?yt[0]:yt};z&&c&&typeof B=="function"&&B.length!=1&&(A=z=!1);var V=this.__chain__,Z=!!this.__actions__.length,J=x&&!V,ht=A&&!Z;if(!x&&z){C=ht?C:new _t(this);var tt=r.apply(C,D);return tt.__actions__.push({func:oo,args:[H],thisArg:e}),new Ge(tt,V)}return J&&ht?r.apply(this,D):(tt=this.thru(H),J?d?tt.value()[0]:tt.value():tt)})}),qe(["pop","push","shift","sort","splice","unshift"],function(r){var o=Is[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",d=/^(?:pop|shift)$/.test(r);v.prototype[r]=function(){var p=arguments;if(d&&!this.__chain__){var x=this.value();return o.apply(lt(x)?x:[],p)}return this[c](function(C){return o.apply(lt(C)?C:[],p)})}}),wn(_t.prototype,function(r,o){var c=v[o];if(c){var d=c.name+"";Ot.call(Zi,d)||(Zi[d]=[]),Zi[d].push({name:o,func:c})}}),Zi[Js(e,k).name]=[{name:"wrapper",func:e}],_t.prototype.clone=E_,_t.prototype.reverse=I_,_t.prototype.value=P_,v.prototype.at=l0,v.prototype.chain=c0,v.prototype.commit=u0,v.prototype.next=f0,v.prototype.plant=d0,v.prototype.reverse=g0,v.prototype.toJSON=v.prototype.valueOf=v.prototype.value=p0,v.prototype.first=v.prototype.head,kr&&(v.prototype[kr]=h0),v},Gi=u_();_i?((_i.exports=Gi)._=Gi,La._=Gi):ue._=Gi}).call(G1)}(Vr,Vr.exports)),Vr.exports}K1();async function j1(n,t){try{console.log(`開始抓取股票 ${n} 的資料...`);const e=await _g.get(`stocks/${n}/all.json`);if(e.data){let i=e.data;if(t&&(i=e.data.filter(h=>Vt(h.date,"YYYYMMDD").isAfter(Vt(t)))),!i||i.length===0)return console.warn(`股票 ${n} 無新資料`),null;let s=Vt().format("YYYY-MM-DD HH:mm:ss"),a=null,l=null;const u=i[i.length-1];a=Vt(u[0],"YYYYMMDD").format("YYYY-MM-DD"),l=u[4];const f={fetchedAt:s,lastPrice:l,lastPriceDate:a,newDailyData:i};return console.log(`成功抓取股票 ${n} 資料`,f),f}return console.warn(`股票 ${n} 無資料回傳`),null}catch(e){return console.error(`抓取股票 ${n} 失敗:`,e),null}}Vw().catch(console.error);async function Z1(){return await mg("user-stock-info")}async function Yl(n){return await Ac("user-stock-info",n)}async function Q1(n){return await qw("user-stock-info",n)}async function J1(){return await Xw("user-stock-info")}const tS=()=>new Worker(new URL("/iKDx/assets/calc-weekly-policy-worker-Cj4HgE7g.js",import.meta.url),{type:"module"}),eS=()=>new Worker(new URL("/iKDx/assets/calc-trade-worker-CrgyXrUO.js",import.meta.url),{type:"module"}),nS=()=>new Worker(new URL("/iKDx/assets/calc-trend-chart-worker-CcvYD_4Q.js",import.meta.url),{type:"module"}),iS=Ec.getPool("policy",tS,4),rS=Ec.getPool("trade",eS,4),sS=Ec.getPool("trend",nS,4),Pc=Gw("userStockList",()=>{const n=qt([]);function t(_){const b=n.value.findIndex(S=>S.id===_);return{foundStock:b!==-1?n.value[b]:null,foundStockIndex:b}}async function e(_=null,b={}){const{updateIndexedDB:S=!0}=b;let y=[],w=[];if(_===null)y=n.value,w=n.value.map((O,E)=>E);else if(typeof _=="string"){const{foundStock:O,foundStockIndex:E}=t(_);if(!O){console.warn(`找不到股票 ${_}`);return}y=[O],w=[E]}else if(Array.isArray(_))y=[],w=[],_.forEach(O=>{const{foundStock:E,foundStockIndex:R}=t(O);E&&(y.push(E),w.push(R))});else{console.warn("stockIds 參數格式錯誤");return}if(y.length===0){console.log("無股票需要更新價格");return}console.log(`開始更新 ${y.length} 支股票價格...`);const k=y.map(async(O,E)=>{try{const R=await j1(O.id,O.lastPriceDate);if(R){const T=w[E],N=await i(O.id,R,({symbol:P,step:$,totalSteps:K,message:X})=>{console.log(`股票 ${P}: ${X} (${$}/${K})`)});let F={...n.value[T],fetchedAt:R.fetchedAt,lastPrice:R.lastPrice,lastPriceDate:R.lastPriceDate};if(N&&(F={...F,data:{weekly:N.policyResult?.weekly||[],weeklyKdj:N.policyResult?.weeklyKdj||[],weeklyRsi:N.policyResult?.weeklyRsi||[]}}),typeof _=="string"&&S){const P=JSON.parse(JSON.stringify(F));Yl(P).catch($=>{console.error(`儲存股票 ${O.id} 到 IndexedDB 失敗:`,$)})}n.value[T]=F}}catch(R){console.error(`股票 ${O.id} 更新失敗:`,R)}});await Promise.all(k),typeof _!="string"&&S&&await h(),console.log(`${y.length} 支股票更新完成`)}async function i(_,b,S=()=>{}){try{S({symbol:_,step:1,totalSteps:3,message:"計算週線與技術指標..."});const[y,w]=await Promise.all([iS.executeTask("processPolicy",{newDailyData:b.newDailyData||[],stockId:_,type:"priceChange"}),rS.executeTask("calculateTrade",{stockData:b.newDailyData||[],tradeParams:{}})]);console.log("policyResult",y),S({symbol:_,step:2,totalSteps:3,message:"平行計算完成，開始計算訊號..."});const k=await sS.executeTask("calculateTrend",{stockData:b.newDailyData||[],trendParams:{policyResult:y,tradeResult:w}});return S({symbol:_,step:3,totalSteps:3,message:"計算完成"}),{stockId:_,policyResult:y}}catch(y){return console.error(`股票 ${_} Worker 計算失敗:`,y),null}}async function s(){try{console.log("開始載入使用者股票清單...");const _=await Z1();return console.log("從 IndexedDB 載入的股票:",_),_&&_.length>0&&(n.value=_),n.value}catch(_){return console.error("載入使用者股票清單失敗:",_),n.value}}async function a(_){if(console.log("開始新增股票:",_),n.value.find(y=>y.id===_.id))return console.log("股票已存在，取消新增"),{success:!1,message:"股票已存在於清單中"};const S={..._,industryCategory:Array.from(_.industryCategory||[]),addedAt:Vt().format("YYYY-MM-DD HH:mm:ss")};console.log("新增股票到 Pinia store:",S),n.value.push(S);try{return console.log("準備儲存股票到 user-stock-info:",S),await Yl(S),console.log("股票已成功儲存到 user-stock-info"),e(_.id).catch(y=>{console.error(`背景更新股票 ${_.id} 價格失敗:`,y)}),{success:!0,message:"股票已新增至清單"}}catch(y){return console.error("儲存股票失敗:",y),n.value=n.value.filter(w=>w.id!==_.id),{success:!1,message:"新增失敗，請稍後再試"}}}async function l(_){try{return await Q1(_),n.value=n.value.filter(b=>b.id!==_),{success:!0,message:"股票已從清單中移除"}}catch(b){return console.error("移除股票失敗:",b),{success:!1,message:"移除失敗，請稍後再試"}}}function u(_){return n.value.some(b=>b.id===_)}async function f(_){n.value=_,await h()}async function h(){try{await J1();for(const _ of n.value){const b=JSON.parse(JSON.stringify(_));await Yl(b)}}catch(_){console.error("儲存股票排序失敗:",_)}}async function g(_){const b=await q1(_);b&&(n.value.find(y=>y.id===b.id)||n.value.push(b))}async function m(_){const b=n.value.find(S=>S.id===_);b&&await X1(b)}return{userStockList:n,loadUserStockList:s,addStockToList:a,removeStockFromList:l,isStockInList:u,reorderStockList:f,loadStockToList:g,saveStockToList:m,updateStockListPrices:e}}),oS={style:{display:"flex","flex-direction":"column",height:"100%","min-height":"60vh"}},aS={style:{flex:"1 1 auto"}},lS={style:{display:"flex",gap:"8px","flex-wrap":"wrap","justify-content":"center","margin-bottom":"24px"}},cS=["onClick"],uS={key:0,style:{"margin-top":"12px"}},fS={key:0},hS={key:0,style:{background:"#fff783","border-radius":"12px","box-shadow":"0 2px 8px #0001",padding:"10px","margin-bottom":"12px",display:"flex","align-items":"center","min-height":"56px",opacity:"0.6"}},dS={style:{"font-size":"17px","font-weight":"bold",color:"#222","margin-right":"16px","min-width":"60px"}},gS={style:{"font-size":"16px",color:"#333",flex:"1"}},pS=["onClick"],mS={style:{"font-size":"17px","font-weight":"bold",color:"#222","margin-right":"16px","min-width":"60px"}},_S={style:{"font-size":"16px",color:"#333",flex:"1"}},vS={key:1,style:{color:"#999","text-align":"center","margin-top":"16px"}},bS={__name:"StockSearch",setup(n){const t=Pc(),e=vg("stock-search"),i=qt(!1);pi(()=>{e.on(y=>{i.value=y})}),bg(()=>{e.reset()});const s=qt(),a=qt(""),l=qt([]),u=["台積電","鴻海","聯發科","長榮","中鋼"],f={background:"#fff",color:"#878787",borderRadius:"16px",padding:"4px 16px",fontSize:"15px",cursor:"pointer",userSelect:"none",fontWeight:"500",transition:"background 0.2s, color 0.2s"},h={background:"#ffe066",color:"#222",fontWeight:"bold",boxShadow:"0 0 0 2px #ffe06688"};function g(y){return a.value===y?{...f,...h}:f}function m(){sn(()=>{const y=s.value?.$el?.querySelector("input");y&&y.focus()})}An(()=>i.value,y=>{y&&setTimeout(()=>{m()},300)}),An(()=>a.value,async y=>{if(console.log("localSearch 更新:",y),!y||y.length<1){l.value=[];return}console.log("觸發 getAllStocks");try{const w=await V1();console.log("getAllStocks 執行成功",w),l.value=w.filter(k=>k.name.includes(y)||k.id.includes(y)),console.log("搜尋結果:",l.value)}catch(w){console.error("getAllStocks 執行失敗:",w)}});function _(y){}function b(y){console.log("點擊熱門標籤:",y),a.value=y}async function S(y){const w=await t.addStockToList(y);Wo({message:w.message,type:w.success?"success":"fail"})}return(y,w)=>(Ie(),xg(Ce(N1),{show:i.value,"onUpdate:show":w[3]||(w[3]=k=>Ce(e).emit(!1)),"cancel-text":"離開",options:[],style:{"--van-share-sheet-header-padding":"24px 24px 0 24px"}},{title:en(()=>w[4]||(w[4]=[gt("div",{style:{"font-size":"18px","font-weight":"bold","letter-spacing":"1px","text-align":"center","margin-top":"0","margin-bottom":"0",color:"#222","line-height":"1.2"}}," 股票搜尋 ",-1)])),description:en(()=>[gt("div",oS,[gt("div",aS,[gt("div",null,[q(Ce(I1),{ref_key:"searchInputRef",ref:s,modelValue:a.value,"onUpdate:modelValue":w[0]||(w[0]=k=>a.value=k),placeholder:"請輸入股票名稱或代碼","action-text":"",style:{"--van-search-input-height":"48px","font-size":"18px"},onSearch:_},null,8,["modelValue"])]),gt("div",null,[w[6]||(w[6]=gt("div",{style:{display:"flex","align-items":"center",margin:"0 0 10px 0"}},[gt("div",{style:{"margin-left":"16px","font-size":"16px",color:"#222","font-weight":"bold","letter-spacing":"1px"}}," | 熱門股票 ")],-1)),gt("div",lS,[(Ie(),rn(Wl,null,Oh(u,k=>gt("span",{key:k,onClick:O=>b(k),style:yg(g(k))},Pe(k),13,cS)),64))]),a.value&&a.value.length>=1?(Ie(),rn("div",uS,[l.value.length?(Ie(),rn("div",fS,[(Ie(!0),rn(Wl,null,Oh(l.value,k=>(Ie(),rn(Wl,{key:k.id},[Ce(t).isStockInList(k.id)?(Ie(),rn("div",hS,[gt("div",dS,Pe(k.id),1),gt("div",gS,Pe(k.name),1),w[5]||(w[5]=gt("div",{style:{"margin-left":"12px","min-width":"60px",height:"40px",background:"#e0e0e0",color:"#666","font-weight":"bold","font-size":"16px","border-radius":"8px",width:"64px",display:"flex","align-items":"center","justify-content":"center"}}," 已新增 ",-1))])):(Ie(),rn("div",{key:1,onClick:O=>S(k),style:{background:"#fff","border-radius":"12px","box-shadow":"0 2px 8px #0001",padding:"10px","margin-bottom":"12px",display:"flex","align-items":"center","min-height":"56px",cursor:"pointer",transition:"all 0.2s ease"},onMouseenter:w[1]||(w[1]=O=>O.target.style.background="#f8f9fa"),onMouseleave:w[2]||(w[2]=O=>O.target.style.background="#fff")},[gt("div",mS,Pe(k.id),1),gt("div",_S,Pe(k.name),1)],40,pS))],64))),128))])):(Ie(),rn("div",vS," 查無資料 "))])):Kw("",!0)])])])]),_:1},8,["show"]))}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ws(n){return n+.5|0}const fi=(n,t,e)=>Math.max(Math.min(n,e),t);function qr(n){return fi(ws(n*2.55),0,255)}function gi(n){return fi(ws(n*255),0,255)}function qn(n){return fi(ws(n/2.55)/100,0,1)}function Bh(n){return fi(ws(n*100),0,100)}const tn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},gc=[..."0123456789ABCDEF"],xS=n=>gc[n&15],yS=n=>gc[(n&240)>>4]+gc[n&15],vo=n=>(n&240)>>4===(n&15),wS=n=>vo(n.r)&&vo(n.g)&&vo(n.b)&&vo(n.a);function SS(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&tn[n[1]]*17,g:255&tn[n[2]]*17,b:255&tn[n[3]]*17,a:t===5?tn[n[4]]*17:255}:(t===7||t===9)&&(e={r:tn[n[1]]<<4|tn[n[2]],g:tn[n[3]]<<4|tn[n[4]],b:tn[n[5]]<<4|tn[n[6]],a:t===9?tn[n[7]]<<4|tn[n[8]]:255})),e}const CS=(n,t)=>n<255?t(n):"";function kS(n){var t=wS(n)?xS:yS;return n?"#"+t(n.r)+t(n.g)+t(n.b)+CS(n.a,t):void 0}const DS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ag(n,t,e){const i=t*Math.min(e,1-e),s=(a,l=(a+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function MS(n,t,e){const i=(s,a=(s+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function TS(n,t,e){const i=Ag(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function AS(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function Lc(n){const e=n.r/255,i=n.g/255,s=n.b/255,a=Math.max(e,i,s),l=Math.min(e,i,s),u=(a+l)/2;let f,h,g;return a!==l&&(g=a-l,h=u>.5?g/(2-a-l):g/(a+l),f=AS(e,i,s,g,a),f=f*60+.5),[f|0,h||0,u]}function Rc(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(gi)}function Fc(n,t,e){return Rc(Ag,n,t,e)}function OS(n,t,e){return Rc(TS,n,t,e)}function ES(n,t,e){return Rc(MS,n,t,e)}function Og(n){return(n%360+360)%360}function IS(n){const t=DS.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?qr(+t[5]):gi(+t[5]));const s=Og(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=OS(s,a,l):t[1]==="hsv"?i=ES(s,a,l):i=Fc(s,a,l),{r:i[0],g:i[1],b:i[2],a:e}}function PS(n,t){var e=Lc(n);e[0]=Og(e[0]+t),e=Fc(e),n.r=e[0],n.g=e[1],n.b=e[2]}function LS(n){if(!n)return;const t=Lc(n),e=t[0],i=Bh(t[1]),s=Bh(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${qn(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const zh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Wh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function RS(){const n={},t=Object.keys(Wh),e=Object.keys(zh);let i,s,a,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],s=0;s<e.length;s++)a=e[s],u=u.replace(a,zh[a]);a=parseInt(Wh[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let bo;function FS(n){bo||(bo=RS(),bo.transparent=[0,0,0,0]);const t=bo[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const BS=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zS(n){const t=BS.exec(n);let e=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?qr(l):fi(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?qr(i):fi(i,0,255)),s=255&(t[4]?qr(s):fi(s,0,255)),a=255&(t[6]?qr(a):fi(a,0,255)),{r:i,g:s,b:a,a:e}}}function WS(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${qn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Ul=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,or=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function NS(n,t,e){const i=or(qn(n.r)),s=or(qn(n.g)),a=or(qn(n.b));return{r:gi(Ul(i+e*(or(qn(t.r))-i))),g:gi(Ul(s+e*(or(qn(t.g))-s))),b:gi(Ul(a+e*(or(qn(t.b))-a))),a:n.a+e*(t.a-n.a)}}function xo(n,t,e){if(n){let i=Lc(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Fc(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Eg(n,t){return n&&Object.assign(t||{},n)}function Nh(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=gi(n[3]))):(t=Eg(n,{r:0,g:0,b:0,a:1}),t.a=gi(t.a)),t}function HS(n){return n.charAt(0)==="r"?zS(n):IS(n)}class gs{constructor(t){if(t instanceof gs)return t;const e=typeof t;let i;e==="object"?i=Nh(t):e==="string"&&(i=SS(t)||FS(t)||HS(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Eg(this._rgb);return t&&(t.a=qn(t.a)),t}set rgb(t){this._rgb=Nh(t)}rgbString(){return this._valid?WS(this._rgb):void 0}hexString(){return this._valid?kS(this._rgb):void 0}hslString(){return this._valid?LS(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let a;const l=e===a?.5:e,u=2*l-1,f=i.a-s.a,h=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;a=1-h,i.r=255&h*i.r+a*s.r+.5,i.g=255&h*i.g+a*s.g+.5,i.b=255&h*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=NS(this._rgb,t._rgb,e)),this}clone(){return new gs(this.rgb)}alpha(t){return this._rgb.a=gi(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=ws(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return xo(this._rgb,2,t),this}darken(t){return xo(this._rgb,2,-t),this}saturate(t){return xo(this._rgb,1,t),this}desaturate(t){return xo(this._rgb,1,-t),this}rotate(t){return PS(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Yn(){}const $S=(()=>{let n=0;return()=>n++})();function zt(n){return n==null}function le(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Mt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ln(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function kn(n,t){return ln(n)?n:t}function wt(n,t){return typeof n>"u"?t:n}const YS=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Ht(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Et(n,t,e,i){let s,a,l;if(le(n))for(a=n.length,s=0;s<a;s++)t.call(e,n[s],s);else if(Mt(n))for(l=Object.keys(n),a=l.length,s=0;s<a;s++)t.call(e,n[l[s]],l[s])}function Jo(n,t){let e,i,s,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],a=t[e],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function ta(n){if(le(n))return n.map(ta);if(Mt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=ta(n[e[s]]);return t}return n}function Ig(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function US(n,t,e,i){if(!Ig(n))return;const s=t[n],a=e[n];Mt(s)&&Mt(a)?ps(s,a,i):t[n]=ta(a)}function ps(n,t,e){const i=le(t)?t:[t],s=i.length;if(!Mt(n))return n;e=e||{};const a=e.merger||US;let l;for(let u=0;u<s;++u){if(l=i[u],!Mt(l))continue;const f=Object.keys(l);for(let h=0,g=f.length;h<g;++h)a(f[h],n,l,e)}return n}function es(n,t){return ps(n,t,{merger:VS})}function VS(n,t,e){if(!Ig(n))return;const i=t[n],s=e[n];Mt(i)&&Mt(s)?es(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=ta(s))}const Hh={"":n=>n,x:n=>n.x,y:n=>n.y};function qS(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function XS(n){const t=qS(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function ea(n,t){return(Hh[t]||(Hh[t]=XS(t)))(n)}function Bc(n){return n.charAt(0).toUpperCase()+n.slice(1)}const na=n=>typeof n<"u",mi=n=>typeof n=="function",$h=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function GS(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ce=Math.PI,On=2*ce,KS=On+ce,ia=Number.POSITIVE_INFINITY,jS=ce/180,bn=ce/2,Di=ce/4,Yh=ce*2/3,Pg=Math.log10,gr=Math.sign;function ns(n,t,e){return Math.abs(n-t)<e}function Uh(n){const t=Math.round(n);n=ns(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Pg(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function ZS(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,a)=>s-a).pop(),t}function QS(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ms(n){return!QS(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function JS(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function tC(n,t,e){let i,s,a;for(i=0,s=n.length;i<s;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Li(n){return n*(ce/180)}function eC(n){return n*(180/ce)}function Vh(n){if(!ln(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function nC(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*ce&&(a+=On),{angle:a,distance:s}}function pc(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function iC(n,t){return(n-t+KS)%On-ce}function li(n){return(n%On+On)%On}function Lg(n,t,e,i){const s=li(n),a=li(t),l=li(e),u=li(a-s),f=li(l-s),h=li(s-a),g=li(s-l);return s===a||s===l||i&&a===l||u>f&&h<g}function on(n,t,e){return Math.max(t,Math.min(e,n))}function rC(n){return on(n,-32768,32767)}function Xr(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function zc(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,e(a)?s=a:i=a;return{lo:s,hi:i}}const Ri=(n,t,e,i)=>zc(n,e,i?s=>{const a=n[s][t];return a<e||a===e&&n[s+1][t]===e}:s=>n[s][t]<e),sC=(n,t,e)=>zc(n,e,i=>n[i][t]>=e);function oC(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const Rg=["push","pop","shift","splice","unshift"];function aC(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Rg.forEach(e=>{const i="_onData"+Bc(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function qh(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(Rg.forEach(a=>{delete n[a]}),delete n._chartjs)}function lC(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Fg=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Bg(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,Fg.call(window,()=>{i=!1,n.apply(t,e)}))}}function cC(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Wc=n=>n==="start"?"left":n==="end"?"right":"center",ve=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,uC=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function fC(n,t,e){const i=t.length;let s=0,a=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:f}=n,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:m,max:_,minDefined:b,maxDefined:S}=l.getUserBounds();if(b){if(s=Math.min(Ri(f,g,m).lo,e?i:Ri(t,g,l.getPixelForValue(m)).lo),h){const y=f.slice(0,s+1).reverse().findIndex(w=>!zt(w[u.axis]));s-=Math.max(0,y)}s=on(s,0,i-1)}if(S){let y=Math.max(Ri(f,l.axis,_,!0).hi+1,e?0:Ri(t,g,l.getPixelForValue(_),!0).hi+1);if(h){const w=f.slice(y-1).findIndex(k=>!zt(k[u.axis]));y+=Math.max(0,w)}a=on(y,s,i)-s}else a=i-s}return{start:s,count:a}}function hC(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),a}const yo=n=>n===0||n===1,Xh=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*On/e)),Gh=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*On/e)+1,is={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*bn)+1,easeOutSine:n=>Math.sin(n*bn),easeInOutSine:n=>-.5*(Math.cos(ce*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>yo(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>yo(n)?n:Xh(n,.075,.3),easeOutElastic:n=>yo(n)?n:Gh(n,.075,.3),easeInOutElastic(n){return yo(n)?n:n<.5?.5*Xh(n*2,.1125,.45):.5+.5*Gh(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-is.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?is.easeInBounce(n*2)*.5:is.easeOutBounce(n*2-1)*.5+.5};function Nc(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Kh(n){return Nc(n)?n:new gs(n)}function Vl(n){return Nc(n)?n:new gs(n).saturate(.5).darken(.1).hexString()}const dC=["x","y","borderWidth","radius","tension"],gC=["color","borderColor","backgroundColor"];function pC(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:gC},numbers:{type:"number",properties:dC}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function mC(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jh=new Map;function _C(n,t){t=t||{};const e=n+JSON.stringify(t);let i=jh.get(e);return i||(i=new Intl.NumberFormat(n,t),jh.set(e,i)),i}function zg(n,t,e){return _C(t,e).format(n)}const vC={values(n){return le(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,a=n;if(e.length>1){const h=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),a=bC(n,e)}const l=Pg(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),zg(n,i,f)}};function bC(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Wg={formatters:vC};function xC(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Wg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const zi=Object.create(null),mc=Object.create(null);function rs(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function ql(n,t,e){return typeof t=="string"?ps(rs(n,t),e):ps(rs(n,""),t)}class yC{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Vl(s.backgroundColor),this.hoverBorderColor=(i,s)=>Vl(s.borderColor),this.hoverColor=(i,s)=>Vl(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ql(this,t,e)}get(t){return rs(this,t)}describe(t,e){return ql(mc,t,e)}override(t,e){return ql(zi,t,e)}route(t,e,i,s){const a=rs(this,t),l=rs(this,i),u="_"+e;Object.defineProperties(a,{[u]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],h=l[s];return Mt(f)?Object.assign({},h,f):wt(f,h)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var ee=new yC({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[pC,mC,xC]);function wC(n){return!n||zt(n.size)||zt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Zh(n,t,e,i,s){let a=t[s];return a||(a=t[s]=n.measureText(s).width,e.push(s)),a>i&&(i=a),i}function Mi(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function Qh(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function _c(n,t,e,i){Ng(n,t,e,i,null)}function Ng(n,t,e,i,s){let a,l,u,f,h,g,m,_;const b=t.pointStyle,S=t.rotation,y=t.radius;let w=(S||0)*jS;if(b&&typeof b=="object"&&(a=b.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(w),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(y)||y<=0)){switch(n.beginPath(),b){default:s?n.ellipse(e,i,s/2,y,0,0,On):n.arc(e,i,y,0,On),n.closePath();break;case"triangle":g=s?s/2:y,n.moveTo(e+Math.sin(w)*g,i-Math.cos(w)*y),w+=Yh,n.lineTo(e+Math.sin(w)*g,i-Math.cos(w)*y),w+=Yh,n.lineTo(e+Math.sin(w)*g,i-Math.cos(w)*y),n.closePath();break;case"rectRounded":h=y*.516,f=y-h,l=Math.cos(w+Di)*f,m=Math.cos(w+Di)*(s?s/2-h:f),u=Math.sin(w+Di)*f,_=Math.sin(w+Di)*(s?s/2-h:f),n.arc(e-m,i-u,h,w-ce,w-bn),n.arc(e+_,i-l,h,w-bn,w),n.arc(e+m,i+u,h,w,w+bn),n.arc(e-_,i+l,h,w+bn,w+ce),n.closePath();break;case"rect":if(!S){f=Math.SQRT1_2*y,g=s?s/2:f,n.rect(e-g,i-f,2*g,2*f);break}w+=Di;case"rectRot":m=Math.cos(w)*(s?s/2:y),l=Math.cos(w)*y,u=Math.sin(w)*y,_=Math.sin(w)*(s?s/2:y),n.moveTo(e-m,i-u),n.lineTo(e+_,i-l),n.lineTo(e+m,i+u),n.lineTo(e-_,i+l),n.closePath();break;case"crossRot":w+=Di;case"cross":m=Math.cos(w)*(s?s/2:y),l=Math.cos(w)*y,u=Math.sin(w)*y,_=Math.sin(w)*(s?s/2:y),n.moveTo(e-m,i-u),n.lineTo(e+m,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l);break;case"star":m=Math.cos(w)*(s?s/2:y),l=Math.cos(w)*y,u=Math.sin(w)*y,_=Math.sin(w)*(s?s/2:y),n.moveTo(e-m,i-u),n.lineTo(e+m,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l),w+=Di,m=Math.cos(w)*(s?s/2:y),l=Math.cos(w)*y,u=Math.sin(w)*y,_=Math.sin(w)*(s?s/2:y),n.moveTo(e-m,i-u),n.lineTo(e+m,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l);break;case"line":l=s?s/2:Math.cos(w)*y,u=Math.sin(w)*y,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(w)*(s?s/2:y),i+Math.sin(w)*y);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function _s(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Hc(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function $c(n){n.restore()}function SC(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function CC(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function kC(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),zt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function DC(n,t,e,i,s){if(s.strikethrough||s.underline){const a=n.measureText(i),l=t-a.actualBoundingBoxLeft,u=t+a.actualBoundingBoxRight,f=e-a.actualBoundingBoxAscent,h=e+a.actualBoundingBoxDescent,g=s.strikethrough?(f+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function MC(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function vs(n,t,e,i,s,a={}){const l=le(t)?t:[t],u=a.strokeWidth>0&&a.strokeColor!=="";let f,h;for(n.save(),n.font=s.string,kC(n,a),f=0;f<l.length;++f)h=l[f],a.backdrop&&MC(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),zt(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(h,e,i,a.maxWidth)),n.fillText(h,e,i,a.maxWidth),DC(n,e,i,h,a),i+=Number(s.lineHeight);n.restore()}function vc(n,t){const{x:e,y:i,w:s,h:a,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*ce,ce,!0),n.lineTo(e,i+a-l.bottomLeft),n.arc(e+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,ce,bn,!0),n.lineTo(e+s-l.bottomRight,i+a),n.arc(e+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,bn,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-bn,!0),n.lineTo(e+l.topLeft,i)}const TC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,AC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function OC(n,t){const e=(""+n).match(TC);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const EC=n=>+n||0;function Hg(n,t){const e={},i=Mt(t),s=i?Object.keys(t):t,a=Mt(n)?i?l=>wt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=EC(a(l));return e}function IC(n){return Hg(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ss(n){return Hg(n,["topLeft","topRight","bottomLeft","bottomRight"])}function cn(n){const t=IC(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function be(n,t){n=n||{},t=t||ee.font;let e=wt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=wt(n.style,t.style);i&&!(""+i).match(AC)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:wt(n.family,t.family),lineHeight:OC(wt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:wt(n.weight,t.weight),string:""};return s.string=wC(s),s}function wo(n,t,e,i){let s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function PC(n,t,e){const{min:i,max:s}=n,a=YS(t,(s-i)/2),l=(u,f)=>e&&u===0?0:u+f;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function Wi(n,t){return Object.assign(Object.create(n),t)}function Yc(n,t=[""],e,i,s=()=>n[0]){const a=e||n;typeof i>"u"&&(i=Vg("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:s,override:u=>Yc([u,...n],t,a,i)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return Yg(u,f,()=>HC(f,t,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return td(u).includes(f)},ownKeys(u){return td(u)},set(u,f,h){const g=u._storage||(u._storage=s());return u[f]=g[f]=h,delete u._keys,!0}})}function pr(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:$g(n,i),setContext:a=>pr(n,a,e,i),override:a=>pr(n.override(a),t,e,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return Yg(a,l,()=>RC(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function $g(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:mi(e)?e:()=>e,isIndexable:mi(i)?i:()=>i}}const LC=(n,t)=>n?n+Bc(t):t,Uc=(n,t)=>Mt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Yg(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function RC(n,t,e){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;let u=i[t];return mi(u)&&l.isScriptable(t)&&(u=FC(t,u,n,e)),le(u)&&u.length&&(u=BC(t,u,n,l.isIndexable)),Uc(t,u)&&(u=pr(u,s,a&&a[t],l)),u}function FC(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(a,l||i);return u.delete(n),Uc(n,f)&&(f=Vc(s._scopes,s,n,f)),f}function BC(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:u}=e;if(typeof a.index<"u"&&i(n))return t[a.index%t.length];if(Mt(t[0])){const f=t,h=s._scopes.filter(g=>g!==f);t=[];for(const g of f){const m=Vc(h,s,n,g);t.push(pr(m,a,l&&l[n],u))}}return t}function Ug(n,t,e){return mi(n)?n(t,e):n}const zC=(n,t)=>n===!0?t:typeof n=="string"?ea(t,n):void 0;function WC(n,t,e,i,s){for(const a of t){const l=zC(e,a);if(l){n.add(l);const u=Ug(l._fallback,e,s);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function Vc(n,t,e,i){const s=t._rootScopes,a=Ug(t._fallback,e,i),l=[...n,...s],u=new Set;u.add(i);let f=Jh(u,l,e,a||e,i);return f===null||typeof a<"u"&&a!==e&&(f=Jh(u,l,a,f,i),f===null)?!1:Yc(Array.from(u),[""],s,a,()=>NC(t,e,i))}function Jh(n,t,e,i,s){for(;e;)e=WC(n,t,e,i,s);return e}function NC(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return le(s)&&Mt(e)?e:s||{}}function HC(n,t,e,i){let s;for(const a of t)if(s=Vg(LC(a,n),e),typeof s<"u")return Uc(n,s)?Vc(e,i,n,s):s}function Vg(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function td(n){let t=n._keys;return t||(t=n._keys=$C(n._scopes)),t}function $C(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const YC=Number.EPSILON||1e-14,mr=(n,t)=>t<n.length&&!n[t].skip&&n[t],qg=n=>n==="x"?"y":"x";function UC(n,t,e,i){const s=n.skip?t:n,a=t,l=e.skip?t:e,u=pc(a,s),f=pc(l,a);let h=u/(u+f),g=f/(u+f);h=isNaN(h)?0:h,g=isNaN(g)?0:g;const m=i*h,_=i*g;return{previous:{x:a.x-m*(l.x-s.x),y:a.y-m*(l.y-s.y)},next:{x:a.x+_*(l.x-s.x),y:a.y+_*(l.y-s.y)}}}function VC(n,t,e){const i=n.length;let s,a,l,u,f,h=mr(n,0);for(let g=0;g<i-1;++g)if(f=h,h=mr(n,g+1),!(!f||!h)){if(ns(t[g],0,YC)){e[g]=e[g+1]=0;continue}s=e[g]/t[g],a=e[g+1]/t[g],u=Math.pow(s,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),e[g]=s*l*t[g],e[g+1]=a*l*t[g])}}function qC(n,t,e="x"){const i=qg(e),s=n.length;let a,l,u,f=mr(n,0);for(let h=0;h<s;++h){if(l=u,u=f,f=mr(n,h+1),!u)continue;const g=u[e],m=u[i];l&&(a=(g-l[e])/3,u[`cp1${e}`]=g-a,u[`cp1${i}`]=m-a*t[h]),f&&(a=(f[e]-g)/3,u[`cp2${e}`]=g+a,u[`cp2${i}`]=m+a*t[h])}}function XC(n,t="x"){const e=qg(t),i=n.length,s=Array(i).fill(0),a=Array(i);let l,u,f,h=mr(n,0);for(l=0;l<i;++l)if(u=f,f=h,h=mr(n,l+1),!!f){if(h){const g=h[t]-f[t];s[l]=g!==0?(h[e]-f[e])/g:0}a[l]=u?h?gr(s[l-1])!==gr(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}VC(n,s,a),qC(n,a,t)}function So(n,t,e){return Math.max(Math.min(n,e),t)}function GC(n,t){let e,i,s,a,l,u=_s(n[0],t);for(e=0,i=n.length;e<i;++e)l=a,a=u,u=e<i-1&&_s(n[e+1],t),a&&(s=n[e],l&&(s.cp1x=So(s.cp1x,t.left,t.right),s.cp1y=So(s.cp1y,t.top,t.bottom)),u&&(s.cp2x=So(s.cp2x,t.left,t.right),s.cp2y=So(s.cp2y,t.top,t.bottom)))}function KC(n,t,e,i,s){let a,l,u,f;if(t.spanGaps&&(n=n.filter(h=>!h.skip)),t.cubicInterpolationMode==="monotone")XC(n,s);else{let h=i?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)u=n[a],f=UC(h,u,n[Math.min(a+1,l-(i?0:1))%l],t.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,h=u}t.capBezierPoints&&GC(n,e)}function qc(){return typeof window<"u"&&typeof document<"u"}function Xc(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ra(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const da=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function jC(n,t){return da(n).getPropertyValue(t)}const ZC=["top","right","bottom","left"];function Bi(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const a=ZC[s];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const QC=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function JC(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:a}=i;let l=!1,u,f;if(QC(s,a,n.target))u=s,f=a;else{const h=t.getBoundingClientRect();u=i.clientX-h.left,f=i.clientY-h.top,l=!0}return{x:u,y:f,box:l}}function Ei(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=da(e),a=s.boxSizing==="border-box",l=Bi(s,"padding"),u=Bi(s,"border","width"),{x:f,y:h,box:g}=JC(n,e),m=l.left+(g&&u.left),_=l.top+(g&&u.top);let{width:b,height:S}=t;return a&&(b-=l.width+u.width,S-=l.height+u.height),{x:Math.round((f-m)/b*e.width/i),y:Math.round((h-_)/S*e.height/i)}}function tk(n,t,e){let i,s;if(t===void 0||e===void 0){const a=n&&Xc(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),u=da(a),f=Bi(u,"border","width"),h=Bi(u,"padding");t=l.width-h.width-f.width,e=l.height-h.height-f.height,i=ra(u.maxWidth,a,"clientWidth"),s=ra(u.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||ia,maxHeight:s||ia}}const Co=n=>Math.round(n*10)/10;function ek(n,t,e,i){const s=da(n),a=Bi(s,"margin"),l=ra(s.maxWidth,n,"clientWidth")||ia,u=ra(s.maxHeight,n,"clientHeight")||ia,f=tk(n,t,e);let{width:h,height:g}=f;if(s.boxSizing==="content-box"){const _=Bi(s,"border","width"),b=Bi(s,"padding");h-=b.width+_.width,g-=b.height+_.height}return h=Math.max(0,h-a.width),g=Math.max(0,i?h/i:g-a.height),h=Co(Math.min(h,l,f.maxWidth)),g=Co(Math.min(g,u,f.maxHeight)),h&&!g&&(g=Co(h/2)),(t!==void 0||e!==void 0)&&i&&f.height&&g>f.height&&(g=f.height,h=Co(Math.floor(g*i))),{width:h,height:g}}function ed(n,t,e){const i=t||1,s=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(n.currentDevicePixelRatio=i,l.height=s,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const nk=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};qc()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function nd(n,t){const e=jC(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ii(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function ik(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function rk(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=Ii(n,s,e),u=Ii(s,a,e),f=Ii(a,t,e),h=Ii(l,u,e),g=Ii(u,f,e);return Ii(h,g,e)}const sk=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},ok=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function hr(n,t,e){return n?sk(t,e):ok()}function Xg(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Gg(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Kg(n){return n==="angle"?{between:Lg,compare:iC,normalize:li}:{between:Xr,compare:(t,e)=>t-e,normalize:t=>t}}function id({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function ak(n,t,e){const{property:i,start:s,end:a}=e,{between:l,normalize:u}=Kg(i),f=t.length;let{start:h,end:g,loop:m}=n,_,b;if(m){for(h+=f,g+=f,_=0,b=f;_<b&&l(u(t[h%f][i]),s,a);++_)h--,g--;h%=f,g%=f}return g<h&&(g+=f),{start:h,end:g,loop:m,style:n.style}}function lk(n,t,e){if(!e)return[n];const{property:i,start:s,end:a}=e,l=t.length,{compare:u,between:f,normalize:h}=Kg(i),{start:g,end:m,loop:_,style:b}=ak(n,t,e),S=[];let y=!1,w=null,k,O,E;const R=()=>f(s,E,k)&&u(s,E)!==0,T=()=>u(a,k)===0||f(a,E,k),N=()=>y||R(),F=()=>!y||T();for(let P=g,$=g;P<=m;++P)O=t[P%l],!O.skip&&(k=h(O[i]),k!==E&&(y=f(k,s,a),w===null&&N()&&(w=u(k,s)===0?P:$),w!==null&&F()&&(S.push(id({start:w,end:P,loop:_,count:l,style:b})),w=null),$=P,E=k));return w!==null&&S.push(id({start:w,end:m,loop:_,count:l,style:b})),S}function ck(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const a=lk(i[s],n.points,t);a.length&&e.push(...a)}return e}function uk(n,t,e,i){let s=0,a=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(a+=s);a>s&&n[a%t].skip;)a--;return a%=t,{start:s,end:a}}function fk(n,t,e,i){const s=n.length,a=[];let l=t,u=n[t],f;for(f=t+1;f<=e;++f){const h=n[f%s];h.skip||h.stop?u.skip||(i=!1,a.push({start:t%s,end:(f-1)%s,loop:i}),t=l=h.stop?f:null):(l=f,u.skip&&(t=f)),u=h}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function hk(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const a=!!n._loop,{start:l,end:u}=uk(e,s,a,i);if(i===!0)return rd(n,[{start:l,end:u,loop:a}],e,t);const f=u<l?u+s:u,h=!!n._fullLoop&&l===0&&u===s-1;return rd(n,fk(e,l,f,h),e,t)}function rd(n,t,e,i){return!i||!i.setContext||!e?t:dk(n,t,e,i)}function dk(n,t,e,i){const s=n._chart.getContext(),a=sd(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,f=e.length,h=[];let g=a,m=t[0].start,_=m;function b(S,y,w,k){const O=u?-1:1;if(S!==y){for(S+=f;e[S%f].skip;)S-=O;for(;e[y%f].skip;)y+=O;S%f!==y%f&&(h.push({start:S%f,end:y%f,loop:w,style:k}),g=k,m=y%f)}}for(const S of t){m=u?m:S.start;let y=e[m%f],w;for(_=m+1;_<=S.end;_++){const k=e[_%f];w=sd(i.setContext(Wi(s,{type:"segment",p0:y,p1:k,p0DataIndex:(_-1)%f,p1DataIndex:_%f,datasetIndex:l}))),gk(w,g)&&b(m,_-1,S.loop,g),y=k,g=w}m<_-1&&b(m,_-1,S.loop,g)}return h}function sd(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function gk(n,t){if(!t)return!1;const e=[],i=function(s,a){return Nc(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function ko(n,t,e){return n.options.clip?n[e]:t[e]}function pk(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:ko(e,t,"left"),right:ko(e,t,"right"),top:ko(i,t,"top"),bottom:ko(i,t,"bottom")}:t}function mk(n,t){const e=t._clip;if(e.disabled)return!1;const i=pk(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class _k{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const a=e.listeners[s],l=e.duration;a.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Fg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,f;for(;l>=0;--l)f=a[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(a[l]=a[a.length-1],a.pop());u&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Un=new _k;const od="transparent",vk={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Kh(n||od),s=i.valid&&Kh(t||od);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class bk{constructor(t,e,i,s){const a=e[i];s=wo([t.to,s,a,t.from]);const l=wo([t.from,a,s]);this._active=!0,this._fn=t.fn||vk[t.type||typeof l],this._easing=is[t.easing]||is.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=wo([t.to,e,s,t.from]),this._from=wo([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,u=this._to;let f;if(this._active=a!==u&&(l||e<i),!this._active){this._target[s]=u,this._notify(!0);return}if(e<0){this._target[s]=a;return}f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[s]=this._fn(a,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class jg{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Mt(t))return;const e=Object.keys(ee.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!Mt(a))return;const l={};for(const u of e)l[u]=a[u];(le(a.properties)&&a.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,s=yk(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&xk(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const h=l[f];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(t,e));continue}const g=e[h];let m=a[h];const _=i.get(h);if(m)if(_&&m.active()){m.update(_,g,u);continue}else m.cancel();if(!_||!_.duration){t[h]=g;continue}a[h]=m=new bk(_,t,h,g),s.push(m)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Un.add(this._chart,i),!0}}function xk(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=n[i[s]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function yk(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function ad(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function wk(n,t,e){if(e===!1)return!1;const i=ad(n,e),s=ad(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Sk(n){let t,e,i,s;return Mt(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function Zg(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)e.push(i[s].index);return e}function ld(n,t,e,i={}){const s=n.keys,a=i.mode==="single";let l,u,f,h;if(t===null)return;let g=!1;for(l=0,u=s.length;l<u;++l){if(f=+s[l],f===e){if(g=!0,i.all)continue;break}h=n.values[f],ln(h)&&(a||t===0||gr(t)===gr(h))&&(t+=h)}return!g&&!i.all?0:t}function Ck(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let f,h,g;for(f=0,h=l.length;f<h;++f)g=l[f],u[f]={[s]:g,[a]:n[g]};return u}function Xl(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function kk(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function Dk(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function Mk(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function cd(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=n[s.index];if(e&&a>0||!e&&a<0)return s.index}return null}function ud(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:u}=i,f=a.axis,h=l.axis,g=kk(a,l,i),m=t.length;let _;for(let b=0;b<m;++b){const S=t[b],{[f]:y,[h]:w}=S,k=S._stacks||(S._stacks={});_=k[h]=Mk(s,g,y),_[u]=w,_._top=cd(_,l,!0,i.type),_._bottom=cd(_,l,!1,i.type);const O=_._visualValues||(_._visualValues={});O[u]=w}}function Gl(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Tk(n,t){return Wi(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Ak(n,t,e){return Wi(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Nr(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const Kl=n=>n==="reset"||n==="none",fd=(n,t)=>t?n:Object.assign({},n),Ok=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Zg(e,!0),values:null};class Qg{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Xl(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Nr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(m,_,b,S)=>m==="x"?_:m==="r"?S:b,a=e.xAxisID=wt(i.xAxisID,Gl(t,"x")),l=e.yAxisID=wt(i.yAxisID,Gl(t,"y")),u=e.rAxisID=wt(i.rAxisID,Gl(t,"r")),f=e.indexAxis,h=e.iAxisID=s(f,a,l,u),g=e.vAxisID=s(f,l,a,u);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&qh(this._data,this),t._stacked&&Nr(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Mt(e)){const s=this._cachedMeta;this._data=Ck(e,s)}else if(i!==e){if(i){qh(i,this);const s=this._cachedMeta;Nr(s),s._parsed=[]}e&&Object.isExtensible(e)&&aC(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=e._stacked;e._stacked=Xl(e.vScale,e),e.stack!==i.stack&&(s=!0,Nr(e),e.stack=i.stack),this._resyncElements(t),(s||a!==e._stacked)&&(ud(this,e._parsed),e._stacked=Xl(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,u=a.axis;let f=t===0&&e===s.length?!0:i._sorted,h=t>0&&i._parsed[t-1],g,m,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{le(s[t])?_=this.parseArrayData(i,s,t,e):Mt(s[t])?_=this.parseObjectData(i,s,t,e):_=this.parsePrimitiveData(i,s,t,e);const b=()=>m[u]===null||h&&m[u]<h[u];for(g=0;g<e;++g)i._parsed[g+t]=m=_[g],f&&(b()&&(f=!1),h=m);i._sorted=f}l&&ud(this,_)}parsePrimitiveData(t,e,i,s){const{iScale:a,vScale:l}=t,u=a.axis,f=l.axis,h=a.getLabels(),g=a===l,m=new Array(s);let _,b,S;for(_=0,b=s;_<b;++_)S=_+i,m[_]={[u]:g||a.parse(h[S],S),[f]:l.parse(e[S],S)};return m}parseArrayData(t,e,i,s){const{xScale:a,yScale:l}=t,u=new Array(s);let f,h,g,m;for(f=0,h=s;f<h;++f)g=f+i,m=e[g],u[f]={x:a.parse(m[0],g),y:l.parse(m[1],g)};return u}parseObjectData(t,e,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,h=new Array(s);let g,m,_,b;for(g=0,m=s;g<m;++g)_=g+i,b=e[_],h[g]={x:a.parse(ea(b,u),_),y:l.parse(ea(b,f),_)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,a=this._cachedMeta,l=e[t.axis],u={keys:Zg(s,!0),values:e._stacks[t.axis]._visualValues};return ld(u,l,a.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const a=i[e.axis];let l=a===null?NaN:a;const u=s&&i._stacks[e.axis];s&&u&&(s.values=u,l=ld(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,u=this._getOtherScale(t),f=Ok(e,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:m}=Dk(u);let _,b;function S(){b=s[_];const y=b[u.axis];return!ln(b[t.axis])||g>y||m<y}for(_=0;_<l&&!(!S()&&(this.updateRangeFromParsed(h,t,b,f),a));++_);if(a){for(_=l-1;_>=0;--_)if(!S()){this.updateRangeFromParsed(h,t,b,f);break}}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=e.length;s<a;++s)l=e[s][t.axis],ln(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Sk(wt(this.options.clip,wk(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],a=e.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||s.length-u,h=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,a,u,f),g=u;g<u+f;++g){const m=s[g];m.hidden||(m.active&&h?l.push(m):m.draw(t,a))}for(g=0;g<l.length;++g)l[g].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=Ak(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=Tk(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",a=this._cachedDataOpts,l=t+"-"+e,u=a[l],f=this.enableOptionSharing&&na(i);if(u)return fd(u,f);const h=this.chart.config,g=h.datasetElementScopeKeys(this._type,t),m=s?[`${t}Hover`,"hover",t,""]:[t,""],_=h.getOptionScopes(this.getDataset(),g),b=Object.keys(ee.elements[t]),S=()=>this.getContext(i,s,e),y=h.resolveNamedOptions(_,b,S,m);return y.$shared&&(y.$shared=f,a[l]=Object.freeze(fd(y,f))),y}_resolveAnimations(t,e,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,u=a[l];if(u)return u;let f;if(s.options.animation!==!1){const g=this.chart.config,m=g.datasetAnimationScopeKeys(this._type,e),_=g.getOptionScopes(this.getDataset(),m);f=g.createResolver(_,this.getContext(t,i,e))}const h=new jg(s,f&&f.animations);return f&&f._cacheable&&(a[l]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Kl(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(e,a)||a!==s;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:l}}updateElement(t,e,i,s){Kl(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Kl(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,f,h]of this._syncList)this[u](f,h);this._syncList=[];const s=i.length,a=e.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,e,i=!0){const s=this._cachedMeta,a=s.data,l=t+e;let u;const f=h=>{for(h.length+=e,u=h.length-1;u>=l;u--)h[u]=h[u-e]};for(f(a),u=t;u<l;++u)a[u]=new this.dataElementType;this._parsing&&f(s._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Nr(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Ek extends Qg{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=e,l=this.chart._animationsDisabled;let{start:u,count:f}=fC(e,s,l);this._drawStart=u,this._drawCount=f,hC(e)&&(u=0,f=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:h},t),this.updateElements(s,u,f,t)}updateElements(t,e,i,s){const a=s==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:h}=this._cachedMeta,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(e,s),_=l.axis,b=u.axis,{spanGaps:S,segment:y}=this.options,w=ms(S)?S:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||a||s==="none",O=e+i,E=t.length;let R=e>0&&this.getParsed(e-1);for(let T=0;T<E;++T){const N=t[T],F=k?N:{};if(T<e||T>=O){F.skip=!0;continue}const P=this.getParsed(T),$=zt(P[b]),K=F[_]=l.getPixelForValue(P[_],T),X=F[b]=a||$?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,P,f):P[b],T);F.skip=isNaN(K)||isNaN(X)||$,F.stop=T>0&&Math.abs(P[_]-R[_])>w,y&&(F.parsed=P,F.raw=h.data[T]),m&&(F.options=g||this.resolveDataElementOptions(T,N.active?"active":s)),k||this.updateElement(N,T,F,s),R=P}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Ti(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Gc{static override(t){Object.assign(Gc.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ti()}parse(){return Ti()}format(){return Ti()}add(){return Ti()}diff(){return Ti()}startOf(){return Ti()}endOf(){return Ti()}}var Jg={_date:Gc};function Ik(n,t,e,i){const{controller:s,data:a,_sorted:l}=n,u=s._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&a.length){const h=u._reversePixels?sC:Ri;if(i){if(s._sharedOptions){const g=a[0],m=typeof g.getRange=="function"&&g.getRange(t);if(m){const _=h(a,t,e-m),b=h(a,t,e+m);return{lo:_.lo,hi:b.hi}}}}else{const g=h(a,t,e);if(f){const{vScale:m}=s._cachedMeta,{_parsed:_}=n,b=_.slice(0,g.lo+1).reverse().findIndex(y=>!zt(y[m.axis]));g.lo-=Math.max(0,b);const S=_.slice(g.hi).findIndex(y=>!zt(y[m.axis]));g.hi+=Math.max(0,S)}return g}}return{lo:0,hi:a.length-1}}function ga(n,t,e,i,s){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,f=a.length;u<f;++u){const{index:h,data:g}=a[u],{lo:m,hi:_}=Ik(a[u],t,l,s);for(let b=m;b<=_;++b){const S=g[b];S.skip||i(S,h,b)}}}function Pk(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function jl(n,t,e,i,s){const a=[];return!s&&!n.isPointInArea(t)||ga(n,e,t,function(u,f,h){!s&&!_s(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&a.push({element:u,datasetIndex:f,index:h})},!0),a}function Lk(n,t,e,i){let s=[];function a(l,u,f){const{startAngle:h,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:m}=nC(l,{x:t.x,y:t.y});Lg(m,h,g)&&s.push({element:l,datasetIndex:u,index:f})}return ga(n,e,t,a),s}function Rk(n,t,e,i,s,a){let l=[];const u=Pk(e);let f=Number.POSITIVE_INFINITY;function h(g,m,_){const b=g.inRange(t.x,t.y,s);if(i&&!b)return;const S=g.getCenterPoint(s);if(!(!!a||n.isPointInArea(S))&&!b)return;const w=u(t,S);w<f?(l=[{element:g,datasetIndex:m,index:_}],f=w):w===f&&l.push({element:g,datasetIndex:m,index:_})}return ga(n,e,t,h),l}function Zl(n,t,e,i,s,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!i?Lk(n,t,e,s):Rk(n,t,e,i,s,a)}function hd(n,t,e,i,s){const a=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return ga(n,e,t,(f,h,g)=>{f[l]&&f[l](t[e],s)&&(a.push({element:f,datasetIndex:h,index:g}),u=u||f.inRange(t.x,t.y,s))}),i&&!u?[]:a}var Fk={modes:{index(n,t,e,i){const s=Ei(t,n),a=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?jl(n,s,a,i,l):Zl(n,s,a,!1,i,l),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const g=u[0].index,m=h.data[g];m&&!m.skip&&f.push({element:m,datasetIndex:h.index,index:g})}),f):[]},dataset(n,t,e,i){const s=Ei(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?jl(n,s,a,i,l):Zl(n,s,a,!1,i,l);if(u.length>0){const f=u[0].datasetIndex,h=n.getDatasetMeta(f).data;u=[];for(let g=0;g<h.length;++g)u.push({element:h[g],datasetIndex:f,index:g})}return u},point(n,t,e,i){const s=Ei(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return jl(n,s,a,i,l)},nearest(n,t,e,i){const s=Ei(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return Zl(n,s,a,e.intersect,i,l)},x(n,t,e,i){const s=Ei(t,n);return hd(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=Ei(t,n);return hd(n,s,"y",e.intersect,i)}}};const tp=["left","top","right","bottom"];function Hr(n,t){return n.filter(e=>e.pos===t)}function dd(n,t){return n.filter(e=>tp.indexOf(e.pos)===-1&&e.box.axis===t)}function $r(n,t){return n.sort((e,i)=>{const s=t?i:e,a=t?e:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function Bk(n){const t=[];let e,i,s,a,l,u;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:a,options:{stack:l,stackWeight:u=1}}=s,t.push({index:e,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:u});return t}function zk(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:a}=e;if(!i||!tp.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function Wk(n,t){const e=zk(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:f}=u.box,h=e[u.stack],g=h&&u.stackWeight/h.weight;u.horizontal?(u.width=g?g*i:f&&t.availableWidth,u.height=s):(u.width=i,u.height=g?g*s:f&&t.availableHeight)}return e}function Nk(n){const t=Bk(n),e=$r(t.filter(h=>h.box.fullSize),!0),i=$r(Hr(t,"left"),!0),s=$r(Hr(t,"right")),a=$r(Hr(t,"top"),!0),l=$r(Hr(t,"bottom")),u=dd(t,"x"),f=dd(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:s.concat(f).concat(l).concat(u),chartArea:Hr(t,"chartArea"),vertical:i.concat(s).concat(f),horizontal:a.concat(l).concat(u)}}function gd(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function ep(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Hk(n,t,e,i){const{pos:s,box:a}=e,l=n.maxPadding;if(!Mt(s)){e.size&&(n[s]-=e.size);const m=i[e.stack]||{size:0,count:1};m.size=Math.max(m.size,e.horizontal?a.height:a.width),e.size=m.size/m.count,n[s]+=e.size}a.getPadding&&ep(l,a.getPadding());const u=Math.max(0,t.outerWidth-gd(l,n,"left","right")),f=Math.max(0,t.outerHeight-gd(l,n,"top","bottom")),h=u!==n.w,g=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:h,other:g}:{same:g,other:h}}function $k(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function Yk(n,t){const e=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return i(n?["left","right"]:["top","bottom"])}function Gr(n,t,e,i){const s=[];let a,l,u,f,h,g;for(a=0,l=n.length,h=0;a<l;++a){u=n[a],f=u.box,f.update(u.width||t.w,u.height||t.h,Yk(u.horizontal,t));const{same:m,other:_}=Hk(t,e,u,i);h|=m&&s.length,g=g||_,f.fullSize||s.push(u)}return h&&Gr(s,t,e,i)||g}function Do(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function pd(n,t,e,i){const s=e.padding;let{x:a,y:l}=t;for(const u of n){const f=u.box,h=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/h.weight||1;if(u.horizontal){const m=t.w*g,_=h.size||f.height;na(h.start)&&(l=h.start),f.fullSize?Do(f,s.left,l,e.outerWidth-s.right-s.left,_):Do(f,t.left+h.placed,l,m,_),h.start=l,h.placed+=m,l=f.bottom}else{const m=t.h*g,_=h.size||f.width;na(h.start)&&(a=h.start),f.fullSize?Do(f,a,s.top,_,e.outerHeight-s.bottom-s.top):Do(f,a,t.top+h.placed,_,m),h.start=a,h.placed+=m,a=f.right}}t.x=a,t.y=l}var an={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=cn(n.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(e-s.height,0),u=Nk(n.boxes),f=u.vertical,h=u.horizontal;Et(n.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const g=f.reduce((y,w)=>w.box.options&&w.box.options.display===!1?y:y+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),_=Object.assign({},s);ep(_,cn(i));const b=Object.assign({maxPadding:_,w:a,h:l,x:s.left,y:s.top},s),S=Wk(f.concat(h),m);Gr(u.fullSize,b,m,S),Gr(f,b,m,S),Gr(h,b,m,S)&&Gr(f,b,m,S),$k(b),pd(u.leftAndTop,b,m,S),b.x+=b.w,b.y+=b.h,pd(u.rightAndBottom,b,m,S),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Et(u.chartArea,y=>{const w=y.box;Object.assign(w,n.chartArea),w.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class np{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class Uk extends np{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const No="$chartjs",Vk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},md=n=>n===null||n==="";function qk(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[No]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",md(s)){const a=nd(n,"width");a!==void 0&&(n.width=a)}if(md(i))if(n.style.height==="")n.height=n.width/(t||2);else{const a=nd(n,"height");a!==void 0&&(n.height=a)}return n}const ip=nk?{passive:!0}:!1;function Xk(n,t,e){n&&n.addEventListener(t,e,ip)}function Gk(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,ip)}function Kk(n,t){const e=Vk[n.type]||n.type,{x:i,y:s}=Ei(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function sa(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function jk(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||sa(u.addedNodes,i),l=l&&!sa(u.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function Zk(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||sa(u.removedNodes,i),l=l&&!sa(u.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const bs=new Map;let _d=0;function rp(){const n=window.devicePixelRatio;n!==_d&&(_d=n,bs.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Qk(n,t){bs.size||window.addEventListener("resize",rp),bs.set(n,t)}function Jk(n){bs.delete(n),bs.size||window.removeEventListener("resize",rp)}function tD(n,t,e){const i=n.canvas,s=i&&Xc(i);if(!s)return;const a=Bg((u,f)=>{const h=s.clientWidth;e(u,f),h<s.clientWidth&&e()},window),l=new ResizeObserver(u=>{const f=u[0],h=f.contentRect.width,g=f.contentRect.height;h===0&&g===0||a(h,g)});return l.observe(s),Qk(n,a),l}function Ql(n,t,e){e&&e.disconnect(),t==="resize"&&Jk(n)}function eD(n,t,e){const i=n.canvas,s=Bg(a=>{n.ctx!==null&&e(Kk(a,n))},n);return Xk(i,t,s),s}class nD extends np{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(qk(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[No])return!1;const i=e[No].initial;["height","width"].forEach(a=>{const l=i[a];zt(l)?e.removeAttribute(a):e.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{e.style[a]=s[a]}),e.width=e.width,delete e[No],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:jk,detach:Zk,resize:tD}[e]||eD;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Ql,detach:Ql,resize:Ql}[e]||Gk)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return ek(t,e,i,s)}isAttached(t){const e=t&&Xc(t);return!!(e&&e.isConnected)}}function iD(n){return!qc()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Uk:nD}class Ni{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return ms(this.x)&&ms(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}}function rD(n,t){const e=n.options.ticks,i=sD(n),s=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?aD(t):[],l=a.length,u=a[0],f=a[l-1],h=[];if(l>s)return lD(t,h,a,l/s),h;const g=oD(a,t,s);if(l>0){let m,_;const b=l>1?Math.round((f-u)/(l-1)):null;for(Mo(t,h,g,zt(b)?0:u-b,u),m=0,_=l-1;m<_;m++)Mo(t,h,g,a[m],a[m+1]);return Mo(t,h,g,f,zt(b)?t.length:f+b),h}return Mo(t,h,g),h}function sD(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function oD(n,t,e){const i=cD(n),s=t.length/e;if(!i)return Math.max(s,1);const a=ZS(i);for(let l=0,u=a.length-1;l<u;l++){const f=a[l];if(f>s)return f}return Math.max(s,1)}function aD(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function lD(n,t,e,i){let s=0,a=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(t.push(n[l]),s++,a=e[s*i])}function Mo(n,t,e,i,s){const a=wt(i,0),l=Math.min(wt(s,n.length),n.length);let u=0,f,h,g;for(e=Math.ceil(e),s&&(f=s-i,e=f/Math.floor(f/e)),g=a;g<0;)u++,g=Math.round(a+u*e);for(h=Math.max(a,0);h<l;h++)h===g&&(t.push(n[h]),u++,g=Math.round(a+u*e))}function cD(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const uD=n=>n==="left"?"right":n==="right"?"left":n,vd=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,bd=(n,t)=>Math.min(t||n,n);function xd(n,t){const e=[],i=n.length/t,s=n.length;let a=0;for(;a<s;a+=i)e.push(n[Math.floor(a)]);return e}function fD(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),a=n._startPixel,l=n._endPixel,u=1e-6;let f=n.getPixelForTick(s),h;if(!(e&&(i===1?h=Math.max(f-a,l-f):t===0?h=(n.getPixelForTick(1)-f)/2:h=(f-n.getPixelForTick(s-1))/2,f+=s<t?h:-h,f<a-u||f>l+u)))return f}function hD(n,t){Et(n,e=>{const i=e.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete e.data[i[a]];i.splice(0,s)}})}function Yr(n){return n.drawTicks?n.tickLength:0}function yd(n,t){if(!n.display)return 0;const e=be(n.font,t),i=cn(n.padding);return(le(n.text)?n.text.length:1)*e.lineHeight+i.height}function dD(n,t){return Wi(n,{scale:t,type:"scale"})}function gD(n,t,e){return Wi(n,{tick:e,index:t,type:"tick"})}function pD(n,t,e){let i=Wc(n);return(e&&t!=="right"||!e&&t==="right")&&(i=uD(i)),i}function mD(n,t,e,i){const{top:s,left:a,bottom:l,right:u,chart:f}=n,{chartArea:h,scales:g}=f;let m=0,_,b,S;const y=l-s,w=u-a;if(n.isHorizontal()){if(b=ve(i,a,u),Mt(e)){const k=Object.keys(e)[0],O=e[k];S=g[k].getPixelForValue(O)+y-t}else e==="center"?S=(h.bottom+h.top)/2+y-t:S=vd(n,e,t);_=u-a}else{if(Mt(e)){const k=Object.keys(e)[0],O=e[k];b=g[k].getPixelForValue(O)-w+t}else e==="center"?b=(h.left+h.right)/2-w+t:b=vd(n,e,t);S=ve(i,l,s),m=e==="left"?-bn:bn}return{titleX:b,titleY:S,maxWidth:_,rotation:m}}class br extends Ni{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=kn(t,Number.POSITIVE_INFINITY),e=kn(e,Number.NEGATIVE_INFINITY),i=kn(i,Number.POSITIVE_INFINITY),s=kn(s,Number.NEGATIVE_INFINITY),{min:kn(t,i),max:kn(e,s),minDefined:ln(t),maxDefined:ln(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,h=u.length;f<h;++f)l=u[f].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),a||(i=Math.max(i,l.max));return e=a&&e>i?i:e,i=s&&e>i?e:i,{min:kn(e,kn(i,e)),max:kn(i,kn(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ht(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=PC(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?xd(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=rD(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ht(this.options.afterUpdate,[this])}beforeSetDimensions(){Ht(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ht(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ht(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ht(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=Ht(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){Ht(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ht(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=bd(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,a=e.maxRotation;let l=s,u,f,h;if(!this._isVisible()||!e.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const g=this._getLabelSizes(),m=g.widest.width,_=g.highest.height,b=on(this.chart.width-m,0,this.maxWidth);u=t.offset?this.maxWidth/i:b/(i-1),m+6>u&&(u=b/(i-(t.offset?.5:1)),f=this.maxHeight-Yr(t.grid)-e.padding-yd(t.title,this.chart.options.font),h=Math.sqrt(m*m+_*_),l=eC(Math.min(Math.asin(on((g.highest.height+6)/u,-1,1)),Math.asin(on(f/h,-1,1))-Math.asin(on(_/h,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ht(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ht(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=yd(s,e.options.font);if(u?(t.width=this.maxWidth,t.height=Yr(a)+f):(t.height=this.maxHeight,t.width=Yr(a)+f),i.display&&this.ticks.length){const{first:h,last:g,widest:m,highest:_}=this._getLabelSizes(),b=i.padding*2,S=Li(this.labelRotation),y=Math.cos(S),w=Math.sin(S);if(u){const k=i.mirror?0:w*m.width+y*_.height;t.height=Math.min(this.maxHeight,t.height+k+b)}else{const k=i.mirror?0:y*m.width+w*_.height;t.width=Math.min(this.maxWidth,t.width+k+b)}this._calculatePadding(h,g,w,y)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:a,padding:l},position:u}=this.options,f=this.labelRotation!==0,h=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;f?h?(_=s*t.width,b=i*e.height):(_=i*t.height,b=s*e.width):a==="start"?b=e.width:a==="end"?_=t.width:a!=="inner"&&(_=t.width/2,b=e.width/2),this.paddingLeft=Math.max((_-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((b-m+l)*this.width/(this.width-m),0)}else{let g=e.height/2,m=t.height/2;a==="start"?(g=0,m=t.height):a==="end"&&(g=e.height,m=0),this.paddingTop=g+l,this.paddingBottom=m+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ht(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)zt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=xd(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:a}=this,l=[],u=[],f=Math.floor(e/bd(e,i));let h=0,g=0,m,_,b,S,y,w,k,O,E,R,T;for(m=0;m<e;m+=f){if(S=t[m].label,y=this._resolveTickFontOptions(m),s.font=w=y.string,k=a[w]=a[w]||{data:{},gc:[]},O=y.lineHeight,E=R=0,!zt(S)&&!le(S))E=Zh(s,k.data,k.gc,E,S),R=O;else if(le(S))for(_=0,b=S.length;_<b;++_)T=S[_],!zt(T)&&!le(T)&&(E=Zh(s,k.data,k.gc,E,T),R+=O);l.push(E),u.push(R),h=Math.max(E,h),g=Math.max(R,g)}hD(a,e);const N=l.indexOf(h),F=u.indexOf(g),P=$=>({width:l[$]||0,height:u[$]||0});return{first:P(0),last:P(e-1),widest:P(N),highest:P(F),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return rC(this._alignToPixels?Mi(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=gD(this.getContext(),t,i))}return this.$context||(this.$context=dD(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Li(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,u=a?a.widest.width+l:0,f=a?a.highest.height+l:0;return this.isHorizontal()?f*i>u*s?u/i:f/s:f*s<u*i?f/i:u/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:u}=s,f=a.offset,h=this.isHorizontal(),m=this.ticks.length+(f?1:0),_=Yr(a),b=[],S=u.setContext(this.getContext()),y=S.display?S.width:0,w=y/2,k=function(ft){return Mi(i,ft,y)};let O,E,R,T,N,F,P,$,K,X,j,rt;if(l==="top")O=k(this.bottom),F=this.bottom-_,$=O-w,X=k(t.top)+w,rt=t.bottom;else if(l==="bottom")O=k(this.top),X=t.top,rt=k(t.bottom)-w,F=O+w,$=this.top+_;else if(l==="left")O=k(this.right),N=this.right-_,P=O-w,K=k(t.left)+w,j=t.right;else if(l==="right")O=k(this.left),K=t.left,j=k(t.right)-w,N=O+w,P=this.left+_;else if(e==="x"){if(l==="center")O=k((t.top+t.bottom)/2+.5);else if(Mt(l)){const ft=Object.keys(l)[0],bt=l[ft];O=k(this.chart.scales[ft].getPixelForValue(bt))}X=t.top,rt=t.bottom,F=O+w,$=F+_}else if(e==="y"){if(l==="center")O=k((t.left+t.right)/2);else if(Mt(l)){const ft=Object.keys(l)[0],bt=l[ft];O=k(this.chart.scales[ft].getPixelForValue(bt))}N=O-w,P=N-_,K=t.left,j=t.right}const vt=wt(s.ticks.maxTicksLimit,m),st=Math.max(1,Math.ceil(m/vt));for(E=0;E<m;E+=st){const ft=this.getContext(E),bt=a.setContext(ft),Ct=u.setContext(ft),ne=bt.lineWidth,Qt=bt.color,U=Ct.dash||[],mt=Ct.dashOffset,xt=bt.tickWidth,Lt=bt.tickColor,Tt=bt.tickBorderDash||[],Xt=bt.tickBorderDashOffset;R=fD(this,E,f),R!==void 0&&(T=Mi(i,R,ne),h?N=P=K=j=T:F=$=X=rt=T,b.push({tx1:N,ty1:F,tx2:P,ty2:$,x1:K,y1:X,x2:j,y2:rt,width:ne,color:Qt,borderDash:U,borderDashOffset:mt,tickWidth:xt,tickColor:Lt,tickBorderDash:Tt,tickBorderDashOffset:Xt}))}return this._ticksLength=m,this._borderValue=O,b}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:h,padding:g,mirror:m}=a,_=Yr(i.grid),b=_+g,S=m?-g:b,y=-Li(this.labelRotation),w=[];let k,O,E,R,T,N,F,P,$,K,X,j,rt="middle";if(s==="top")N=this.bottom-S,F=this._getXAxisLabelAlignment();else if(s==="bottom")N=this.top+S,F=this._getXAxisLabelAlignment();else if(s==="left"){const st=this._getYAxisLabelAlignment(_);F=st.textAlign,T=st.x}else if(s==="right"){const st=this._getYAxisLabelAlignment(_);F=st.textAlign,T=st.x}else if(e==="x"){if(s==="center")N=(t.top+t.bottom)/2+b;else if(Mt(s)){const st=Object.keys(s)[0],ft=s[st];N=this.chart.scales[st].getPixelForValue(ft)+b}F=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")T=(t.left+t.right)/2-b;else if(Mt(s)){const st=Object.keys(s)[0],ft=s[st];T=this.chart.scales[st].getPixelForValue(ft)}F=this._getYAxisLabelAlignment(_).textAlign}e==="y"&&(f==="start"?rt="top":f==="end"&&(rt="bottom"));const vt=this._getLabelSizes();for(k=0,O=u.length;k<O;++k){E=u[k],R=E.label;const st=a.setContext(this.getContext(k));P=this.getPixelForTick(k)+a.labelOffset,$=this._resolveTickFontOptions(k),K=$.lineHeight,X=le(R)?R.length:1;const ft=X/2,bt=st.color,Ct=st.textStrokeColor,ne=st.textStrokeWidth;let Qt=F;l?(T=P,F==="inner"&&(k===O-1?Qt=this.options.reverse?"left":"right":k===0?Qt=this.options.reverse?"right":"left":Qt="center"),s==="top"?h==="near"||y!==0?j=-X*K+K/2:h==="center"?j=-vt.highest.height/2-ft*K+K:j=-vt.highest.height+K/2:h==="near"||y!==0?j=K/2:h==="center"?j=vt.highest.height/2-ft*K:j=vt.highest.height-X*K,m&&(j*=-1),y!==0&&!st.showLabelBackdrop&&(T+=K/2*Math.sin(y))):(N=P,j=(1-X)*K/2);let U;if(st.showLabelBackdrop){const mt=cn(st.backdropPadding),xt=vt.heights[k],Lt=vt.widths[k];let Tt=j-mt.top,Xt=0-mt.left;switch(rt){case"middle":Tt-=xt/2;break;case"bottom":Tt-=xt;break}switch(F){case"center":Xt-=Lt/2;break;case"right":Xt-=Lt;break;case"inner":k===O-1?Xt-=Lt:k>0&&(Xt-=Lt/2);break}U={left:Xt,top:Tt,width:Lt+mt.width,height:xt+mt.height,color:st.backdropColor}}w.push({label:R,font:$,textOffset:j,options:{rotation:y,color:bt,strokeColor:Ct,strokeWidth:ne,textAlign:Qt,textBaseline:rt,translation:[T,N],backdrop:U}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Li(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),u=t+a,f=l.widest.width;let h,g;return e==="left"?s?(g=this.right+a,i==="near"?h="left":i==="center"?(h="center",g+=f/2):(h="right",g+=f)):(g=this.right-u,i==="near"?h="right":i==="center"?(h="center",g-=f/2):(h="left",g=this.left)):e==="right"?s?(g=this.left+a,i==="near"?h="right":i==="center"?(h="center",g-=f/2):(h="left",g-=f)):(g=this.left+u,i==="near"?h="left":i==="center"?(h="center",g+=f/2):(h="right",g=this.right)):h="right",{textAlign:h,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const u=(f,h,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(e.display)for(a=0,l=s.length;a<l;++a){const f=s[a];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,g,m,_;this.isHorizontal()?(h=Mi(t,this.left,l)-l/2,g=Mi(t,this.right,u)+u/2,m=_=f):(m=Mi(t,this.top,l)-l/2,_=Mi(t,this.bottom,u)+u/2,h=g=f),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(h,m),e.lineTo(g,_),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Hc(i,s);const a=this.getLabelItems(t);for(const l of a){const u=l.options,f=l.font,h=l.label,g=l.textOffset;vs(i,h,0,g,f,u)}s&&$c(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const a=be(i.font),l=cn(i.padding),u=i.align;let f=a.lineHeight/2;e==="bottom"||e==="center"||Mt(e)?(f+=l.bottom,le(i.text)&&(f+=a.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:h,titleY:g,maxWidth:m,rotation:_}=mD(this,f,e,u);vs(t,i.text,0,0,a,{color:i.color,maxWidth:m,rotation:_,textAlign:pD(u,e,s),textBaseline:"middle",translation:[h,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=wt(t.grid&&t.grid.z,-1),s=wt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==br.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=e.length;a<l;++a){const u=e[a];u[i]===this.id&&(!t||u.type===t)&&s.push(u)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return be(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class To{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;bD(e)&&(i=this.register(e));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,_D(t,l,i),this.override&&ee.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in ee[s]&&(delete ee[s][i],this.override&&delete zi[i])}}function _D(n,t,e){const i=ps(Object.create(null),[e?ee.get(e):{},ee.get(t),n.defaults]);ee.set(t,i),n.defaultRoutes&&vD(t,n.defaultRoutes),n.descriptors&&ee.describe(t,n.descriptors)}function vD(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),a=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),f=l.join(".");ee.route(a,s,f,u)})}function bD(n){return"id"in n&&"defaults"in n}class xD{constructor(){this.controllers=new To(Qg,"datasets",!0),this.elements=new To(Ni,"elements"),this.plugins=new To(Object,"plugins"),this.scales=new To(br,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):Et(s,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const s=Bc(t);Ht(i["before"+s],[],i),e[t](i),Ht(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Mn=new xD;class yD{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,s){s=s||{};for(const a of t){const l=a.plugin,u=l[i],f=[e,s,a.options];if(Ht(u,f,l)===!1&&s.cancelable)return!1}return!0}invalidate(){zt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=wt(i.options&&i.options.plugins,{}),a=wD(i);return s===!1&&!e?[]:CD(t,a,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function wD(n){const t={},e=[],i=Object.keys(Mn.plugins.items);for(let a=0;a<i.length;a++)e.push(Mn.getPlugin(i[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function SD(n,t){return!t&&n===!1?null:n===!0?{}:n}function CD(n,{plugins:t,localIds:e},i,s){const a=[],l=n.getContext();for(const u of t){const f=u.id,h=SD(i[f],s);h!==null&&a.push({plugin:u,options:kD(n.config,{plugin:u,local:e[f]},h,l)})}return a}function kD(n,{plugin:t,local:e},i,s){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(i,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bc(n,t){const e=ee.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function DD(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function MD(n,t){return n===t?"_index_":"_value_"}function wd(n){if(n==="x"||n==="y"||n==="r")return n}function TD(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function xc(n,...t){if(wd(n))return n;for(const e of t){const i=e.axis||TD(e.position)||n.length>1&&wd(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Sd(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function AD(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Sd(n,"x",e[0])||Sd(n,"y",e[0])}return{}}function OD(n,t){const e=zi[n.type]||{scales:{}},i=t.scales||{},s=bc(n.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Mt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=xc(l,u,AD(l,n),ee.scales[u.type]),h=MD(f,s),g=e.scales||{};a[l]=es(Object.create(null),[{axis:f},u,g[f],g[h]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,f=l.indexAxis||bc(u,t),g=(zi[u]||{}).scales||{};Object.keys(g).forEach(m=>{const _=DD(m,f),b=l[_+"AxisID"]||_;a[b]=a[b]||Object.create(null),es(a[b],[{axis:_},i[b],g[m]])})}),Object.keys(a).forEach(l=>{const u=a[l];es(u,[ee.scales[u.type],ee.scale])}),a}function sp(n){const t=n.options||(n.options={});t.plugins=wt(t.plugins,{}),t.scales=OD(n,t)}function op(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function ED(n){return n=n||{},n.data=op(n.data),sp(n),n}const Cd=new Map,ap=new Set;function Ao(n,t){let e=Cd.get(n);return e||(e=t(),Cd.set(n,e),ap.add(e)),e}const Ur=(n,t,e)=>{const i=ea(t,e);i!==void 0&&n.add(i)};class ID{constructor(t){this._config=ED(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=op(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),sp(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ao(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Ao(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Ao(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Ao(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const f=new Set;e.forEach(g=>{t&&(f.add(t),g.forEach(m=>Ur(f,t,m))),g.forEach(m=>Ur(f,s,m)),g.forEach(m=>Ur(f,zi[a]||{},m)),g.forEach(m=>Ur(f,ee,m)),g.forEach(m=>Ur(f,mc,m))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),ap.has(e)&&l.set(e,h),h}chartOptionScopes(){const{options:t,type:e}=this;return[t,zi[e]||{},ee.datasets[e]||{},{type:e},ee,mc]}resolveNamedOptions(t,e,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=kd(this._resolverCache,t,s);let f=l;if(LD(l,e)){a.$shared=!1,i=mi(i)?i():i;const h=this.createResolver(t,i,u);f=pr(l,i,h)}for(const h of e)a[h]=f[h];return a}createResolver(t,e,i=[""],s){const{resolver:a}=kd(this._resolverCache,t,i);return Mt(e)?pr(a,e,void 0,s):a}}function kd(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let a=i.get(s);return a||(a={resolver:Yc(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,a)),a}const PD=n=>Mt(n)&&Object.getOwnPropertyNames(n).some(t=>mi(n[t]));function LD(n,t){const{isScriptable:e,isIndexable:i}=$g(n);for(const s of t){const a=e(s),l=i(s),u=(l||a)&&n[s];if(a&&(mi(u)||PD(u))||l&&le(u))return!0}return!1}var RD="4.5.0";const FD=["top","bottom","left","right","chartArea"];function Dd(n,t){return n==="top"||n==="bottom"||FD.indexOf(n)===-1&&t==="x"}function Md(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Td(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Ht(e&&e.onComplete,[n],t)}function BD(n){const t=n.chart,e=t.options.animation;Ht(e&&e.onProgress,[n],t)}function lp(n){return qc()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ho={},Ad=n=>{const t=lp(n);return Object.values(Ho).filter(e=>e.canvas===t).pop()};function zD(n,t,e){const i=Object.keys(n);for(const s of i){const a=+s;if(a>=t){const l=n[s];delete n[s],(e>0||a>t)&&(n[a+e]=l)}}}function WD(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let pa=class{static defaults=ee;static instances=Ho;static overrides=zi;static registry=Mn;static version=RD;static getChart=Ad;static register(...t){Mn.add(...t),Od()}static unregister(...t){Mn.remove(...t),Od()}constructor(t,e){const i=this.config=new ID(e),s=lp(t),a=Ad(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||iD(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),f=u&&u.canvas,h=f&&f.height,g=f&&f.width;if(this.id=$S(),this.ctx=u,this.canvas=f,this.width=g,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yD,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=cC(m=>this.update(m),l.resizeDelay||0),this._dataChanges=[],Ho[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Un.listen(this,"complete",Td),Un.listen(this,"progress",BD),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:a}=this;return zt(t)?e&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Mn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ed(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qh(this.canvas,this.ctx),this}stop(){return Un.stop(this),this}resize(t,e){Un.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,ed(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Ht(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Et(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const u=e[l],f=xc(l,u),h=f==="r",g=f==="x";return{options:u,dposition:h?"chartArea":g?"bottom":"left",dtype:h?"radialLinear":g?"category":"linear"}}))),Et(a,l=>{const u=l.options,f=u.id,h=xc(f,u),g=wt(u.type,l.dtype);(u.position===void 0||Dd(u.position,h)!==Dd(l.dposition))&&(u.position=l.dposition),s[f]=!0;let m=null;if(f in i&&i[f].type===g)m=i[f];else{const _=Mn.getScale(g);m=new _({id:f,type:g,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(u,t)}),Et(s,(l,u)=>{l||delete i[u]}),Et(i,l=>{an.configure(this,l,l.options),an.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Md("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const a=e[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||bc(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=Mn.getController(u),{datasetElementType:h,dataElementType:g}=ee.datasets[u];Object.assign(f,{dataElementType:Mn.getElement(g),datasetElementType:h&&Mn.getElement(h)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Et(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,g=this.data.datasets.length;h<g;h++){const{controller:m}=this.getDatasetMeta(h),_=!s&&a.indexOf(m)===-1;m.buildOrUpdateElements(_),l=Math.max(+m.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Et(a,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Md("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Et(this.scales,t=>{an.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!$h(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of e){const l=i==="_removeElements"?-a:a;zD(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<e;a++)if(!$h(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;an.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Et(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,mi(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Un.has(this)?this.attached&&!Un.running(this)&&Un.start(this):(this.draw(),Td({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=mk(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Hc(e,s),t.controller.draw(),s&&$c(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return _s(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const a=Fk.modes[e];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Wi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);na(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Un.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Qh(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Ho[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},s=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Et(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,h)=>{e.addEventListener(this,f,h),t[f]=h},s=(f,h)=>{t[f]&&(e.removeEventListener(this,f,h),delete t[f])},a=(f,h)=>{this.canvas&&this.resize(f,h)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){Et(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Et(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let a,l,u,f;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){l=t[u];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!Jo(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,a=(f,h)=>f.filter(g=>!h.some(m=>g.datasetIndex===m.datasetIndex&&g.index===m.index)),l=a(e,t),u=i?t:a(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:a}=this,l=e,u=this._getActiveElements(t,s,i,l),f=GS(t),h=WD(t,this._lastEvent,i,f);i&&(this._lastEvent=null,Ht(a.onHover,[t,u,this],this),f&&Ht(a.onClick,[t,u,this],this));const g=!Jo(u,s);return(g||e)&&(this._active=u,this._updateHoverStyles(u,s,e)),this._lastEvent=h,g}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}};function Od(){return Et(pa.instances,n=>n._plugins.invalidate())}function cp(n,t,e=t){n.lineCap=wt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(wt(e.borderDash,t.borderDash)),n.lineDashOffset=wt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=wt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=wt(e.borderWidth,t.borderWidth),n.strokeStyle=wt(e.borderColor,t.borderColor)}function ND(n,t,e){n.lineTo(e.x,e.y)}function HD(n){return n.stepped?SC:n.tension||n.cubicInterpolationMode==="monotone"?CC:ND}function up(n,t,e={}){const i=n.length,{start:s=0,end:a=i-1}=e,{start:l,end:u}=t,f=Math.max(s,l),h=Math.min(a,u),g=s<l&&a<l||s>u&&a>u;return{count:i,start:f,loop:t.loop,ilen:h<f&&!g?i+h-f:h-f}}function $D(n,t,e,i){const{points:s,options:a}=t,{count:l,start:u,loop:f,ilen:h}=up(s,e,i),g=HD(a);let{move:m=!0,reverse:_}=i||{},b,S,y;for(b=0;b<=h;++b)S=s[(u+(_?h-b:b))%l],!S.skip&&(m?(n.moveTo(S.x,S.y),m=!1):g(n,y,S,_,a.stepped),y=S);return f&&(S=s[(u+(_?h:0))%l],g(n,y,S,_,a.stepped)),!!f}function YD(n,t,e,i){const s=t.points,{count:a,start:l,ilen:u}=up(s,e,i),{move:f=!0,reverse:h}=i||{};let g=0,m=0,_,b,S,y,w,k;const O=R=>(l+(h?u-R:R))%a,E=()=>{y!==w&&(n.lineTo(g,w),n.lineTo(g,y),n.lineTo(g,k))};for(f&&(b=s[O(0)],n.moveTo(b.x,b.y)),_=0;_<=u;++_){if(b=s[O(_)],b.skip)continue;const R=b.x,T=b.y,N=R|0;N===S?(T<y?y=T:T>w&&(w=T),g=(m*g+R)/++m):(E(),n.lineTo(R,T),S=N,m=0,y=w=T),k=T}E()}function yc(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?YD:$D}function UD(n){return n.stepped?ik:n.tension||n.cubicInterpolationMode==="monotone"?rk:Ii}function VD(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),cp(n,t.options),n.stroke(s)}function qD(n,t,e,i){const{segments:s,options:a}=t,l=yc(t);for(const u of s)cp(n,a,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const XD=typeof Path2D=="function";function GD(n,t,e,i){XD&&!t.options.segment?VD(n,t,e,i):qD(n,t,e,i)}class KD extends Ni{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;KC(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=hk(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],a=this.points,l=ck(this,{property:e,start:s,end:s});if(!l.length)return;const u=[],f=UD(i);let h,g;for(h=0,g=l.length;h<g;++h){const{start:m,end:_}=l[h],b=a[m],S=a[_];if(b===S){u.push(b);continue}const y=Math.abs((s-b[e])/(S[e]-b[e])),w=f(b,S,y,i.stepped);w[e]=t[e],u.push(w)}return u.length===1?u[0]:u}pathSegment(t,e,i){return yc(this)(t,this,e,i)}path(t,e,i){const s=this.segments,a=yc(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of s)l&=a(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),GD(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ed(n,t,e,i){const s=n.options,{[e]:a}=n.getProps([e],i);return Math.abs(t-a)<s.radius+s.hitRadius}class jD extends Ni{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(e-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return Ed(this,t,"x",e)}inYRange(t,e){return Ed(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!_s(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,_c(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}const Id=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},ZD=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Pd extends Ni{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Ht(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=be(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=Id(i,a);let h,g;e.font=s.string,this.isHorizontal()?(h=this.maxWidth,g=this._fitRows(l,a,u,f)+10):(g=this.maxHeight,h=this._fitCols(l,s,u,f)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],g=s+u;let m=t;a.textAlign="left",a.textBaseline="middle";let _=-1,b=-g;return this.legendItems.forEach((S,y)=>{const w=i+e/2+a.measureText(S.text).width;(y===0||h[h.length-1]+w+2*u>l)&&(m+=g,h[h.length-(y>0?0:1)]=0,b+=g,_++),f[y]={left:0,top:b,row:_,width:w,height:s},h[h.length-1]+=w+u}),m}_fitCols(t,e,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],g=l-t;let m=u,_=0,b=0,S=0,y=0;return this.legendItems.forEach((w,k)=>{const{itemWidth:O,itemHeight:E}=QD(i,e,a,w,s);k>0&&b+E+2*u>g&&(m+=_+u,h.push({width:_,height:b}),S+=_+u,y++,_=b=0),f[k]={left:S,top:b,col:y,width:O,height:E},_=Math.max(_,O),b+=E+u}),m+=_,h.push({width:_,height:b}),m}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:a}}=this,l=hr(a,this.left,this.width);if(this.isHorizontal()){let u=0,f=ve(i,this.left+s,this.right-this.lineWidths[u]);for(const h of e)u!==h.row&&(u=h.row,f=ve(i,this.left+s,this.right-this.lineWidths[u])),h.top+=this.top+t+s,h.left=l.leftForLtr(l.x(f),h.width),f+=h.width+s}else{let u=0,f=ve(i,this.top+t+s,this.bottom-this.columnSizes[u].height);for(const h of e)h.col!==u&&(u=h.col,f=ve(i,this.top+t+s,this.bottom-this.columnSizes[u].height)),h.top=f,h.left+=this.left+s,h.left=l.leftForLtr(l.x(h.left),h.width),f+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Hc(t,this),this._draw(),$c(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,u=ee.color,f=hr(t.rtl,this.left,this.width),h=be(l.font),{padding:g}=l,m=h.size,_=m/2;let b;this.drawTitle(),s.textAlign=f.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:S,boxHeight:y,itemHeight:w}=Id(l,m),k=function(N,F,P){if(isNaN(S)||S<=0||isNaN(y)||y<0)return;s.save();const $=wt(P.lineWidth,1);if(s.fillStyle=wt(P.fillStyle,u),s.lineCap=wt(P.lineCap,"butt"),s.lineDashOffset=wt(P.lineDashOffset,0),s.lineJoin=wt(P.lineJoin,"miter"),s.lineWidth=$,s.strokeStyle=wt(P.strokeStyle,u),s.setLineDash(wt(P.lineDash,[])),l.usePointStyle){const K={radius:y*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:$},X=f.xPlus(N,S/2),j=F+_;Ng(s,K,X,j,l.pointStyleWidth&&S)}else{const K=F+Math.max((m-y)/2,0),X=f.leftForLtr(N,S),j=ss(P.borderRadius);s.beginPath(),Object.values(j).some(rt=>rt!==0)?vc(s,{x:X,y:K,w:S,h:y,radius:j}):s.rect(X,K,S,y),s.fill(),$!==0&&s.stroke()}s.restore()},O=function(N,F,P){vs(s,P.text,N,F+w/2,h,{strikethrough:P.hidden,textAlign:f.textAlign(P.textAlign)})},E=this.isHorizontal(),R=this._computeTitleHeight();E?b={x:ve(a,this.left+g,this.right-i[0]),y:this.top+g+R,line:0}:b={x:this.left+g,y:ve(a,this.top+R+g,this.bottom-e[0].height),line:0},Xg(this.ctx,t.textDirection);const T=w+g;this.legendItems.forEach((N,F)=>{s.strokeStyle=N.fontColor,s.fillStyle=N.fontColor;const P=s.measureText(N.text).width,$=f.textAlign(N.textAlign||(N.textAlign=l.textAlign)),K=S+_+P;let X=b.x,j=b.y;f.setWidth(this.width),E?F>0&&X+K+g>this.right&&(j=b.y+=T,b.line++,X=b.x=ve(a,this.left+g,this.right-i[b.line])):F>0&&j+T>this.bottom&&(X=b.x=X+e[b.line].width+g,b.line++,j=b.y=ve(a,this.top+R+g,this.bottom-e[b.line].height));const rt=f.x(X);if(k(rt,j,N),X=uC($,X+S+_,E?X+K:this.right,t.rtl),O(f.x(X),j,N),E)b.x+=K+g;else if(typeof N.text!="string"){const vt=h.lineHeight;b.y+=fp(N,vt)+g}else b.y+=T}),Gg(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=be(e.font),s=cn(e.padding);if(!e.display)return;const a=hr(t.rtl,this.left,this.width),l=this.ctx,u=e.position,f=i.size/2,h=s.top+f;let g,m=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),g=this.top+h,m=ve(t.align,m,this.right-_);else{const S=this.columnSizes.reduce((y,w)=>Math.max(y,w.height),0);g=h+ve(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const b=ve(u,m,m+_);l.textAlign=a.textAlign(Wc(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,vs(l,e.text,b,g,i)}_computeTitleHeight(){const t=this.options.title,e=be(t.font),i=cn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,a;if(Xr(t,this.left,this.right)&&Xr(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],Xr(t,s.left,s.left+s.width)&&Xr(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!eM(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=ZD(s,i);s&&!a&&Ht(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&Ht(e.onHover,[t,i,this],this)}else i&&Ht(e.onClick,[t,i,this],this)}}function QD(n,t,e,i,s){const a=JD(i,n,t,e),l=tM(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function JD(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+e.size/2+i.measureText(s).width}function tM(n,t,e){let i=n;return typeof t.text!="string"&&(i=fp(t,e)),i}function fp(n,t){const e=n.text?n.text.length:0;return t*e}function eM(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var nM={id:"legend",_element:Pd,start(n,t,e){const i=n.legend=new Pd({ctx:n.ctx,options:e,chart:n});an.configure(n,i,e),an.addBox(n,i)},stop(n){an.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;an.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(e?0:void 0),g=cn(h.borderWidth);return{text:t[f.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:l&&(u||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class hp extends Ni{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=le(i.text)?i.text.length:1;this._padding=cn(i.padding);const a=s*be(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:a,options:l}=this,u=l.align;let f=0,h,g,m;return this.isHorizontal()?(g=ve(u,i,a),m=e+t,h=a-i):(l.position==="left"?(g=i+t,m=ve(u,s,e),f=ce*-.5):(g=a-t,m=ve(u,e,s),f=ce*.5),h=s-e),{titleX:g,titleY:m,maxWidth:h,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=be(e.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:h}=this._drawArgs(a);vs(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:h,textAlign:Wc(e.align),textBaseline:"middle",translation:[l,u]})}}function iM(n,t){const e=new hp({ctx:n.ctx,options:t,chart:n});an.configure(n,e,t),an.addBox(n,e),n.titleBlock=e}var rM={id:"title",_element:hp,start(n,t,e){iM(n,e)},stop(n){const t=n.titleBlock;an.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;an.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Kr={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,a=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),s+=f.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:s/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const f=n[a].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),g=pc(t,h);g<s&&(s=g,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Dn(n,t){return t&&(le(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Vn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function sM(n,t){const{element:e,datasetIndex:i,index:s}=t,a=n.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(s);return{chart:n,label:l,parsed:a.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:u,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function Ld(n,t){const e=n.chart.ctx,{body:i,footer:s,title:a}=n,{boxWidth:l,boxHeight:u}=t,f=be(t.bodyFont),h=be(t.titleFont),g=be(t.footerFont),m=a.length,_=s.length,b=i.length,S=cn(t.padding);let y=S.height,w=0,k=i.reduce((R,T)=>R+T.before.length+T.lines.length+T.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,m&&(y+=m*h.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),k){const R=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;y+=b*R+(k-b)*f.lineHeight+(k-1)*t.bodySpacing}_&&(y+=t.footerMarginTop+_*g.lineHeight+(_-1)*t.footerSpacing);let O=0;const E=function(R){w=Math.max(w,e.measureText(R).width+O)};return e.save(),e.font=h.string,Et(n.title,E),e.font=f.string,Et(n.beforeBody.concat(n.afterBody),E),O=t.displayColors?l+2+t.boxPadding:0,Et(i,R=>{Et(R.before,E),Et(R.lines,E),Et(R.after,E)}),O=0,e.font=g.string,Et(n.footer,E),e.restore(),w+=S.width,{width:w,height:y}}function oM(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function aM(n,t,e,i){const{x:s,width:a}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+a+l>t.width||n==="right"&&s-a-l<0)return!0}function lM(n,t,e,i){const{x:s,width:a}=e,{width:l,chartArea:{left:u,right:f}}=n;let h="center";return i==="center"?h=s<=(u+f)/2?"left":"right":s<=a/2?h="left":s>=l-a/2&&(h="right"),aM(h,n,t,e)&&(h="center"),h}function Rd(n,t,e){const i=e.yAlign||t.yAlign||oM(n,e);return{xAlign:e.xAlign||t.xAlign||lM(n,t,e,i),yAlign:i}}function cM(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function uM(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function Fd(n,t,e,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:f}=e,h=s+a,{topLeft:g,topRight:m,bottomLeft:_,bottomRight:b}=ss(l);let S=cM(t,u);const y=uM(t,f,h);return f==="center"?u==="left"?S+=h:u==="right"&&(S-=h):u==="left"?S-=Math.max(g,_)+s:u==="right"&&(S+=Math.max(m,b)+s),{x:on(S,0,i.width-t.width),y:on(y,0,i.height-t.height)}}function Oo(n,t,e){const i=cn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Bd(n){return Dn([],Vn(n))}function fM(n,t,e){return Wi(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function zd(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const dp={beforeTitle:Yn,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Yn,beforeBody:Yn,beforeLabel:Yn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return zt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Yn,afterBody:Yn,beforeFooter:Yn,footer:Yn,afterFooter:Yn};function Oe(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?dp[t].call(e,i):s}class Wd extends Ni{static positioners=Kr;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,a=new jg(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=fM(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=Oe(i,"beforeTitle",this,t),a=Oe(i,"title",this,t),l=Oe(i,"afterTitle",this,t);let u=[];return u=Dn(u,Vn(s)),u=Dn(u,Vn(a)),u=Dn(u,Vn(l)),u}getBeforeBody(t,e){return Bd(Oe(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return Et(t,a=>{const l={before:[],lines:[],after:[]},u=zd(i,a);Dn(l.before,Vn(Oe(u,"beforeLabel",this,a))),Dn(l.lines,Oe(u,"label",this,a)),Dn(l.after,Vn(Oe(u,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,e){return Bd(Oe(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Oe(i,"beforeFooter",this,t),a=Oe(i,"footer",this,t),l=Oe(i,"afterFooter",this,t);let u=[];return u=Dn(u,Vn(s)),u=Dn(u,Vn(a)),u=Dn(u,Vn(l)),u}_createItems(t){const e=this._active,i=this.chart.data,s=[],a=[],l=[];let u=[],f,h;for(f=0,h=e.length;f<h;++f)u.push(sM(this.chart,e[f]));return t.filter&&(u=u.filter((g,m,_)=>t.filter(g,m,_,i))),t.itemSort&&(u=u.sort((g,m)=>t.itemSort(g,m,i))),Et(u,g=>{const m=zd(t.callbacks,g);s.push(Oe(m,"labelColor",this,g)),a.push(Oe(m,"labelPointStyle",this,g)),l.push(Oe(m,"labelTextColor",this,g))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const u=Kr[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=Ld(this,i),h=Object.assign({},u,f),g=Rd(this.chart,i,h),m=Fd(i,h,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:m.x,y:m.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const a=this.getCaretPosition(t,i,s);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:m}=ss(u),{x:_,y:b}=t,{width:S,height:y}=e;let w,k,O,E,R,T;return a==="center"?(R=b+y/2,s==="left"?(w=_,k=w-l,E=R+l,T=R-l):(w=_+S,k=w+l,E=R-l,T=R+l),O=w):(s==="left"?k=_+Math.max(f,g)+l:s==="right"?k=_+S-Math.max(h,m)-l:k=this.caretX,a==="top"?(E=b,R=E-l,w=k-l,O=k+l):(E=b+y,R=E+l,w=k+l,O=k-l),T=E),{x1:w,x2:k,x3:O,y1:E,y2:R,y3:T}}drawTitle(t,e,i){const s=this.title,a=s.length;let l,u,f;if(a){const h=hr(i.rtl,this.x,this.width);for(t.x=Oo(this,i.titleAlign,i),e.textAlign=h.textAlign(i.titleAlign),e.textBaseline="middle",l=be(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,f=0;f<a;++f)e.fillText(s[f],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,f+1===a&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,s,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:h}=a,g=be(a.bodyFont),m=Oo(this,"left",a),_=s.x(m),b=f<g.lineHeight?(g.lineHeight-f)/2:0,S=e.y+b;if(a.usePointStyle){const y={radius:Math.min(h,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},w=s.leftForLtr(_,h)+h/2,k=S+f/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,_c(t,y,w,k),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,_c(t,y,w,k)}else{t.lineWidth=Mt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const y=s.leftForLtr(_,h),w=s.leftForLtr(s.xPlus(_,1),h-2),k=ss(l.borderRadius);Object.values(k).some(O=>O!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,vc(t,{x:y,y:S,w:h,h:f,radius:k}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),vc(t,{x:w,y:S+1,w:h-2,h:f-2,radius:k}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(y,S,h,f),t.strokeRect(y,S,h,f),t.fillStyle=l.backgroundColor,t.fillRect(w,S+1,h-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:h,boxPadding:g}=i,m=be(i.bodyFont);let _=m.lineHeight,b=0;const S=hr(i.rtl,this.x,this.width),y=function(P){e.fillText(P,S.x(t.x+b),t.y+_/2),t.y+=_+a},w=S.textAlign(l);let k,O,E,R,T,N,F;for(e.textAlign=l,e.textBaseline="middle",e.font=m.string,t.x=Oo(this,w,i),e.fillStyle=i.bodyColor,Et(this.beforeBody,y),b=u&&w!=="right"?l==="center"?h/2+g:h+2+g:0,R=0,N=s.length;R<N;++R){for(k=s[R],O=this.labelTextColors[R],e.fillStyle=O,Et(k.before,y),E=k.lines,u&&E.length&&(this._drawColorBox(e,t,R,S,i),_=Math.max(m.lineHeight,f)),T=0,F=E.length;T<F;++T)y(E[T]),_=m.lineHeight;Et(k.after,y)}b=0,_=m.lineHeight,Et(this.afterBody,y),t.y-=a}drawFooter(t,e,i){const s=this.footer,a=s.length;let l,u;if(a){const f=hr(i.rtl,this.x,this.width);for(t.x=Oo(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",l=be(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<a;++u)e.fillText(s[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:a,yAlign:l}=this,{x:u,y:f}=t,{width:h,height:g}=i,{topLeft:m,topRight:_,bottomLeft:b,bottomRight:S}=ss(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(u+m,f),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(u+h-_,f),e.quadraticCurveTo(u+h,f,u+h,f+_),l==="center"&&a==="right"&&this.drawCaret(t,e,i,s),e.lineTo(u+h,f+g-S),e.quadraticCurveTo(u+h,f+g,u+h-S,f+g),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(u+b,f+g),e.quadraticCurveTo(u,f+g,u,f+g-b),l==="center"&&a==="left"&&this.drawCaret(t,e,i,s),e.lineTo(u,f+m),e.quadraticCurveTo(u,f,u+m,f),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=Kr[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Ld(this,t),f=Object.assign({},l,this._size),h=Rd(e,t,f),g=Fd(t,f,h,e);(s._to!==g.x||a._to!==g.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=cn(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,e),Xg(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),Gg(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:u,index:f})=>{const h=this.chart.getDatasetMeta(u);if(!h)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:h.data[f],index:f}}),a=!Jo(i,s),l=this._positionChanged(s,e);(a||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,i),u=this._positionChanged(l,t),f=e||!Jo(l,a)||u;return f&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:a}=this,l=Kr[a.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}var hM={id:"tooltip",_element:Wd,positioners:Kr,afterInit(n,t,e){e&&(n.tooltip=new Wd({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:dp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const dM=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function gM(n,t,e,i){const s=n.indexOf(t);if(s===-1)return dM(n,t,e,i);const a=n.lastIndexOf(t);return s!==a?e:s}const pM=(n,t)=>n===null?null:on(Math.round(n),0,t);function Nd(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class mM extends br{static id="category";static defaults={ticks:{callback:Nd}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:a}of e)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(zt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:gM(i,t,wt(e,t),this._addedLabels),pM(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return Nd.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function _M(n,t){const e=[],{bounds:s,step:a,min:l,max:u,precision:f,count:h,maxTicks:g,maxDigits:m,includeBounds:_}=n,b=a||1,S=g-1,{min:y,max:w}=t,k=!zt(l),O=!zt(u),E=!zt(h),R=(w-y)/(m+1);let T=Uh((w-y)/S/b)*b,N,F,P,$;if(T<1e-14&&!k&&!O)return[{value:y},{value:w}];$=Math.ceil(w/T)-Math.floor(y/T),$>S&&(T=Uh($*T/S/b)*b),zt(f)||(N=Math.pow(10,f),T=Math.ceil(T*N)/N),s==="ticks"?(F=Math.floor(y/T)*T,P=Math.ceil(w/T)*T):(F=y,P=w),k&&O&&a&&JS((u-l)/a,T/1e3)?($=Math.round(Math.min((u-l)/T,g)),T=(u-l)/$,F=l,P=u):E?(F=k?l:F,P=O?u:P,$=h-1,T=(P-F)/$):($=(P-F)/T,ns($,Math.round($),T/1e3)?$=Math.round($):$=Math.ceil($));const K=Math.max(Vh(T),Vh(F));N=Math.pow(10,zt(f)?K:f),F=Math.round(F*N)/N,P=Math.round(P*N)/N;let X=0;for(k&&(_&&F!==l?(e.push({value:l}),F<l&&X++,ns(Math.round((F+X*T)*N)/N,l,Hd(l,R,n))&&X++):F<l&&X++);X<$;++X){const j=Math.round((F+X*T)*N)/N;if(O&&j>u)break;e.push({value:j})}return O&&_&&P!==u?e.length&&ns(e[e.length-1].value,u,Hd(u,R,n))?e[e.length-1].value=u:e.push({value:u}):(!O||P===u)&&e.push({value:P}),e}function Hd(n,t,{horizontal:e,minRotation:i}){const s=Li(i),a=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class vM extends br{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return zt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=f=>s=e?s:f,u=f=>a=i?a:f;if(t){const f=gr(s),h=gr(a);f<0&&h<0?u(0):f>0&&h>0&&l(0)}if(s===a){let f=a===0?1:Math.abs(a*.05);u(a+f),t||l(s-f)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=_M(s,a);return t.bounds==="ticks"&&tC(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return zg(t,this.chart.options.locale,this.options.ticks.format)}}class bM extends vM{static id="linear";static defaults={ticks:{callback:Wg.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ln(t)?t:0,this.max=ln(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Li(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const ma={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Le=Object.keys(ma);function $d(n,t){return n-t}function Yd(n,t){if(zt(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:a}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),ln(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(ms(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,s)),+l)}function Ud(n,t,e,i){const s=Le.length;for(let a=Le.indexOf(n);a<s-1;++a){const l=ma[Le[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Le[a]}return Le[s-1]}function xM(n,t,e,i,s){for(let a=Le.length-1;a>=Le.indexOf(e);a--){const l=Le[a];if(ma[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return Le[e?Le.indexOf(e):0]}function yM(n){for(let t=Le.indexOf(n)+1,e=Le.length;t<e;++t)if(ma[Le[t]].common)return Le[t]}function Vd(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=zc(e,t),a=e[i]>=t?e[i]:e[s];n[a]=!0}}function wM(n,t,e,i){const s=n._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let u,f;for(u=a;u<=l;u=+s.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}function qd(n,t,e){const i=[],s={},a=t.length;let l,u;for(l=0;l<a;++l)u=t[l],s[u]=l,i.push({value:u,major:!1});return a===0||!e?i:wM(n,i,s,e)}class wc extends br{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new Jg._date(t.adapters.date);s.init(e),es(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Yd(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function f(h){!l&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!u&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!l||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),s=ln(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),a=ln(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,u=oC(s,a,l);return this._unit=e.unit||(i.autoSkip?Ud(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):xM(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:yM(this._unit),this.initOffsets(s),t.reverse&&u.reverse(),qd(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=on(e,0,l),i=on(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||Ud(a.minUnit,e,i,this._getLabelCapacity(e)),u=wt(s.ticks.stepSize,1),f=l==="week"?a.isoWeekday:!1,h=ms(f)||f===!0,g={};let m=e,_,b;if(h&&(m=+t.startOf(m,"isoWeek",f)),m=+t.startOf(m,h?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=s.ticks.source==="data"&&this.getDataTimestamps();for(_=m,b=0;_<i;_=+t.add(_,u,l),b++)Vd(g,_,S);return(_===i||s.bounds==="ticks"||b===1)&&Vd(g,_,S),Object.keys(g).sort($d).map(y=>+y)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,a=this._unit,l=e||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const a=this.options,l=a.ticks.callback;if(l)return Ht(l,[t,e,i],this);const u=a.time.displayFormats,f=this._unit,h=this._majorUnit,g=f&&u[f],m=h&&u[h],_=i[e],b=h&&m&&_&&_.major;return this._adapter.format(t,s||(b?m:g))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=Li(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,qd(this,[t],this._majorUnit),s),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(Yd(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return lC(t.sort($d))}}function Eo(n,t,e){let i=0,s=n.length-1,a,l,u,f;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=Ri(n,"pos",t)),{pos:a,time:u}=n[i],{pos:l,time:f}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=Ri(n,"time",t)),{time:a,pos:u}=n[i],{time:l,pos:f}=n[s]);const h=l-a;return h?u+(f-u)*(t-a)/h:u}class bA extends wc{static id="timeseries";static defaults=wc.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Eo(e,this.min),this._tableRange=Eo(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],a=[];let l,u,f,h,g;for(l=0,u=t.length;l<u;++l)h=t[l],h>=e&&h<=i&&s.push(h);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)g=s[l+1],f=s[l-1],h=s[l],Math.round((g+f)/2)!==h&&a.push({time:h,pos:l/(u-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Eo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Eo(this._table,i*this._tableRange+this._minPos,!0)}}const gp={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},SM={ariaLabel:{type:String},ariaDescribedby:{type:String}},CM={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...gp,...SM},kM=jw[0]==="2"?(n,t)=>Object.assign(n,{attrs:t}):(n,t)=>Object.assign(n,t);function ar(n){return Sg(n)?hc(n):n}function DM(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n;return Sg(t)?new Proxy(n,{}):n}function MM(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function pp(n,t){n.labels=t}function mp(n,t,e){const i=[];n.datasets=t.map(s=>{const a=n.datasets.find(l=>l[e]===s[e]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function TM(n,t){const e={labels:[],datasets:[]};return pp(e,n.labels),mp(e,n.datasets,t),e}const AM=un({props:CM,setup(n,t){let{expose:e,slots:i}=t;const s=qt(null),a=wg(null);e({chart:a});const l=()=>{if(!s.value)return;const{type:h,data:g,options:m,plugins:_,datasetIdKey:b}=n,S=TM(g,b),y=DM(S,g);a.value=new pa(s.value,{type:h,data:y,options:{...m},plugins:_})},u=()=>{const h=hc(a.value);h&&(n.destroyDelay>0?setTimeout(()=>{h.destroy(),a.value=null},n.destroyDelay):(h.destroy(),a.value=null))},f=h=>{h.update(n.updateMode)};return pi(l),bg(u),An([()=>n.options,()=>n.data],(h,g)=>{let[m,_]=h,[b,S]=g;const y=hc(a.value);if(!y)return;let w=!1;if(m){const k=ar(m),O=ar(b);k&&k!==O&&(MM(y,k),w=!0)}if(_){const k=ar(_.labels),O=ar(S.labels),E=ar(_.datasets),R=ar(S.datasets);k!==O&&(pp(y.config.data,k),w=!0),E&&E!==R&&(mp(y.config.data,E,n.datasetIdKey),w=!0)}w&&sn(()=>{f(y)})},{deep:!0}),()=>ds("canvas",{role:"img",ariaLabel:n.ariaLabel,ariaDescribedby:n.ariaDescribedby,ref:s},[ds("p",{},[i.default?i.default():""])])}});function OM(n,t){return pa.register(t),un({props:gp,setup(e,i){let{expose:s}=i;const a=wg(null),l=u=>{a.value=u?.chart};return s({chart:a}),()=>ds(AM,kM({ref:l},{type:n,...e}))}})}const EM=OM("line",Ek);var $o={exports:{}},IM=$o.exports,Xd;function PM(){return Xd||(Xd=1,function(n,t){(function(e,i){n.exports=i()})(IM,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,a=/\d\d/,l=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,f={},h=function(w){return(w=+w)+(w>68?1900:2e3)},g=function(w){return function(k){this[w]=+k}},m=[/[+-]\d\d:?(\d\d)?|Z/,function(w){(this.zone||(this.zone={})).offset=function(k){if(!k||k==="Z")return 0;var O=k.match(/([+-]|\d\d)/g),E=60*O[1]+(+O[2]||0);return E===0?0:O[0]==="+"?-E:E}(w)}],_=function(w){var k=f[w];return k&&(k.indexOf?k:k.s.concat(k.f))},b=function(w,k){var O,E=f.meridiem;if(E){for(var R=1;R<=24;R+=1)if(w.indexOf(E(R,0,k))>-1){O=R>12;break}}else O=w===(k?"pm":"PM");return O},S={A:[u,function(w){this.afternoon=b(w,!1)}],a:[u,function(w){this.afternoon=b(w,!0)}],Q:[s,function(w){this.month=3*(w-1)+1}],S:[s,function(w){this.milliseconds=100*+w}],SS:[a,function(w){this.milliseconds=10*+w}],SSS:[/\d{3}/,function(w){this.milliseconds=+w}],s:[l,g("seconds")],ss:[l,g("seconds")],m:[l,g("minutes")],mm:[l,g("minutes")],H:[l,g("hours")],h:[l,g("hours")],HH:[l,g("hours")],hh:[l,g("hours")],D:[l,g("day")],DD:[a,g("day")],Do:[u,function(w){var k=f.ordinal,O=w.match(/\d+/);if(this.day=O[0],k)for(var E=1;E<=31;E+=1)k(E).replace(/\[|\]/g,"")===w&&(this.day=E)}],w:[l,g("week")],ww:[a,g("week")],M:[l,g("month")],MM:[a,g("month")],MMM:[u,function(w){var k=_("months"),O=(_("monthsShort")||k.map(function(E){return E.slice(0,3)})).indexOf(w)+1;if(O<1)throw new Error;this.month=O%12||O}],MMMM:[u,function(w){var k=_("months").indexOf(w)+1;if(k<1)throw new Error;this.month=k%12||k}],Y:[/[+-]?\d+/,g("year")],YY:[a,function(w){this.year=h(w)}],YYYY:[/\d{4}/,g("year")],Z:m,ZZ:m};function y(w){var k,O;k=w,O=f&&f.formats;for(var E=(w=k.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(K,X,j){var rt=j&&j.toUpperCase();return X||O[j]||e[j]||O[rt].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(vt,st,ft){return st||ft.slice(1)})})).match(i),R=E.length,T=0;T<R;T+=1){var N=E[T],F=S[N],P=F&&F[0],$=F&&F[1];E[T]=$?{regex:P,parser:$}:N.replace(/^\[|\]$/g,"")}return function(K){for(var X={},j=0,rt=0;j<R;j+=1){var vt=E[j];if(typeof vt=="string")rt+=vt.length;else{var st=vt.regex,ft=vt.parser,bt=K.slice(rt),Ct=st.exec(bt)[0];ft.call(X,Ct),K=K.replace(Ct,"")}}return function(ne){var Qt=ne.afternoon;if(Qt!==void 0){var U=ne.hours;Qt?U<12&&(ne.hours+=12):U===12&&(ne.hours=0),delete ne.afternoon}}(X),X}}return function(w,k,O){O.p.customParseFormat=!0,w&&w.parseTwoDigitYear&&(h=w.parseTwoDigitYear);var E=k.prototype,R=E.parse;E.parse=function(T){var N=T.date,F=T.utc,P=T.args;this.$u=F;var $=P[1];if(typeof $=="string"){var K=P[2]===!0,X=P[3]===!0,j=K||X,rt=P[2];X&&(rt=P[2]),f=this.$locale(),!K&&rt&&(f=O.Ls[rt]),this.$d=function(bt,Ct,ne,Qt){try{if(["x","X"].indexOf(Ct)>-1)return new Date((Ct==="X"?1e3:1)*bt);var U=y(Ct)(bt),mt=U.year,xt=U.month,Lt=U.day,Tt=U.hours,Xt=U.minutes,W=U.seconds,ot=U.milliseconds,at=U.zone,Rt=U.week,Wt=new Date,de=Lt||(mt||xt?1:Wt.getDate()),ke=mt||Wt.getFullYear(),It=0;mt&&!xt||(It=xt>0?xt-1:Wt.getMonth());var Gt,yn=Tt||0,ge=Xt||0,Hi=W||0,xr=ot||0;return at?new Date(Date.UTC(ke,It,de,yn,ge,Hi,xr+60*at.offset*1e3)):ne?new Date(Date.UTC(ke,It,de,yn,ge,Hi,xr)):(Gt=new Date(ke,It,de,yn,ge,Hi,xr),Rt&&(Gt=Qt(Gt).week(Rt).toDate()),Gt)}catch{return new Date("")}}(N,$,F,O),this.init(),rt&&rt!==!0&&(this.$L=this.locale(rt).$L),j&&N!=this.format($)&&(this.$d=new Date("")),f={}}else if($ instanceof Array)for(var vt=$.length,st=1;st<=vt;st+=1){P[1]=$[st-1];var ft=O.apply(this,P);if(ft.isValid()){this.$d=ft.$d,this.$L=ft.$L,this.init();break}st===vt&&(this.$d=new Date(""))}else R.call(this,T)}}})}($o)),$o.exports}var LM=PM();const RM=ys(LM);var Yo={exports:{}},FM=Yo.exports,Gd;function BM(){return Gd||(Gd=1,function(n,t){(function(e,i){n.exports=i()})(FM,function(){return function(e,i){var s=i.prototype,a=s.format;s.format=function(l){var u=this,f=this.$locale();if(!this.isValid())return a.bind(this)(l);var h=this.$utils(),g=(l||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(m){switch(m){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return f.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return f.ordinal(u.week(),"W");case"w":case"ww":return h.s(u.week(),m==="w"?1:2,"0");case"W":case"WW":return h.s(u.isoWeek(),m==="W"?1:2,"0");case"k":case"kk":return h.s(String(u.$H===0?24:u.$H),m==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return m}});return a.bind(this)(g)}}})}(Yo)),Yo.exports}var zM=BM();const WM=ys(zM);var Uo={exports:{}},NM=Uo.exports,Kd;function HM(){return Kd||(Kd=1,function(n,t){(function(e,i){n.exports=i()})(NM,function(){var e="month",i="quarter";return function(s,a){var l=a.prototype;l.quarter=function(h){return this.$utils().u(h)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(h-1))};var u=l.add;l.add=function(h,g){return h=Number(h),this.$utils().p(g)===i?this.add(3*h,e):u.bind(this)(h,g)};var f=l.startOf;l.startOf=function(h,g){var m=this.$utils(),_=!!m.u(g)||g;if(m.p(h)===i){var b=this.quarter()-1;return _?this.month(3*b).startOf(e).startOf("day"):this.month(3*b+2).endOf(e).endOf("day")}return f.bind(this)(h,g)}}})}(Uo)),Uo.exports}var $M=HM();const YM=ys($M);var Vo={exports:{}},UM=Vo.exports,jd;function VM(){return jd||(jd=1,function(n,t){(function(e,i){n.exports=i()})(UM,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(i,s,a){var l=s.prototype,u=l.format;a.en.formats=e,l.format=function(f){f===void 0&&(f="YYYY-MM-DDTHH:mm:ssZ");var h=this.$locale().formats,g=function(m,_){return m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(b,S,y){var w=y&&y.toUpperCase();return S||_[y]||e[y]||_[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(k,O,E){return O||E.slice(1)})})}(f,h===void 0?{}:h);return u.call(this,g)}}})}(Vo)),Vo.exports}var qM=VM();const XM=ys(qM);var qo={exports:{}},GM=qo.exports,Zd;function KM(){return Zd||(Zd=1,function(n,t){(function(e,i){n.exports=i()})(GM,function(){var e="day";return function(i,s,a){var l=function(h){return h.add(4-h.isoWeekday(),e)},u=s.prototype;u.isoWeekYear=function(){return l(this).year()},u.isoWeek=function(h){if(!this.$utils().u(h))return this.add(7*(h-this.isoWeek()),e);var g,m,_,b,S=l(this),y=(g=this.isoWeekYear(),m=this.$u,_=(m?a.utc:a)().year(g).startOf("year"),b=4-_.isoWeekday(),_.isoWeekday()>4&&(b+=7),_.add(b,e));return S.diff(y,"week")+1},u.isoWeekday=function(h){return this.$utils().u(h)?this.day()||7:this.day(this.day()%7?h:h-7)};var f=u.startOf;u.startOf=function(h,g){var m=this.$utils(),_=!!m.u(g)||g;return m.p(h)==="isoweek"?_?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):f.bind(this)(h,g)}}})}(qo)),qo.exports}var jM=KM();const ZM=ys(jM);Vt.extend(WM);Vt.extend(YM);Vt.extend(XM);Vt.extend(RM);Vt.extend(ZM);var QM={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Jg._date.override({formats:function(){return QM},parse:function(t,e){var i=typeof t;return t===null||i==="undefined"?null:i==="string"&&typeof e=="string"?Vt(t,e).isValid()?Vt(t,e).valueOf():null:t instanceof Vt?null:Vt(t).isValid()?Vt(t).valueOf():null},format:function(t,e){return Vt(t).format(e)},add:function(t,e,i){return Vt(t).add(e,i).valueOf()},diff:function(t,e,i){return Vt(t).diff(Vt(e),i)},startOf:function(t,e,i){if(e==="isoWeek"){var s=typeof i=="number"&&i>0&&i<7?i:1;return Vt(t).isoWeekday(s).startOf("day").valueOf()}return Vt(t).startOf(e).valueOf()},endOf:function(t,e){return Vt(t).endOf(e).valueOf()}});const JM={key:1,class:"error-placeholder"},tT={__name:"KdjChart",props:{stockId:{type:String,required:!0},width:{type:Number,default:200},height:{type:Number,default:100}},setup(n){pa.register(mM,bM,jD,KD,rM,hM,nM,wc);const t=n,e=Pc(),i=qt(null),s=Bt(()=>{const u=e.userStockList.find(f=>f.id===t.stockId);return u?.data?.weeklyKdj?u.data.weeklyKdj.filter(f=>f&&Array.isArray(f)&&f.length>=4&&typeof f[1]=="number"&&!isNaN(f[1])&&typeof f[2]=="number"&&!isNaN(f[2])&&typeof f[3]=="number"&&!isNaN(f[3])).map(f=>({x:Vt(f[0],"YYYYMMDD").toDate(),k:f[1],d:f[2],j:f[3]})):[]}),a=Bt(()=>{const u=s.value;if(!u||u.length===0)return{datasets:[]};const f=u.map(g=>({x:g.x,y:g.k})),h=u.map(g=>({x:g.x,y:g.d}));return{datasets:[{label:"K",data:f,borderColor:"#4286f5",backgroundColor:"transparent",borderWidth:2,fill:!1,tension:0,pointRadius:0,pointHoverRadius:0},{label:"D",data:h,borderColor:"#e75c9a",backgroundColor:"transparent",borderWidth:2,fill:!1,tension:0,pointRadius:0,pointHoverRadius:0}]}}),l={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{type:"time",time:{unit:"week",displayFormats:{week:"MM/DD"}},display:!1,grid:{display:!1},ticks:{display:!1},offset:!1,bounds:"data"},y:{type:"linear",position:"right",display:!0,min:0,max:100,border:{display:!1},grid:{drawTicks:!1,color:u=>{const f=u.tick.value;return[0,20,50,80,100].includes(f)?"rgba(200, 200, 200, 0.3)":"transparent"}},ticks:{stepSize:10,autoSkip:!1,color:"#888",font:{size:12},padding:-15,callback:u=>u===20||u===50||u===80?u:""}}},animation:!1};return(u,f)=>(Ie(),rn("div",{ref_key:"chartContainer",ref:i,class:"kdj-chart",style:{width:"100%",height:"100%"}},[a.value.datasets.length>0?(Ie(),xg(Ce(EM),{key:0,data:a.value,options:l},null,8,["data"])):(Ie(),rn("div",JM,"KDJ 圖表暫不可用"))],512))}},eT=Oc(tT,[["__scopeId","data-v-1aff937b"]]),nT={class:"stock-name"},iT={class:"stock-name-main"},rT={class:"stock-name-left"},sT={class:"name highlight"},oT={class:"code"},aT={class:"stock-name-right"},lT={class:"stock-progress-bar"},cT={class:"progress-text"},uT={__name:"StockName",props:{name:String,code:String,price:[String,Number],change:[String,Number],changePercent:[String,Number],priceClass:String,progress:Number,progressText:String},setup(n){return(t,e)=>(Ie(),rn("div",nT,[gt("div",iT,[gt("div",rT,[gt("div",sT,Pe(n.name),1),gt("div",oT,Pe(n.code),1),e[0]||(e[0]=gt("div",{class:"star-area"},[gt("span",{class:"star"},"★")],-1))]),gt("div",aT,[gt("div",{class:dc(["price",n.priceClass])},Pe(n.price),3),gt("div",{class:dc(["change",n.priceClass])},Pe(n.change>0?"+":"")+Pe(n.change)+" ("+Pe(n.changePercent)+"%) ",3)])]),gt("div",lT,[gt("div",{class:"stock-progress-inner",style:yg({width:(n.progress||0)+"%"})},[gt("span",cT,Pe(n.progressText||(n.progress||0)+"%"),1)],4)])]))}},fT=Oc(uT,[["__scopeId","data-v-c759bb7e"]]);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Qd(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,i)}return e}function In(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Qd(Object(e),!0).forEach(function(i){hT(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Qd(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Xo(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xo=function(t){return typeof t}:Xo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(n)}function hT(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Kn(){return Kn=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Kn.apply(this,arguments)}function dT(n,t){if(n==null)return{};var e={},i=Object.keys(n),s,a;for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&(e[s]=n[s]);return e}function gT(n,t){if(n==null)return{};var e=dT(n,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}var pT="1.14.0";function Gn(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Qn=Gn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ss=Gn(/Edge/i),Jd=Gn(/firefox/i),os=Gn(/safari/i)&&!Gn(/chrome/i)&&!Gn(/android/i),_p=Gn(/iP(ad|od|hone)/i),mT=Gn(/chrome/i)&&Gn(/android/i),vp={capture:!1,passive:!1};function Dt(n,t,e){n.addEventListener(t,e,!Qn&&vp)}function St(n,t,e){n.removeEventListener(t,e,!Qn&&vp)}function oa(n,t){if(t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch{return!1}return!1}}function _T(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function Tn(n,t,e,i){if(n){e=e||document;do{if(t!=null&&(t[0]===">"?n.parentNode===e&&oa(n,t):oa(n,t))||i&&n===e)return n;if(n===e)break}while(n=_T(n))}return null}var tg=/\s+/g;function He(n,t,e){if(n&&t)if(n.classList)n.classList[e?"add":"remove"](t);else{var i=(" "+n.className+" ").replace(tg," ").replace(" "+t+" "," ");n.className=(i+(e?" "+t:"")).replace(tg," ")}}function et(n,t,e){var i=n&&n.style;if(i){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(e=n.currentStyle),t===void 0?e:e[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=e+(typeof e=="string"?"":"px")}}function dr(n,t){var e="";if(typeof n=="string")e=n;else do{var i=et(n,"transform");i&&i!=="none"&&(e=i+" "+e)}while(!t&&(n=n.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(e)}function bp(n,t,e){if(n){var i=n.getElementsByTagName(t),s=0,a=i.length;if(e)for(;s<a;s++)e(i[s],s);return i}return[]}function En(){var n=document.scrollingElement;return n||document.documentElement}function oe(n,t,e,i,s){if(!(!n.getBoundingClientRect&&n!==window)){var a,l,u,f,h,g,m;if(n!==window&&n.parentNode&&n!==En()?(a=n.getBoundingClientRect(),l=a.top,u=a.left,f=a.bottom,h=a.right,g=a.height,m=a.width):(l=0,u=0,f=window.innerHeight,h=window.innerWidth,g=window.innerHeight,m=window.innerWidth),(t||e)&&n!==window&&(s=s||n.parentNode,!Qn))do if(s&&s.getBoundingClientRect&&(et(s,"transform")!=="none"||e&&et(s,"position")!=="static")){var _=s.getBoundingClientRect();l-=_.top+parseInt(et(s,"border-top-width")),u-=_.left+parseInt(et(s,"border-left-width")),f=l+a.height,h=u+a.width;break}while(s=s.parentNode);if(i&&n!==window){var b=dr(s||n),S=b&&b.a,y=b&&b.d;b&&(l/=y,u/=S,m/=S,g/=y,f=l+g,h=u+m)}return{top:l,left:u,bottom:f,right:h,width:m,height:g}}}function eg(n,t,e){for(var i=hi(n,!0),s=oe(n)[t];i;){var a=oe(i)[e],l=void 0;if(l=s>=a,!l)return i;if(i===En())break;i=hi(i,!1)}return!1}function _r(n,t,e,i){for(var s=0,a=0,l=n.children;a<l.length;){if(l[a].style.display!=="none"&&l[a]!==nt.ghost&&(i||l[a]!==nt.dragged)&&Tn(l[a],e.draggable,n,!1)){if(s===t)return l[a];s++}a++}return null}function Kc(n,t){for(var e=n.lastElementChild;e&&(e===nt.ghost||et(e,"display")==="none"||t&&!oa(e,t));)e=e.previousElementSibling;return e||null}function nn(n,t){var e=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==nt.clone&&(!t||oa(n,t))&&e++;return e}function ng(n){var t=0,e=0,i=En();if(n)do{var s=dr(n),a=s.a,l=s.d;t+=n.scrollLeft*a,e+=n.scrollTop*l}while(n!==i&&(n=n.parentNode));return[t,e]}function vT(n,t){for(var e in n)if(n.hasOwnProperty(e)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===n[e][i])return Number(e)}return-1}function hi(n,t){if(!n||!n.getBoundingClientRect)return En();var e=n,i=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var s=et(e);if(e.clientWidth<e.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return En();if(i||t)return e;i=!0}}while(e=e.parentNode);return En()}function bT(n,t){if(n&&t)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Jl(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}var as;function xp(n,t){return function(){if(!as){var e=arguments,i=this;e.length===1?n.call(i,e[0]):n.apply(i,e),as=setTimeout(function(){as=void 0},t)}}}function xT(){clearTimeout(as),as=void 0}function yp(n,t,e){n.scrollLeft+=t,n.scrollTop+=e}function wp(n){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):e?e(n).clone(!0)[0]:n.cloneNode(!0)}var Ue="Sortable"+new Date().getTime();function yT(){var n=[],t;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(s){if(!(et(s,"display")==="none"||s===nt.ghost)){n.push({target:s,rect:oe(s)});var a=In({},n[n.length-1].rect);if(s.thisAnimationDuration){var l=dr(s,!0);l&&(a.top-=l.f,a.left-=l.e)}s.fromRect=a}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(vT(n,{target:i}),1)},animateAll:function(i){var s=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var a=!1,l=0;n.forEach(function(u){var f=0,h=u.target,g=h.fromRect,m=oe(h),_=h.prevFromRect,b=h.prevToRect,S=u.rect,y=dr(h,!0);y&&(m.top-=y.f,m.left-=y.e),h.toRect=m,h.thisAnimationDuration&&Jl(_,m)&&!Jl(g,m)&&(S.top-m.top)/(S.left-m.left)===(g.top-m.top)/(g.left-m.left)&&(f=ST(S,_,b,s.options)),Jl(m,g)||(h.prevFromRect=g,h.prevToRect=m,f||(f=s.options.animation),s.animate(h,S,m,f)),f&&(a=!0,l=Math.max(l,f),clearTimeout(h.animationResetTimer),h.animationResetTimer=setTimeout(function(){h.animationTime=0,h.prevFromRect=null,h.fromRect=null,h.prevToRect=null,h.thisAnimationDuration=null},f),h.thisAnimationDuration=f)}),clearTimeout(t),a?t=setTimeout(function(){typeof i=="function"&&i()},l):typeof i=="function"&&i(),n=[]},animate:function(i,s,a,l){if(l){et(i,"transition",""),et(i,"transform","");var u=dr(this.el),f=u&&u.a,h=u&&u.d,g=(s.left-a.left)/(f||1),m=(s.top-a.top)/(h||1);i.animatingX=!!g,i.animatingY=!!m,et(i,"transform","translate3d("+g+"px,"+m+"px,0)"),this.forRepaintDummy=wT(i),et(i,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),et(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){et(i,"transition",""),et(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},l)}}}}function wT(n){return n.offsetWidth}function ST(n,t,e,i){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*i.animation}var lr=[],tc={initializeByDefault:!0},Cs={mount:function(t){for(var e in tc)tc.hasOwnProperty(e)&&!(e in t)&&(t[e]=tc[e]);lr.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),lr.push(t)},pluginEvent:function(t,e,i){var s=this;this.eventCanceled=!1,i.cancel=function(){s.eventCanceled=!0};var a=t+"Global";lr.forEach(function(l){e[l.pluginName]&&(e[l.pluginName][a]&&e[l.pluginName][a](In({sortable:e},i)),e.options[l.pluginName]&&e[l.pluginName][t]&&e[l.pluginName][t](In({sortable:e},i)))})},initializePlugins:function(t,e,i,s){lr.forEach(function(u){var f=u.pluginName;if(!(!t.options[f]&&!u.initializeByDefault)){var h=new u(t,e,t.options);h.sortable=t,h.options=t.options,t[f]=h,Kn(i,h.defaults)}});for(var a in t.options)if(t.options.hasOwnProperty(a)){var l=this.modifyOption(t,a,t.options[a]);typeof l<"u"&&(t.options[a]=l)}},getEventProperties:function(t,e){var i={};return lr.forEach(function(s){typeof s.eventProperties=="function"&&Kn(i,s.eventProperties.call(e[s.pluginName],t))}),i},modifyOption:function(t,e,i){var s;return lr.forEach(function(a){t[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[e]=="function"&&(s=a.optionListeners[e].call(t[a.pluginName],i))}),s}};function CT(n){var t=n.sortable,e=n.rootEl,i=n.name,s=n.targetEl,a=n.cloneEl,l=n.toEl,u=n.fromEl,f=n.oldIndex,h=n.newIndex,g=n.oldDraggableIndex,m=n.newDraggableIndex,_=n.originalEvent,b=n.putSortable,S=n.extraEventProperties;if(t=t||e&&e[Ue],!!t){var y,w=t.options,k="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Qn&&!Ss?y=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(i,!0,!0)),y.to=l||e,y.from=u||e,y.item=s||e,y.clone=a,y.oldIndex=f,y.newIndex=h,y.oldDraggableIndex=g,y.newDraggableIndex=m,y.originalEvent=_,y.pullMode=b?b.lastPutMode:void 0;var O=In(In({},S),Cs.getEventProperties(i,t));for(var E in O)y[E]=O[E];e&&e.dispatchEvent(y),w[k]&&w[k].call(t,y)}}var kT=["evt"],Ee=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.evt,a=gT(i,kT);Cs.pluginEvent.bind(nt)(t,e,In({dragEl:Y,parentEl:jt,ghostEl:ct,rootEl:Yt,nextEl:Pi,lastDownEl:Go,cloneEl:Zt,cloneHidden:ui,dragStarted:jr,putSortable:he,activeSortable:nt.active,originalEvent:s,oldIndex:fr,oldDraggableIndex:ls,newIndex:$e,newDraggableIndex:ci,hideGhostForTarget:Dp,unhideGhostForTarget:Mp,cloneNowHidden:function(){ui=!0},cloneNowShown:function(){ui=!1},dispatchSortableEvent:function(u){Se({sortable:e,name:u,originalEvent:s})}},a))};function Se(n){CT(In({putSortable:he,cloneEl:Zt,targetEl:Y,rootEl:Yt,oldIndex:fr,oldDraggableIndex:ls,newIndex:$e,newDraggableIndex:ci},n))}var Y,jt,ct,Yt,Pi,Go,Zt,ui,fr,$e,ls,ci,Io,he,ur=!1,aa=!1,la=[],Ai,_n,ec,nc,ig,rg,jr,cr,cs,us=!1,Po=!1,Ko,_e,ic=[],Sc=!1,ca=[],_a=typeof document<"u",Lo=_p,sg=Ss||Qn?"cssFloat":"float",DT=_a&&!mT&&!_p&&"draggable"in document.createElement("div"),Sp=function(){if(_a){if(Qn)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Cp=function(t,e){var i=et(t),s=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),a=_r(t,0,e),l=_r(t,1,e),u=a&&et(a),f=l&&et(l),h=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+oe(a).width,g=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+oe(l).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&u.float&&u.float!=="none"){var m=u.float==="left"?"left":"right";return l&&(f.clear==="both"||f.clear===m)?"vertical":"horizontal"}return a&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||h>=s&&i[sg]==="none"||l&&i[sg]==="none"&&h+g>s)?"vertical":"horizontal"},MT=function(t,e,i){var s=i?t.left:t.top,a=i?t.right:t.bottom,l=i?t.width:t.height,u=i?e.left:e.top,f=i?e.right:e.bottom,h=i?e.width:e.height;return s===u||a===f||s+l/2===u+h/2},TT=function(t,e){var i;return la.some(function(s){var a=s[Ue].options.emptyInsertThreshold;if(!(!a||Kc(s))){var l=oe(s),u=t>=l.left-a&&t<=l.right+a,f=e>=l.top-a&&e<=l.bottom+a;if(u&&f)return i=s}}),i},kp=function(t){function e(a,l){return function(u,f,h,g){var m=u.options.group.name&&f.options.group.name&&u.options.group.name===f.options.group.name;if(a==null&&(l||m))return!0;if(a==null||a===!1)return!1;if(l&&a==="clone")return a;if(typeof a=="function")return e(a(u,f,h,g),l)(u,f,h,g);var _=(l?u:f).options.group.name;return a===!0||typeof a=="string"&&a===_||a.join&&a.indexOf(_)>-1}}var i={},s=t.group;(!s||Xo(s)!="object")&&(s={name:s}),i.name=s.name,i.checkPull=e(s.pull,!0),i.checkPut=e(s.put),i.revertClone=s.revertClone,t.group=i},Dp=function(){!Sp&&ct&&et(ct,"display","none")},Mp=function(){!Sp&&ct&&et(ct,"display","")};_a&&document.addEventListener("click",function(n){if(aa)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),aa=!1,!1},!0);var Oi=function(t){if(Y){t=t.touches?t.touches[0]:t;var e=TT(t.clientX,t.clientY);if(e){var i={};for(var s in t)t.hasOwnProperty(s)&&(i[s]=t[s]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[Ue]._onDragOver(i)}}},AT=function(t){Y&&Y.parentNode[Ue]._isOutsideThisEl(t.target)};function nt(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=Kn({},t),n[Ue]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Cp(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,u){l.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:nt.supportPointer!==!1&&"PointerEvent"in window&&!os,emptyInsertThreshold:5};Cs.initializePlugins(this,n,e);for(var i in e)!(i in t)&&(t[i]=e[i]);kp(t);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=t.forceFallback?!1:DT,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Dt(n,"pointerdown",this._onTapStart):(Dt(n,"mousedown",this._onTapStart),Dt(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(Dt(n,"dragover",this),Dt(n,"dragenter",this)),la.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Kn(this,yT())}nt.prototype={constructor:nt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(cr=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,Y):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,i=this.el,s=this.options,a=s.preventOnFilter,l=t.type,u=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,f=(u||t).target,h=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||f,g=s.filter;if(BT(i),!Y&&!(/mousedown|pointerdown/.test(l)&&t.button!==0||s.disabled)&&!h.isContentEditable&&!(!this.nativeDraggable&&os&&f&&f.tagName.toUpperCase()==="SELECT")&&(f=Tn(f,s.draggable,i,!1),!(f&&f.animated)&&Go!==f)){if(fr=nn(f),ls=nn(f,s.draggable),typeof g=="function"){if(g.call(this,t,f,this)){Se({sortable:e,rootEl:h,name:"filter",targetEl:f,toEl:i,fromEl:i}),Ee("filter",e,{evt:t}),a&&t.cancelable&&t.preventDefault();return}}else if(g&&(g=g.split(",").some(function(m){if(m=Tn(h,m.trim(),i,!1),m)return Se({sortable:e,rootEl:m,name:"filter",targetEl:f,fromEl:i,toEl:i}),Ee("filter",e,{evt:t}),!0}),g)){a&&t.cancelable&&t.preventDefault();return}s.handle&&!Tn(h,s.handle,i,!1)||this._prepareDragStart(t,u,f)}}},_prepareDragStart:function(t,e,i){var s=this,a=s.el,l=s.options,u=a.ownerDocument,f;if(i&&!Y&&i.parentNode===a){var h=oe(i);if(Yt=a,Y=i,jt=Y.parentNode,Pi=Y.nextSibling,Go=i,Io=l.group,nt.dragged=Y,Ai={target:Y,clientX:(e||t).clientX,clientY:(e||t).clientY},ig=Ai.clientX-h.left,rg=Ai.clientY-h.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,Y.style["will-change"]="all",f=function(){if(Ee("delayEnded",s,{evt:t}),nt.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!Jd&&s.nativeDraggable&&(Y.draggable=!0),s._triggerDragStart(t,e),Se({sortable:s,name:"choose",originalEvent:t}),He(Y,l.chosenClass,!0)},l.ignore.split(",").forEach(function(g){bp(Y,g.trim(),rc)}),Dt(u,"dragover",Oi),Dt(u,"mousemove",Oi),Dt(u,"touchmove",Oi),Dt(u,"mouseup",s._onDrop),Dt(u,"touchend",s._onDrop),Dt(u,"touchcancel",s._onDrop),Jd&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Y.draggable=!0),Ee("delayStart",this,{evt:t}),l.delay&&(!l.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(Ss||Qn))){if(nt.eventCanceled){this._onDrop();return}Dt(u,"mouseup",s._disableDelayedDrag),Dt(u,"touchend",s._disableDelayedDrag),Dt(u,"touchcancel",s._disableDelayedDrag),Dt(u,"mousemove",s._delayedDragTouchMoveHandler),Dt(u,"touchmove",s._delayedDragTouchMoveHandler),l.supportPointer&&Dt(u,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(f,l.delay)}else f()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Y&&rc(Y),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;St(t,"mouseup",this._disableDelayedDrag),St(t,"touchend",this._disableDelayedDrag),St(t,"touchcancel",this._disableDelayedDrag),St(t,"mousemove",this._delayedDragTouchMoveHandler),St(t,"touchmove",this._delayedDragTouchMoveHandler),St(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?Dt(document,"pointermove",this._onTouchMove):e?Dt(document,"touchmove",this._onTouchMove):Dt(document,"mousemove",this._onTouchMove):(Dt(Y,"dragend",this),Dt(Yt,"dragstart",this._onDragStart));try{document.selection?jo(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(ur=!1,Yt&&Y){Ee("dragStarted",this,{evt:e}),this.nativeDraggable&&Dt(document,"dragover",AT);var i=this.options;!t&&He(Y,i.dragClass,!1),He(Y,i.ghostClass,!0),nt.active=this,t&&this._appendGhost(),Se({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(_n){this._lastX=_n.clientX,this._lastY=_n.clientY,Dp();for(var t=document.elementFromPoint(_n.clientX,_n.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(_n.clientX,_n.clientY),t!==e);)e=t;if(Y.parentNode[Ue]._isOutsideThisEl(t),e)do{if(e[Ue]){var i=void 0;if(i=e[Ue]._onDragOver({clientX:_n.clientX,clientY:_n.clientY,target:t,rootEl:e}),i&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Mp()}},_onTouchMove:function(t){if(Ai){var e=this.options,i=e.fallbackTolerance,s=e.fallbackOffset,a=t.touches?t.touches[0]:t,l=ct&&dr(ct,!0),u=ct&&l&&l.a,f=ct&&l&&l.d,h=Lo&&_e&&ng(_e),g=(a.clientX-Ai.clientX+s.x)/(u||1)+(h?h[0]-ic[0]:0)/(u||1),m=(a.clientY-Ai.clientY+s.y)/(f||1)+(h?h[1]-ic[1]:0)/(f||1);if(!nt.active&&!ur){if(i&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(ct){l?(l.e+=g-(ec||0),l.f+=m-(nc||0)):l={a:1,b:0,c:0,d:1,e:g,f:m};var _="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");et(ct,"webkitTransform",_),et(ct,"mozTransform",_),et(ct,"msTransform",_),et(ct,"transform",_),ec=g,nc=m,_n=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ct){var t=this.options.fallbackOnBody?document.body:Yt,e=oe(Y,!0,Lo,!0,t),i=this.options;if(Lo){for(_e=t;et(_e,"position")==="static"&&et(_e,"transform")==="none"&&_e!==document;)_e=_e.parentNode;_e!==document.body&&_e!==document.documentElement?(_e===document&&(_e=En()),e.top+=_e.scrollTop,e.left+=_e.scrollLeft):_e=En(),ic=ng(_e)}ct=Y.cloneNode(!0),He(ct,i.ghostClass,!1),He(ct,i.fallbackClass,!0),He(ct,i.dragClass,!0),et(ct,"transition",""),et(ct,"transform",""),et(ct,"box-sizing","border-box"),et(ct,"margin",0),et(ct,"top",e.top),et(ct,"left",e.left),et(ct,"width",e.width),et(ct,"height",e.height),et(ct,"opacity","0.8"),et(ct,"position",Lo?"absolute":"fixed"),et(ct,"zIndex","100000"),et(ct,"pointerEvents","none"),nt.ghost=ct,t.appendChild(ct),et(ct,"transform-origin",ig/parseInt(ct.style.width)*100+"% "+rg/parseInt(ct.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,s=t.dataTransfer,a=i.options;if(Ee("dragStart",this,{evt:t}),nt.eventCanceled){this._onDrop();return}Ee("setupClone",this),nt.eventCanceled||(Zt=wp(Y),Zt.draggable=!1,Zt.style["will-change"]="",this._hideClone(),He(Zt,this.options.chosenClass,!1),nt.clone=Zt),i.cloneId=jo(function(){Ee("clone",i),!nt.eventCanceled&&(i.options.removeCloneOnHide||Yt.insertBefore(Zt,Y),i._hideClone(),Se({sortable:i,name:"clone"}))}),!e&&He(Y,a.dragClass,!0),e?(aa=!0,i._loopId=setInterval(i._emulateDragOver,50)):(St(document,"mouseup",i._onDrop),St(document,"touchend",i._onDrop),St(document,"touchcancel",i._onDrop),s&&(s.effectAllowed="move",a.setData&&a.setData.call(i,s,Y)),Dt(document,"drop",i),et(Y,"transform","translateZ(0)")),ur=!0,i._dragStartId=jo(i._dragStarted.bind(i,e,t)),Dt(document,"selectstart",i),jr=!0,os&&et(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,i=t.target,s,a,l,u=this.options,f=u.group,h=nt.active,g=Io===f,m=u.sort,_=he||h,b,S=this,y=!1;if(Sc)return;function w(Ct,ne){Ee(Ct,S,In({evt:t,isOwner:g,axis:b?"vertical":"horizontal",revert:l,dragRect:s,targetRect:a,canSort:m,fromSortable:_,target:i,completed:O,onMove:function(U,mt){return Ro(Yt,e,Y,s,U,oe(U),t,mt)},changed:E},ne))}function k(){w("dragOverAnimationCapture"),S.captureAnimationState(),S!==_&&_.captureAnimationState()}function O(Ct){return w("dragOverCompleted",{insertion:Ct}),Ct&&(g?h._hideClone():h._showClone(S),S!==_&&(He(Y,he?he.options.ghostClass:h.options.ghostClass,!1),He(Y,u.ghostClass,!0)),he!==S&&S!==nt.active?he=S:S===nt.active&&he&&(he=null),_===S&&(S._ignoreWhileAnimating=i),S.animateAll(function(){w("dragOverAnimationComplete"),S._ignoreWhileAnimating=null}),S!==_&&(_.animateAll(),_._ignoreWhileAnimating=null)),(i===Y&&!Y.animated||i===e&&!i.animated)&&(cr=null),!u.dragoverBubble&&!t.rootEl&&i!==document&&(Y.parentNode[Ue]._isOutsideThisEl(t.target),!Ct&&Oi(t)),!u.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),y=!0}function E(){$e=nn(Y),ci=nn(Y,u.draggable),Se({sortable:S,name:"change",toEl:e,newIndex:$e,newDraggableIndex:ci,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=Tn(i,u.draggable,e,!0),w("dragOver"),nt.eventCanceled)return y;if(Y.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||S._ignoreWhileAnimating===i)return O(!1);if(aa=!1,h&&!u.disabled&&(g?m||(l=jt!==Yt):he===this||(this.lastPutMode=Io.checkPull(this,h,Y,t))&&f.checkPut(this,h,Y,t))){if(b=this._getDirection(t,i)==="vertical",s=oe(Y),w("dragOverValid"),nt.eventCanceled)return y;if(l)return jt=Yt,k(),this._hideClone(),w("revert"),nt.eventCanceled||(Pi?Yt.insertBefore(Y,Pi):Yt.appendChild(Y)),O(!0);var R=Kc(e,u.draggable);if(!R||PT(t,b,this)&&!R.animated){if(R===Y)return O(!1);if(R&&e===t.target&&(i=R),i&&(a=oe(i)),Ro(Yt,e,Y,s,i,a,t,!!i)!==!1)return k(),e.appendChild(Y),jt=e,E(),O(!0)}else if(R&&IT(t,b,this)){var T=_r(e,0,u,!0);if(T===Y)return O(!1);if(i=T,a=oe(i),Ro(Yt,e,Y,s,i,a,t,!1)!==!1)return k(),e.insertBefore(Y,T),jt=e,E(),O(!0)}else if(i.parentNode===e){a=oe(i);var N=0,F,P=Y.parentNode!==e,$=!MT(Y.animated&&Y.toRect||s,i.animated&&i.toRect||a,b),K=b?"top":"left",X=eg(i,"top","top")||eg(Y,"top","top"),j=X?X.scrollTop:void 0;cr!==i&&(F=a[K],us=!1,Po=!$&&u.invertSwap||P),N=LT(t,i,a,b,$?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,Po,cr===i);var rt;if(N!==0){var vt=nn(Y);do vt-=N,rt=jt.children[vt];while(rt&&(et(rt,"display")==="none"||rt===ct))}if(N===0||rt===i)return O(!1);cr=i,cs=N;var st=i.nextElementSibling,ft=!1;ft=N===1;var bt=Ro(Yt,e,Y,s,i,a,t,ft);if(bt!==!1)return(bt===1||bt===-1)&&(ft=bt===1),Sc=!0,setTimeout(ET,30),k(),ft&&!st?e.appendChild(Y):i.parentNode.insertBefore(Y,ft?st:i),X&&yp(X,0,j-X.scrollTop),jt=Y.parentNode,F!==void 0&&!Po&&(Ko=Math.abs(F-oe(i)[K])),E(),O(!0)}if(e.contains(Y))return O(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){St(document,"mousemove",this._onTouchMove),St(document,"touchmove",this._onTouchMove),St(document,"pointermove",this._onTouchMove),St(document,"dragover",Oi),St(document,"mousemove",Oi),St(document,"touchmove",Oi)},_offUpEvents:function(){var t=this.el.ownerDocument;St(t,"mouseup",this._onDrop),St(t,"touchend",this._onDrop),St(t,"pointerup",this._onDrop),St(t,"touchcancel",this._onDrop),St(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;if($e=nn(Y),ci=nn(Y,i.draggable),Ee("drop",this,{evt:t}),jt=Y&&Y.parentNode,$e=nn(Y),ci=nn(Y,i.draggable),nt.eventCanceled){this._nulling();return}ur=!1,Po=!1,us=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Cc(this.cloneId),Cc(this._dragStartId),this.nativeDraggable&&(St(document,"drop",this),St(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),os&&et(document.body,"user-select",""),et(Y,"transform",""),t&&(jr&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),ct&&ct.parentNode&&ct.parentNode.removeChild(ct),(Yt===jt||he&&he.lastPutMode!=="clone")&&Zt&&Zt.parentNode&&Zt.parentNode.removeChild(Zt),Y&&(this.nativeDraggable&&St(Y,"dragend",this),rc(Y),Y.style["will-change"]="",jr&&!ur&&He(Y,he?he.options.ghostClass:this.options.ghostClass,!1),He(Y,this.options.chosenClass,!1),Se({sortable:this,name:"unchoose",toEl:jt,newIndex:null,newDraggableIndex:null,originalEvent:t}),Yt!==jt?($e>=0&&(Se({rootEl:jt,name:"add",toEl:jt,fromEl:Yt,originalEvent:t}),Se({sortable:this,name:"remove",toEl:jt,originalEvent:t}),Se({rootEl:jt,name:"sort",toEl:jt,fromEl:Yt,originalEvent:t}),Se({sortable:this,name:"sort",toEl:jt,originalEvent:t})),he&&he.save()):$e!==fr&&$e>=0&&(Se({sortable:this,name:"update",toEl:jt,originalEvent:t}),Se({sortable:this,name:"sort",toEl:jt,originalEvent:t})),nt.active&&(($e==null||$e===-1)&&($e=fr,ci=ls),Se({sortable:this,name:"end",toEl:jt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ee("nulling",this),Yt=Y=jt=ct=Pi=Zt=Go=ui=Ai=_n=jr=$e=ci=fr=ls=cr=cs=he=Io=nt.dragged=nt.ghost=nt.clone=nt.active=null,ca.forEach(function(t){t.checked=!0}),ca.length=ec=nc=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Y&&(this._onDragOver(t),OT(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,i=this.el.children,s=0,a=i.length,l=this.options;s<a;s++)e=i[s],Tn(e,l.draggable,this.el,!1)&&t.push(e.getAttribute(l.dataIdAttr)||FT(e));return t},sort:function(t,e){var i={},s=this.el;this.toArray().forEach(function(a,l){var u=s.children[l];Tn(u,this.options.draggable,s,!1)&&(i[a]=u)},this),e&&this.captureAnimationState(),t.forEach(function(a){i[a]&&(s.removeChild(i[a]),s.appendChild(i[a]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return Tn(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(e===void 0)return i[t];var s=Cs.modifyOption(this,t,e);typeof s<"u"?i[t]=s:i[t]=e,t==="group"&&kp(i)},destroy:function(){Ee("destroy",this);var t=this.el;t[Ue]=null,St(t,"mousedown",this._onTapStart),St(t,"touchstart",this._onTapStart),St(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(St(t,"dragover",this),St(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),la.splice(la.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ui){if(Ee("hideClone",this),nt.eventCanceled)return;et(Zt,"display","none"),this.options.removeCloneOnHide&&Zt.parentNode&&Zt.parentNode.removeChild(Zt),ui=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ui){if(Ee("showClone",this),nt.eventCanceled)return;Y.parentNode==Yt&&!this.options.group.revertClone?Yt.insertBefore(Zt,Y):Pi?Yt.insertBefore(Zt,Pi):Yt.appendChild(Zt),this.options.group.revertClone&&this.animate(Y,Zt),et(Zt,"display",""),ui=!1}}};function OT(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Ro(n,t,e,i,s,a,l,u){var f,h=n[Ue],g=h.options.onMove,m;return window.CustomEvent&&!Qn&&!Ss?f=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent("move",!0,!0)),f.to=t,f.from=n,f.dragged=e,f.draggedRect=i,f.related=s||t,f.relatedRect=a||oe(t),f.willInsertAfter=u,f.originalEvent=l,n.dispatchEvent(f),g&&(m=g.call(h,f,l)),m}function rc(n){n.draggable=!1}function ET(){Sc=!1}function IT(n,t,e){var i=oe(_r(e.el,0,e.options,!0)),s=10;return t?n.clientX<i.left-s||n.clientY<i.top&&n.clientX<i.right:n.clientY<i.top-s||n.clientY<i.bottom&&n.clientX<i.left}function PT(n,t,e){var i=oe(Kc(e.el,e.options.draggable)),s=10;return t?n.clientX>i.right+s||n.clientX<=i.right&&n.clientY>i.bottom&&n.clientX>=i.left:n.clientX>i.right&&n.clientY>i.top||n.clientX<=i.right&&n.clientY>i.bottom+s}function LT(n,t,e,i,s,a,l,u){var f=i?n.clientY:n.clientX,h=i?e.height:e.width,g=i?e.top:e.left,m=i?e.bottom:e.right,_=!1;if(!l){if(u&&Ko<h*s){if(!us&&(cs===1?f>g+h*a/2:f<m-h*a/2)&&(us=!0),us)_=!0;else if(cs===1?f<g+Ko:f>m-Ko)return-cs}else if(f>g+h*(1-s)/2&&f<m-h*(1-s)/2)return RT(t)}return _=_||l,_&&(f<g+h*a/2||f>m-h*a/2)?f>g+h/2?1:-1:0}function RT(n){return nn(Y)<nn(n)?1:-1}function FT(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,e=t.length,i=0;e--;)i+=t.charCodeAt(e);return i.toString(36)}function BT(n){ca.length=0;for(var t=n.getElementsByTagName("input"),e=t.length;e--;){var i=t[e];i.checked&&ca.push(i)}}function jo(n){return setTimeout(n,0)}function Cc(n){return clearTimeout(n)}_a&&Dt(document,"touchmove",function(n){(nt.active||ur)&&n.cancelable&&n.preventDefault()});nt.utils={on:Dt,off:St,css:et,find:bp,is:function(t,e){return!!Tn(t,e,t,!1)},extend:bT,throttle:xp,closest:Tn,toggleClass:He,clone:wp,index:nn,nextTick:jo,cancelNextTick:Cc,detectDirection:Cp,getChild:_r};nt.get=function(n){return n[Ue]};nt.mount=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(nt.utils=In(In({},nt.utils),i.utils)),Cs.mount(i)})};nt.create=function(n,t){return new nt(n,t)};nt.version=pT;var ie=[],Zr,kc,Dc=!1,sc,oc,ua,Qr;function zT(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return n.prototype={dragStarted:function(e){var i=e.originalEvent;this.sortable.nativeDraggable?Dt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Dt(document,"pointermove",this._handleFallbackAutoScroll):i.touches?Dt(document,"touchmove",this._handleFallbackAutoScroll):Dt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var i=e.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?St(document,"dragover",this._handleAutoScroll):(St(document,"pointermove",this._handleFallbackAutoScroll),St(document,"touchmove",this._handleFallbackAutoScroll),St(document,"mousemove",this._handleFallbackAutoScroll)),og(),Zo(),xT()},nulling:function(){ua=kc=Zr=Dc=Qr=sc=oc=null,ie.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,i){var s=this,a=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,u=document.elementFromPoint(a,l);if(ua=e,i||this.options.forceAutoScrollFallback||Ss||Qn||os){ac(e,this.options,u,i);var f=hi(u,!0);Dc&&(!Qr||a!==sc||l!==oc)&&(Qr&&og(),Qr=setInterval(function(){var h=hi(document.elementFromPoint(a,l),!0);h!==f&&(f=h,Zo()),ac(e,s.options,h,i)},10),sc=a,oc=l)}else{if(!this.options.bubbleScroll||hi(u,!0)===En()){Zo();return}ac(e,this.options,hi(u,!1),!1)}}},Kn(n,{pluginName:"scroll",initializeByDefault:!0})}function Zo(){ie.forEach(function(n){clearInterval(n.pid)}),ie=[]}function og(){clearInterval(Qr)}var ac=xp(function(n,t,e,i){if(t.scroll){var s=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=t.scrollSensitivity,u=t.scrollSpeed,f=En(),h=!1,g;kc!==e&&(kc=e,Zo(),Zr=t.scroll,g=t.scrollFn,Zr===!0&&(Zr=hi(e,!0)));var m=0,_=Zr;do{var b=_,S=oe(b),y=S.top,w=S.bottom,k=S.left,O=S.right,E=S.width,R=S.height,T=void 0,N=void 0,F=b.scrollWidth,P=b.scrollHeight,$=et(b),K=b.scrollLeft,X=b.scrollTop;b===f?(T=E<F&&($.overflowX==="auto"||$.overflowX==="scroll"||$.overflowX==="visible"),N=R<P&&($.overflowY==="auto"||$.overflowY==="scroll"||$.overflowY==="visible")):(T=E<F&&($.overflowX==="auto"||$.overflowX==="scroll"),N=R<P&&($.overflowY==="auto"||$.overflowY==="scroll"));var j=T&&(Math.abs(O-s)<=l&&K+E<F)-(Math.abs(k-s)<=l&&!!K),rt=N&&(Math.abs(w-a)<=l&&X+R<P)-(Math.abs(y-a)<=l&&!!X);if(!ie[m])for(var vt=0;vt<=m;vt++)ie[vt]||(ie[vt]={});(ie[m].vx!=j||ie[m].vy!=rt||ie[m].el!==b)&&(ie[m].el=b,ie[m].vx=j,ie[m].vy=rt,clearInterval(ie[m].pid),(j!=0||rt!=0)&&(h=!0,ie[m].pid=setInterval((function(){i&&this.layer===0&&nt.active._onTouchMove(ua);var st=ie[this.layer].vy?ie[this.layer].vy*u:0,ft=ie[this.layer].vx?ie[this.layer].vx*u:0;typeof g=="function"&&g.call(nt.dragged.parentNode[Ue],ft,st,n,ua,ie[this.layer].el)!=="continue"||yp(ie[this.layer].el,ft,st)}).bind({layer:m}),24))),m++}while(t.bubbleScroll&&_!==f&&(_=hi(_,!1)));Dc=h}},30),Tp=function(t){var e=t.originalEvent,i=t.putSortable,s=t.dragEl,a=t.activeSortable,l=t.dispatchSortableEvent,u=t.hideGhostForTarget,f=t.unhideGhostForTarget;if(e){var h=i||a;u();var g=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,m=document.elementFromPoint(g.clientX,g.clientY);f(),h&&!h.el.contains(m)&&(l("spill"),this.onSpill({dragEl:s,putSortable:i}))}};function jc(){}jc.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var s=_r(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(e,s):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:Tp};Kn(jc,{pluginName:"revertOnSpill"});function Zc(){}Zc.prototype={onSpill:function(t){var e=t.dragEl,i=t.putSortable,s=i||this.sortable;s.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),s.animateAll()},drop:Tp};Kn(Zc,{pluginName:"removeOnSpill"});nt.mount(new zT);nt.mount(Zc,jc);function lc(n){n.parentElement!==null&&n.parentElement.removeChild(n)}function ag(n,t,e){const i=e===0?n.children[0]:n.children[e-1].nextSibling;n.insertBefore(t,i)}function WT(){return typeof window<"u"?window.console:global.console}const NT=WT();function HT(n){const t=Object.create(null);return function(i){return t[i]||(t[i]=n(i))}}const $T=/-(\w)/g,YT=HT(n=>n.replace($T,(t,e)=>e.toUpperCase())),Ap=["Start","Add","Remove","Update","End"],Op=["Choose","Unchoose","Sort","Filter","Clone"],Ep=["Move"],UT=[Ep,Ap,Op].flatMap(n=>n).map(n=>`on${n}`),Mc={manage:Ep,manageAndEmit:Ap,emit:Op};function VT(n){return UT.indexOf(n)!==-1}const qT=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function XT(n){return qT.includes(n)}function GT(n){return["transition-group","TransitionGroup"].includes(n)}function Ip(n){return["id","class","role","style"].includes(n)||n.startsWith("data-")||n.startsWith("aria-")||n.startsWith("on")}function Pp(n){return n.reduce((t,[e,i])=>(t[e]=i,t),{})}function KT({$attrs:n,componentData:t={}}){return{...Pp(Object.entries(n).filter(([i,s])=>Ip(i))),...t}}function jT({$attrs:n,callBackBuilder:t}){const e=Pp(Lp(n));Object.entries(t).forEach(([s,a])=>{Mc[s].forEach(l=>{e[`on${l}`]=a(l)})});const i=`[data-draggable]${e.draggable||""}`;return{...e,draggable:i}}function Lp(n){return Object.entries(n).filter(([t,e])=>!Ip(t)).map(([t,e])=>[YT(t),e]).filter(([t,e])=>!VT(t))}const lg=({el:n})=>n,ZT=(n,t)=>n.__draggable_context=t,cg=n=>n.__draggable_context;class QT{constructor({nodes:{header:t,default:e,footer:i},root:s,realList:a}){this.defaultNodes=e,this.children=[...t,...e,...i],this.externalComponent=s.externalComponent,this.rootTransition=s.transition,this.tag=s.tag,this.realList=a}get _isRootComponent(){return this.externalComponent||this.rootTransition}render(t,e){const{tag:i,children:s,_isRootComponent:a}=this;return t(i,e,a?{default:()=>s}:s)}updated(){const{defaultNodes:t,realList:e}=this;t.forEach((i,s)=>{ZT(lg(i),{element:e[s],index:s})})}getUnderlyingVm(t){return cg(t)}getVmIndexFromDomIndex(t,e){const{defaultNodes:i}=this,{length:s}=i,a=e.children,l=a.item(t);if(l===null)return s;const u=cg(l);if(u)return u.index;if(s===0)return 0;const f=lg(i[0]),h=[...a].findIndex(g=>g===f);return t<h?0:s}}function JT(n,t){const e=n[t];return e?e():[]}function tA({$slots:n,realList:t,getKey:e}){const i=t||[],[s,a]=["header","footer"].map(f=>JT(n,f)),{item:l}=n;if(!l)throw new Error("draggable element must have an item slot");const u=i.flatMap((f,h)=>l({element:f,index:h}).map(g=>(g.key=e(f),g.props={...g.props||{},"data-draggable":!0},g)));if(u.length!==i.length)throw new Error("Item slot must have only one child");return{header:s,footer:a,default:u}}function eA(n){const t=GT(n),e=!XT(n)&&!t;return{transition:t,externalComponent:e,tag:e?Zw(n):t?Qw:n}}function nA({$slots:n,tag:t,realList:e,getKey:i}){const s=tA({$slots:n,realList:e,getKey:i}),a=eA(t);return new QT({nodes:s,root:a,realList:e})}function Rp(n,t){sn(()=>this.$emit(n.toLowerCase(),t))}function Fp(n){return(t,e)=>{if(this.realList!==null)return this[`onDrag${n}`](t,e)}}function iA(n){const t=Fp.call(this,n);return(e,i)=>{t.call(this,e,i),Rp.call(this,n,e)}}let cc=null;const rA={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:n=>n},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},sA=["update:modelValue","change",...[...Mc.manageAndEmit,...Mc.emit].map(n=>n.toLowerCase())],oA=un({name:"draggable",inheritAttrs:!1,props:rA,emits:sA,data(){return{error:!1}},render(){try{this.error=!1;const{$slots:n,$attrs:t,tag:e,componentData:i,realList:s,getKey:a}=this,l=nA({$slots:n,tag:e,realList:s,getKey:a});this.componentStructure=l;const u=KT({$attrs:t,componentData:i});return l.render(ds,u)}catch(n){return this.error=!0,ds("pre",{style:{color:"red"}},n.stack)}},created(){this.list!==null&&this.modelValue!==null&&NT.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted(){if(this.error)return;const{$attrs:n,$el:t,componentStructure:e}=this;e.updated();const i=jT({$attrs:n,callBackBuilder:{manageAndEmit:a=>iA.call(this,a),emit:a=>Rp.bind(this,a),manage:a=>Fp.call(this,a)}}),s=t.nodeType===1?t:t.parentElement;this._sortable=new nt(s,i),this.targetDomElement=s,s.__draggable_component__=this},updated(){this.componentStructure.updated()},beforeUnmount(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList(){const{list:n}=this;return n||this.modelValue},getKey(){const{itemKey:n}=this;return typeof n=="function"?n:t=>t[n]}},watch:{$attrs:{handler(n){const{_sortable:t}=this;t&&Lp(n).forEach(([e,i])=>{t.option(e,i)})},deep:!0}},methods:{getUnderlyingVm(n){return this.componentStructure.getUnderlyingVm(n)||null},getUnderlyingPotencialDraggableComponent(n){return n.__draggable_component__},emitChanges(n){sn(()=>this.$emit("change",n))},alterList(n){if(this.list){n(this.list);return}const t=[...this.modelValue];n(t),this.$emit("update:modelValue",t)},spliceList(){const n=t=>t.splice(...arguments);this.alterList(n)},updatePosition(n,t){const e=i=>i.splice(t,0,i.splice(n,1)[0]);this.alterList(e)},getRelatedContextFromMoveEvent({to:n,related:t}){const e=this.getUnderlyingPotencialDraggableComponent(n);if(!e)return{component:e};const i=e.realList,s={list:i,component:e};return n!==t&&i?{...e.getUnderlyingVm(t)||{},...s}:s},getVmIndexFromDomIndex(n){return this.componentStructure.getVmIndexFromDomIndex(n,this.targetDomElement)},onDragStart(n){this.context=this.getUnderlyingVm(n.item),n.item._underlying_vm_=this.clone(this.context.element),cc=n.item},onDragAdd(n){const t=n.item._underlying_vm_;if(t===void 0)return;lc(n.item);const e=this.getVmIndexFromDomIndex(n.newIndex);this.spliceList(e,0,t);const i={element:t,newIndex:e};this.emitChanges({added:i})},onDragRemove(n){if(ag(this.$el,n.item,n.oldIndex),n.pullMode==="clone"){lc(n.clone);return}const{index:t,element:e}=this.context;this.spliceList(t,1);const i={element:e,oldIndex:t};this.emitChanges({removed:i})},onDragUpdate(n){lc(n.item),ag(n.from,n.item,n.oldIndex);const t=this.context.index,e=this.getVmIndexFromDomIndex(n.newIndex);this.updatePosition(t,e);const i={element:this.context.element,oldIndex:t,newIndex:e};this.emitChanges({moved:i})},computeFutureIndex(n,t){if(!n.element)return 0;const e=[...t.to.children].filter(l=>l.style.display!=="none"),i=e.indexOf(t.related),s=n.component.getVmIndexFromDomIndex(i);return e.indexOf(cc)!==-1||!t.willInsertAfter?s:s+1},onDragMove(n,t){const{move:e,realList:i}=this;if(!e||!i)return!0;const s=this.getRelatedContextFromMoveEvent(n),a=this.computeFutureIndex(s,n),l={...this.context,futureIndex:a},u={...n,relatedContext:s,draggedContext:l};return e(u,t)},onDragEnd(){cc=null}}}),aA={class:"stock-page"},lA={class:"action-buttons"},cA={class:"stock-content"},uA={class:"stock-indicator"},fA={class:"kd-indicator"},hA={class:"rsi-indicator"},dA={class:"rsi-value"},gA={class:"bubble-content",style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},pA={__name:"Stock",setup(n){const t=Pc(),e=vg("stock-search");qt(null),qt(null),qt(0),pi(async()=>{try{t.loadUserStockList()}catch(y){console.error("初始化資料庫失敗:",y)}});const i=Bt({get(){return t.userStockList},set(y){t.reorderStockList(y)}});function s(){e.emit(!0)}function a(y,w){console.log(`Stock ${w} indicator changed to ${y}`)}function l(y){return y>0?"price-up":y<0?"price-down":"price-flat"}function u(y){return y>70?"rsi-overbought":y<30?"rsi-oversold":"rsi-normal"}function f(y){return y>70?"超買":y<30?"超賣":"正常"}function h(){}function g(y){Wo(`買賣 ${y.name}`)}function m(y){Wo(`${y.name} 策略設定`)}function _(y){Wo(`${y.name} 其他功能`)}function b(y){setTimeout(()=>{const w=document.querySelector(".stock-row.sortable-chosen");if(w){const k=w.querySelector("canvas"),O=document.querySelector(".stock-row.sortable-drag");if(k&&O){const E=O.querySelector("canvas");if(E&&k.width&&k.height){E.width=k.width,E.height=k.height;const R=E.getContext("2d");R.clearRect(0,0,E.width,E.height),R.drawImage(k,0,0)}}}},0)}function S(y){console.log("拖曳結束",y)}return Jw(document,"visibilitychange",()=>{}),pi(()=>{}),(y,w)=>(Ie(),rn("div",aA,[q(Ce(oA),{modelValue:i.value,"onUpdate:modelValue":w[1]||(w[1]=k=>i.value=k),"item-key":"id",delay:200,animation:200,"ghost-class":"stock-row-ghost",onStart:b,onEnd:S},{item:en(({element:k,index:O})=>[gt("div",{class:"stock-row",onContextmenu:w[0]||(w[0]=t1(()=>{},["prevent"]))},[q(Ce(U1),{"left-width":200,onClickLeft:h},{left:en(()=>[gt("div",lA,[q(Ce(Nl),{type:"primary",size:"small",class:"action-btn buy-btn",onClick:E=>g(k)},{default:en(()=>w[2]||(w[2]=[gt("div",null,"交 易",-1),gt("div",null,"記 錄",-1)])),_:2,__:[2]},1032,["onClick"]),q(Ce(Nl),{type:"warning",size:"small",class:"action-btn strategy-btn",onClick:E=>m(k)},{default:en(()=>w[3]||(w[3]=[fc("策 略",-1)])),_:2,__:[3]},1032,["onClick"]),q(Ce(Nl),{type:"default",size:"small",class:"action-btn other-btn",onClick:E=>_(k)},{default:en(()=>w[4]||(w[4]=[fc("更 多",-1)])),_:2,__:[4]},1032,["onClick"])])]),default:en(()=>[gt("div",cA,[q(fT,{name:k.name,code:k.code,price:k.price,change:k.change,"change-percent":k.changePercent,"price-class":l(k.change),progress:k.progress,"progress-text":k.progressText},null,8,["name","code","price","change","change-percent","price-class","progress","progress-text"]),gt("div",uA,[q(Ce(a1),{"show-indicators":!1,loop:!1,autoplay:0,onChange:E=>a(E,O)},{default:en(()=>[q(Ce(Ih),{class:"indicator-content"},{default:en(()=>[gt("div",fA,[q(eT,{width:120,height:60,"stock-id":k.id},null,8,["stock-id"])])]),_:2},1024),q(Ce(Ih),{class:"indicator-content"},{default:en(()=>[gt("div",hA,[gt("div",dA,Pe(k.rsi),1),gt("div",{class:dc(["rsi-trend",u(k.rsi)])},Pe(f(k.rsi)),3)])]),_:2},1024)]),_:2},1032,["onChange"])])])]),_:2},1024)],32)]),_:1},8,["modelValue"]),q(Ce(M1),{axis:"xy",magnetic:"x",gap:{x:20,y:80},style:{"--van-floating-bubble-size":"56px","--van-floating-bubble-background":"rgba(255, 224, 102, 0.9)","--van-floating-bubble-icon-size":"22px","--van-floating-bubble-color":"#322b0d"},onClick:s},{default:en(()=>[gt("div",gA,[q(Ce(di),{name:"plus",size:"22",color:"#322b0d",style:{"margin-bottom":"2px"}}),w[5]||(w[5]=gt("span",{class:"bubble-label",style:{color:"#322b0d","font-size":"14px"}},"新增",-1))])]),_:1}),q(bS)]))}},xA=Oc(pA,[["__scopeId","data-v-d867b272"]]);export{xA as default};
