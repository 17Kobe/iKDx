import{d as D,m as _,c as X,r as y,a as k,i as $,w as z,b as A,e as j,u as F,o as K,n as E,f as R,g as L,h as W,j as G,v as J,k as i,s as Q,l as Y,T as Z,p as ee,q,t as H,x as te,y as B,z as ae,H as ne,I as oe,A as se,B as le,C as I,D as M,E as d,F as ie}from"./index-DvGDROck.js";import{u as re,P as ce,p as ue,a as de,S as pe}from"./index-CpqvFpcY.js";function N(e,c){return e.reduce((s,f)=>Math.abs(s-c)<Math.abs(f-c)?s:f)}const fe={gap:{type:[Number,Object],default:24},icon:String,axis:_("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[ve,V]=X("floating-bubble");var xe=D({name:ve,inheritAttrs:!1,props:fe,emits:["click","update:offset","offsetChange"],setup(e,{slots:c,emit:s,attrs:f}){const v=y(),t=y({x:0,y:0,width:0,height:0}),u=k(()=>$(e.gap)?e.gap.x:e.gap),g=k(()=>$(e.gap)?e.gap.y:e.gap),r=k(()=>({top:g.value,right:A.value-t.value.width-u.value,bottom:z.value-t.value.height-g.value,left:u.value})),h=y(!1);let w=!1;const T=k(()=>{const n={},m=j(t.value.x),l=j(t.value.y);return n.transform=`translate3d(${m}, ${l}, 0)`,(h.value||!w)&&(n.transition="none"),n}),a=()=>{if(!S.value)return;const{width:n,height:m}=ee(v.value),{offset:l}=e;t.value={x:l?l.x:A.value-n-u.value,y:l?l.y:z.value-m-g.value,width:n,height:m}},o=re();let x=0,b=0;const C=n=>{o.start(n),h.value=!0,x=t.value.x,b=t.value.y};F("touchmove",n=>{if(n.preventDefault(),o.move(n),e.axis!=="lock"&&!o.isTap.value){if(e.axis==="x"||e.axis==="xy"){let l=x+o.deltaX.value;l<r.value.left&&(l=r.value.left),l>r.value.right&&(l=r.value.right),t.value.x=l}if(e.axis==="y"||e.axis==="xy"){let l=b+o.deltaY.value;l<r.value.top&&(l=r.value.top),l>r.value.bottom&&(l=r.value.bottom),t.value.y=l}const m=q(t.value,["x","y"]);s("update:offset",m)}},{target:v});const O=()=>{h.value=!1,E(()=>{if(e.magnetic==="x"){const n=N([r.value.left,r.value.right],t.value.x);t.value.x=n}if(e.magnetic==="y"){const n=N([r.value.top,r.value.bottom],t.value.y);t.value.y=n}if(!o.isTap.value){const n=q(t.value,["x","y"]);s("update:offset",n),(x!==n.x||b!==n.y)&&s("offsetChange",n)}})},U=n=>{o.isTap.value?s("click",n):n.stopPropagation()};K(()=>{a(),E(()=>{w=!0})}),R([A,z,u,g,()=>e.offset],a,{deep:!0});const S=y(!0);return L(()=>{S.value=!0}),W(()=>{e.teleport&&(S.value=!1)}),()=>{const n=G(i("div",Y({class:V(),ref:v,onTouchstartPassive:C,onTouchend:O,onTouchcancel:O,onClickCapture:U,style:T.value},f),[c.default?c.default():i(Q,{name:e.icon,class:V("icon")},null)]),[[J,S.value]]);return e.teleport?i(Z,{to:e.teleport},{default:()=>[n]}):n}}});const ge=H(xe),he=e=>e?.includes("/"),me=[...de,"round","closeOnPopstate","safeAreaInsetBottom"],ye={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[be,p,we]=X("share-sheet"),Se=te({},ue,{title:String,round:B,options:ae(),cancelText:String,description:String,closeOnPopstate:B,safeAreaInsetBottom:B});var ke=D({name:be,props:Se,emits:["cancel","select","update:show"],setup(e,{emit:c,slots:s}){const f=a=>c("update:show",a),v=()=>{f(!1),c("cancel")},t=(a,o)=>c("select",a,o),u=()=>{const a=s.title?s.title():e.title,o=s.description?s.description():e.description;if(a||o)return i("div",{class:p("header")},[a&&i("h2",{class:p("title")},[a]),o&&i("span",{class:p("description")},[o])])},g=a=>he(a)?i("img",{src:a,class:p("image-icon")},null):i("div",{class:p("icon",[a])},[i(oe,{name:ye[a]||a},null)]),r=(a,o)=>{const{name:x,icon:b,className:C,description:P}=a;return i("div",{role:"button",tabindex:0,class:[p("option"),C,ne],onClick:()=>t(a,o)},[g(b),x&&i("span",{class:p("name")},[x]),P&&i("span",{class:p("option-description")},[P])])},h=(a,o)=>i("div",{class:p("options",{border:o})},[a.map(r)]),w=()=>{const{options:a}=e;return Array.isArray(a[0])?a.map((o,x)=>h(o,x!==0)):h(a)},T=()=>{var a;const o=(a=e.cancelText)!=null?a:we("cancel");if(s.cancel||o)return i("button",{type:"button",class:p("cancel"),onClick:v},[s.cancel?s.cancel():o])};return()=>i(ce,Y({class:p(),position:"bottom","onUpdate:show":f},q(e,me)),{default:()=>[u(),w(),T()]})}});const Te=H(ke),Ce={style:{padding:"32px"}},Ae={__name:"Stock",setup(e){const c=y(!1),s=y("");function f(v){console.log("搜尋",v)}return(v,t)=>(ie(),se("div",Ce,[t[5]||(t[5]=le(" 自選股頁面324234234234234234324234234234 ",-1)),i(I(ge),{icon:"plus",axis:"xy",magnetic:"x",gap:{x:24,y:80},style:{"--van-floating-bubble-size":"48px"},onClick:t[0]||(t[0]=u=>c.value=!0)}),i(I(Te),{show:c.value,"onUpdate:show":t[2]||(t[2]=u=>c.value=u),options:[],"cancel-text":"",style:{"--van-share-sheet-header-padding":"24px 24px 0 24px","min-height":"60vh"}},{title:M(()=>t[3]||(t[3]=[d("div",{style:{"font-size":"18px","font-weight":"bold","letter-spacing":"1px","text-align":"center","margin-top":"0","margin-bottom":"0",color:"#222","line-height":"1.2"}}," 股票搜尋 ",-1)])),description:M(()=>[d("div",null,[i(I(pe),{modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=u=>s.value=u),placeholder:"請輸入股票名稱或代碼","action-text":"",style:{"--van-search-input-height":"48px","font-size":"18px"},onSearch:f},null,8,["modelValue"])]),t[4]||(t[4]=d("div",null,[d("div",{style:{display:"flex","align-items":"center",margin:"0 0 10px 0"}},[d("div",{style:{"margin-left":"16px","font-size":"16px",color:"#222","font-weight":"bold","letter-spacing":"1px"}}," | 熱門股票 ")]),d("div",{style:{display:"flex",gap:"8px","flex-wrap":"wrap","justify-content":"center"}},[d("span",{style:{background:"#f2f3f5","border-radius":"16px",padding:"4px 12px","font-size":"15px"}},"台積電"),d("span",{style:{background:"#f2f3f5","border-radius":"16px",padding:"4px 12px","font-size":"15px"}},"鴻海"),d("span",{style:{background:"#f2f3f5","border-radius":"16px",padding:"4px 12px","font-size":"15px"}},"聯發科"),d("span",{style:{background:"#f2f3f5","border-radius":"16px",padding:"4px 12px","font-size":"15px"}},"長榮"),d("span",{style:{background:"#f2f3f5","border-radius":"16px",padding:"4px 12px","font-size":"15px"}},"中鋼")])],-1))]),_:1},8,["show"])]))}};export{Ae as default};
