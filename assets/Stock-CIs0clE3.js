import{d as qe,e as Hi,c as Fn,u as fg,B as kw,a as Y,r as hg,m as Le,n as wn,I as In,p as Wi,L as dg,w as Bn,b as _r,f as vr,P as gg,g as pg,t as Ve,h as mg,i as _g,H as vg,j as Xe,k as Dw,l as is,o as Yt,q as da,s as Ac,v as Mw,x as It,y as Ss,z as En,A as Tw,C as mi,D as bg,E as Aw,F as xg,G as Ow,J as ga,K as Ah,M as rs,N as vo,O as zo,Q as No,R as yg,S as Ho,T as xn,U as Ew,V as fc,W as Iw,X as Pw,Y as Lw,Z as Rw,_ as ta,$ as Fw,a0 as Oh,a1 as Bw,a2 as hc,a3 as Ww,a4 as zw,a5 as Nw,a6 as Hw,a7 as $w,a8 as Yw,a9 as wg,aa as Uw,ab as Vw,ac as Oc,ad as Sg,ae as Cg,af as bo,ag as Xw,ah as Wt,ai as qw,aj as Kw,ak as Gw,al as kg,am as Dg,an as Mg,ao as Ie,ap as on,aq as gt,ar as ve,as as ln,at as jw,au as Nl,av as Eh,aw as Tg,ax as Pe,ay as Ii,az as Ag,aA as ps,aB as Zw,aC as dc,aD as Og,aE as Cs,aF as Ec,aG as gc,aH as Jw,aI as Qw,aJ as t1,aK as e1}from"./index-AzCOkwBR.js";import{w as Ic}from"./worker-pool-Vr2Seoof.js";function Ih(n,t){return n.reduce((e,i)=>Math.abs(e-t)<Math.abs(i-t)?e:i)}const[n1,ar]=Fn("button"),i1=Hi({},hg,{tag:Le("button"),text:String,icon:String,type:Le("default"),size:Le("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Le("button"),loadingSize:wn,loadingText:String,loadingType:String,iconPosition:Le("left")});var r1=qe({name:n1,props:i1,emits:["click"],setup(n,{emit:t,slots:e}){const i=fg(),s=()=>e.loading?e.loading():Y(dg,{size:n.loadingSize,type:n.loadingType,class:ar("loading")},null),a=()=>{if(n.loading)return s();if(e.icon)return Y("div",{class:ar("icon")},[e.icon()]);if(n.icon)return Y(In,{name:n.icon,class:ar("icon"),classPrefix:n.iconPrefix},null)},l=()=>{let h;if(n.loading?h=n.loadingText:h=e.default?e.default():n.text,h)return Y("span",{class:ar("text")},[h])},u=()=>{const{color:h,plain:g}=n;if(h){const m={color:g?h:"white"};return g||(m.background=h),h.includes("gradient")?m.border=0:m.borderColor=h,m}},f=h=>{n.loading?Wi(h):n.disabled||(t("click",h),i())};return()=>{const{tag:h,type:g,size:m,block:p,round:v,plain:S,square:y,loading:w,disabled:k,hairline:O,nativeType:I,iconPosition:E}=n,M=[ar([g,m,{plain:S,block:p,round:v,square:y,loading:w,disabled:k,hairline:O}]),{[kw]:O}];return Y(h,{type:I,class:M,style:u(),disabled:k,onClick:f},{default:()=>[Y("div",{class:ar("content")},[E==="left"&&a(),l(),E==="right"&&a()])]})}}});const Hl=Bn(r1),[s1,nn]=Fn("action-sheet"),o1=Hi({},pg,{title:String,round:Ve,actions:mg(),closeIcon:Le("cross"),closeable:Ve,cancelText:String,description:String,closeOnPopstate:Ve,closeOnClickAction:Boolean,safeAreaInsetBottom:Ve}),a1=[..._g,"round","closeOnPopstate","safeAreaInsetBottom"];var l1=qe({name:s1,props:o1,emits:["select","cancel","update:show"],setup(n,{slots:t,emit:e}){const i=m=>e("update:show",m),s=()=>{i(!1),e("cancel")},a=()=>{if(n.title)return Y("div",{class:nn("header")},[n.title,n.closeable&&Y(In,{name:n.closeIcon,class:[nn("close"),vg],onClick:s},null)])},l=()=>{if(t.cancel||n.cancelText)return[Y("div",{class:nn("gap")},null),Y("button",{type:"button",class:nn("cancel"),onClick:s},[t.cancel?t.cancel():n.cancelText])]},u=m=>{if(m.icon)return Y(In,{class:nn("item-icon"),name:m.icon},null)},f=(m,p)=>m.loading?Y(dg,{class:nn("loading-icon")},null):t.action?t.action({action:m,index:p}):[Y("span",{class:nn("name")},[m.name]),m.subname&&Y("div",{class:nn("subname")},[m.subname])],h=(m,p)=>{const{color:v,loading:S,callback:y,disabled:w,className:k}=m,O=()=>{w||S||(y&&y(m),n.closeOnClickAction&&i(!1),Xe(()=>e("select",m,p)))};return Y("button",{type:"button",style:{color:v},class:[nn("item",{loading:S,disabled:w}),k],onClick:O},[u(m),f(m,p)])},g=()=>{if(n.description||t.description){const m=t.description?t.description():n.description;return Y("div",{class:nn("description")},[m])}};return()=>Y(gg,_r({class:nn(),position:"bottom","onUpdate:show":i},vr(n,a1)),{default:()=>{var m;return[a(),g(),Y("div",{class:nn("content")},[n.actions.map(h),(m=t.default)==null?void 0:m.call(t)]),l()]}})}});const c1=Bn(l1);let u1=0;function Eg(){const n=Dw(),{name:t="unknown"}=n?.type||{};return`${t}-${++u1}`}const[Ig,xo]=Fn("swipe"),f1={loop:Ve,width:wn,height:wn,vertical:Boolean,autoplay:is(0),duration:is(500),touchable:Ve,lazyRender:Boolean,initialSwipe:is(0),indicatorColor:String,showIndicators:Ve,stopPropagation:Ve},Pg=Symbol(Ig);var h1=qe({name:Ig,props:f1,emits:["change","dragStart","dragEnd"],setup(n,{emit:t,slots:e}){const i=Yt(),s=Yt(),a=da({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let l=!1;const u=Ac(),{children:f,linkChildren:h}=Mw(Pg),g=It(()=>f.length),m=It(()=>a[n.vertical?"height":"width"]),p=It(()=>n.vertical?u.deltaY.value:u.deltaX.value),v=It(()=>a.rect?(n.vertical?a.rect.height:a.rect.width)-m.value*g.value:0),S=It(()=>m.value?Math.ceil(Math.abs(v.value)/m.value):g.value),y=It(()=>g.value*m.value),w=It(()=>(a.active+g.value)%g.value),k=It(()=>{const V=n.vertical?"vertical":"horizontal";return u.direction.value===V}),O=It(()=>{const V={transitionDuration:`${a.swiping?0:n.duration}ms`,transform:`translate${n.vertical?"Y":"X"}(${+a.offset.toFixed(2)}px)`};if(m.value){const mt=n.vertical?"height":"width",xt=n.vertical?"width":"height";V[mt]=`${y.value}px`,V[xt]=n[xt]?`${n[xt]}px`:""}return V}),I=V=>{const{active:mt}=a;return V?n.loop?rs(mt+V,-1,g.value):rs(mt+V,0,S.value):mt},E=(V,mt=0)=>{let xt=V*m.value;n.loop||(xt=Math.min(xt,-v.value));let Rt=mt-xt;return n.loop||(Rt=rs(Rt,v.value,0)),Rt},M=({pace:V=0,offset:mt=0,emitChange:xt})=>{if(g.value<=1)return;const{active:Rt}=a,Tt=I(V),qt=E(Tt,mt);if(n.loop){if(f[0]&&qt!==v.value){const N=qt<v.value;f[0].setOffset(N?y.value:0)}if(f[g.value-1]&&qt!==0){const N=qt>0;f[g.value-1].setOffset(N?-y.value:0)}}a.active=Tt,a.offset=qt,xt&&Tt!==Rt&&t("change",w.value)},R=()=>{a.swiping=!0,a.active<=-1?M({pace:g.value}):a.active>=g.value&&M({pace:-g.value})},B=()=>{R(),u.reset(),vo(()=>{a.swiping=!1,M({pace:-1,emitChange:!0})})},L=()=>{R(),u.reset(),vo(()=>{a.swiping=!1,M({pace:1,emitChange:!0})})};let $;const G=()=>clearTimeout($),q=()=>{G(),+n.autoplay>0&&g.value>1&&($=setTimeout(()=>{L(),q()},+n.autoplay))},j=(V=+n.initialSwipe)=>{if(!i.value)return;const mt=()=>{var xt,Rt;if(!Ah(i)){const Tt={width:i.value.offsetWidth,height:i.value.offsetHeight};a.rect=Tt,a.width=+((xt=n.width)!=null?xt:Tt.width),a.height=+((Rt=n.height)!=null?Rt:Tt.height)}g.value&&(V=Math.min(g.value-1,V),V===-1&&(V=g.value-1)),a.active=V,a.swiping=!0,a.offset=E(V),f.forEach(Tt=>{Tt.setOffset(0)}),q()};Ah(i)?Xe().then(mt):mt()},rt=()=>j(a.active);let vt;const st=V=>{!n.touchable||V.touches.length>1||(u.start(V),l=!1,vt=Date.now(),G(),R())},ft=V=>{n.touchable&&a.swiping&&(u.move(V),k.value&&(!n.loop&&(a.active===0&&p.value>0||a.active===g.value-1&&p.value<0)||(Wi(V,n.stopPropagation),M({offset:p.value}),l||(t("dragStart",{index:w.value}),l=!0))))},bt=()=>{if(!n.touchable||!a.swiping)return;const V=Date.now()-vt,mt=p.value/V;if((Math.abs(mt)>.25||Math.abs(p.value)>m.value/2)&&k.value){const Rt=n.vertical?u.offsetY.value:u.offsetX.value;let Tt=0;n.loop?Tt=Rt>0?p.value>0?-1:1:0:Tt=-Math[p.value>0?"ceil":"floor"](p.value/m.value),M({pace:Tt,emitChange:!0})}else p.value&&M({pace:0});l=!1,a.swiping=!1,t("dragEnd",{index:w.value}),q()},Ct=(V,mt={})=>{R(),u.reset(),vo(()=>{let xt;n.loop&&V===g.value?xt=a.active===0?0:V:xt=V%g.value,mt.immediate?vo(()=>{a.swiping=!1}):a.swiping=!1,M({pace:xt-a.active,emitChange:!0})})},ne=(V,mt)=>{const xt=mt===w.value,Rt=xt?{backgroundColor:n.indicatorColor}:void 0;return Y("i",{style:Rt,class:xo("indicator",{active:xt})},null)},Jt=()=>{if(e.indicator)return e.indicator({active:w.value,total:g.value});if(n.showIndicators&&g.value>1)return Y("div",{class:xo("indicators",{vertical:n.vertical})},[Array(g.value).fill("").map(ne)])};return Ss({prev:B,next:L,state:a,resize:rt,swipeTo:Ct}),h({size:m,props:n,count:g,activeIndicator:w}),En(()=>n.initialSwipe,V=>j(+V)),En(g,()=>j(a.active)),En(()=>n.autoplay,q),En([zo,No,()=>n.width,()=>n.height],rt),En(Tw(),V=>{V==="visible"?q():G()}),mi(j),bg(()=>j(a.active)),Aw(()=>j(a.active)),xg(G),Ow(G),ga("touchmove",ft,{target:s}),()=>{var V;return Y("div",{ref:i,class:xo()},[Y("div",{ref:s,style:O.value,class:xo("track",{vertical:n.vertical}),onTouchstartPassive:st,onTouchend:bt,onTouchcancel:bt},[(V=e.default)==null?void 0:V.call(e)]),Jt()])}}});const d1=Bn(h1),[g1,p1]=Fn("swipe-item");var m1=qe({name:g1,setup(n,{slots:t}){let e;const i=da({offset:0,inited:!1,mounted:!1}),{parent:s,index:a}=yg(Pg);if(!s)return;const l=It(()=>{const h={},{vertical:g}=s.props;return s.size.value&&(h[g?"height":"width"]=`${s.size.value}px`),i.offset&&(h.transform=`translate${g?"Y":"X"}(${i.offset}px)`),h}),u=It(()=>{const{loop:h,lazyRender:g}=s.props;if(!g||e)return!0;if(!i.mounted)return!1;const m=s.activeIndicator.value,p=s.count.value-1,v=m===0&&h?p:m-1,S=m===p&&h?0:m+1;return e=a.value===m||a.value===v||a.value===S,e}),f=h=>{i.offset=h};return mi(()=>{Xe(()=>{i.mounted=!0})}),Ss({setOffset:f}),()=>{var h;return Y("div",{class:p1(),style:l.value},[u.value?(h=t.default)==null?void 0:h.call(t):null])}}});const Ph=Bn(m1),[_1,lr]=Fn("cell"),Lg={tag:Le("div"),icon:String,size:String,title:wn,value:wn,label:wn,center:Boolean,isLink:Boolean,border:Ve,iconPrefix:String,valueClass:Ho,labelClass:Ho,titleClass:Ho,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},v1=Hi({},Lg,hg);var b1=qe({name:_1,props:v1,setup(n,{slots:t}){const e=fg(),i=()=>{if(t.label||xn(n.label))return Y("div",{class:[lr("label"),n.labelClass]},[t.label?t.label():n.label])},s=()=>{var f;if(t.title||xn(n.title)){const h=(f=t.title)==null?void 0:f.call(t);return Array.isArray(h)&&h.length===0?void 0:Y("div",{class:[lr("title"),n.titleClass],style:n.titleStyle},[h||Y("span",null,[n.title]),i()])}},a=()=>{const f=t.value||t.default;if(f||xn(n.value))return Y("div",{class:[lr("value"),n.valueClass]},[f?f():Y("span",null,[n.value])])},l=()=>{if(t.icon)return t.icon();if(n.icon)return Y(In,{name:n.icon,class:lr("left-icon"),classPrefix:n.iconPrefix},null)},u=()=>{if(t["right-icon"])return t["right-icon"]();if(n.isLink){const f=n.arrowDirection&&n.arrowDirection!=="right"?`arrow-${n.arrowDirection}`:"arrow";return Y(In,{name:f,class:lr("right-icon")},null)}};return()=>{var f;const{tag:h,size:g,center:m,border:p,isLink:v,required:S}=n,y=(f=n.clickable)!=null?f:v,w={center:m,required:!!S,clickable:y,borderless:!p};return g&&(w[g]=!!g),Y(h,{class:lr(w),role:y?"button":void 0,tabindex:y?0:void 0,onClick:e},{default:()=>{var k;return[l(),s(),a(),u(),(k=t.extra)==null?void 0:k.call(t)]}})}}});const x1=Bn(b1);function Rg(n){return Array.isArray(n)?!n.length:n===0?!1:!n}function y1(n,t){if(Rg(n)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(n)))}function w1(n,t){return new Promise(e=>{const i=t.validator(n,t);if(Lw(i)){i.then(e);return}e(i)})}function Lh(n,t){const{message:e}=t;return Pw(e)?e(n,t):e||""}function S1({target:n}){n.composing=!0}function Rh({target:n}){n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}function C1(n,t){const e=Ew();n.style.height="auto";let i=n.scrollHeight;if(fc(t)){const{maxHeight:s,minHeight:a}=t;s!==void 0&&(i=Math.min(i,s)),a!==void 0&&(i=Math.max(i,a))}i&&(n.style.height=`${i}px`,Iw(e))}function k1(n,t){return n==="number"&&(n="text",t??(t="decimal")),n==="digit"&&(n="tel",t??(t="numeric")),{type:n,inputmode:t}}function qn(n){return[...n].length}function $l(n,t){return[...n].slice(0,t).join("")}const[D1,rn]=Fn("field"),Pc={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:wn,max:Number,min:Number,formatter:Function,clearIcon:Le("clear"),modelValue:is(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:Le("focus"),formatTrigger:Le("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},M1=Hi({},Lg,Pc,{rows:wn,type:Le("text"),rules:Array,autosize:[Boolean,Object],labelWidth:wn,labelClass:Ho,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var T1=qe({name:D1,props:M1,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(n,{emit:t,slots:e}){const i=Eg(),s=da({status:"unvalidated",focused:!1,validateMessage:""}),a=Yt(),l=Yt(),u=Yt(),{parent:f}=yg(Rw),h=()=>{var N;return String((N=n.modelValue)!=null?N:"")},g=N=>{if(xn(n[N]))return n[N];if(f&&xn(f.props[N]))return f.props[N]},m=It(()=>{const N=g("readonly");if(n.clearable&&!N){const ot=h()!=="",at=n.clearTrigger==="always"||n.clearTrigger==="focus"&&s.focused;return ot&&at}return!1}),p=It(()=>u.value&&e.input?u.value():n.modelValue),v=It(()=>{var N;const ot=g("required");return ot==="auto"?(N=n.rules)==null?void 0:N.some(at=>at.required):ot}),S=N=>N.reduce((ot,at)=>ot.then(()=>{if(s.status==="failed")return;let{value:Ft}=p;if(at.formatter&&(Ft=at.formatter(Ft,at)),!y1(Ft,at)){s.status="failed",s.validateMessage=Lh(Ft,at);return}if(at.validator)return Rg(Ft)&&at.validateEmpty===!1?void 0:w1(Ft,at).then(Nt=>{Nt&&typeof Nt=="string"?(s.status="failed",s.validateMessage=Nt):Nt===!1&&(s.status="failed",s.validateMessage=Lh(Ft,at))})}),Promise.resolve()),y=()=>{s.status="unvalidated",s.validateMessage=""},w=()=>t("endValidate",{status:s.status,message:s.validateMessage}),k=(N=n.rules)=>new Promise(ot=>{y(),N?(t("startValidate"),S(N).then(()=>{s.status==="failed"?(ot({name:n.name,message:s.validateMessage}),w()):(s.status="passed",ot(),w())})):ot()}),O=N=>{if(f&&n.rules){const{validateTrigger:ot}=f.props,at=Oh(ot).includes(N),Ft=n.rules.filter(Nt=>Nt.trigger?Oh(Nt.trigger).includes(N):at);Ft.length&&k(Ft)}},I=N=>{var ot;const{maxlength:at}=n;if(xn(at)&&qn(N)>+at){const Ft=h();if(Ft&&qn(Ft)===+at)return Ft;const Nt=(ot=a.value)==null?void 0:ot.selectionEnd;if(s.focused&&Nt){const de=[...N],ke=de.length-+at;return de.splice(Nt-ke,ke),de.join("")}return $l(N,+at)}return N},E=(N,ot="onChange")=>{var at,Ft;const Nt=N;N=I(N);const de=qn(Nt)-qn(N);if(n.type==="number"||n.type==="digit"){const Pt=n.type==="number";if(N=Bw(N,Pt,Pt),ot==="onBlur"&&N!==""&&(n.min!==void 0||n.max!==void 0)){const Kt=rs(+N,(at=n.min)!=null?at:-1/0,(Ft=n.max)!=null?Ft:1/0);+N!==Kt&&(N=Kt.toString())}}let ke=0;if(n.formatter&&ot===n.formatTrigger){const{formatter:Pt,maxlength:Kt}=n;if(N=Pt(N),xn(Kt)&&qn(N)>+Kt&&(N=$l(N,+Kt)),a.value&&s.focused){const{selectionEnd:Sn}=a.value,ge=$l(Nt,Sn);ke=qn(Pt(ge))-qn(ge)}}if(a.value&&a.value.value!==N)if(s.focused){let{selectionStart:Pt,selectionEnd:Kt}=a.value;if(a.value.value=N,xn(Pt)&&xn(Kt)){const Sn=qn(N);de?(Pt-=de,Kt-=de):ke&&(Pt+=ke,Kt+=ke),a.value.setSelectionRange(Math.min(Pt,Sn),Math.min(Kt,Sn))}}else a.value.value=N;N!==n.modelValue&&t("update:modelValue",N)},M=N=>{N.target.composing||E(N.target.value)},R=()=>{var N;return(N=a.value)==null?void 0:N.blur()},B=()=>{var N;return(N=a.value)==null?void 0:N.focus()},L=()=>{const N=a.value;n.type==="textarea"&&n.autosize&&N&&C1(N,n.autosize)},$=N=>{s.focused=!0,t("focus",N),Xe(L),g("readonly")&&R()},G=N=>{s.focused=!1,E(h(),"onBlur"),t("blur",N),!g("readonly")&&(O("onBlur"),Xe(L),Ww())},q=N=>t("clickInput",N),j=N=>t("clickLeftIcon",N),rt=N=>t("clickRightIcon",N),vt=N=>{Wi(N),t("update:modelValue",""),t("clear",N)},st=It(()=>{if(typeof n.error=="boolean")return n.error;if(f&&f.props.showError&&s.status==="failed")return!0}),ft=It(()=>{const N=g("labelWidth"),ot=g("labelAlign");if(N&&ot!=="top")return{width:ta(N)}}),bt=N=>{N.keyCode===13&&(!(f&&f.props.submitOnEnter)&&n.type!=="textarea"&&Wi(N),n.type==="search"&&R()),t("keypress",N)},Ct=()=>n.id||`${i}-input`,ne=()=>s.status,Jt=()=>{const N=rn("control",[g("inputAlign"),{error:st.value,custom:!!e.input,"min-height":n.type==="textarea"&&!n.autosize}]);if(e.input)return Y("div",{class:N,onClick:q},[e.input()]);const ot={id:Ct(),ref:a,name:n.name,rows:n.rows!==void 0?+n.rows:void 0,class:N,disabled:g("disabled"),readonly:g("readonly"),autofocus:n.autofocus,placeholder:n.placeholder,autocomplete:n.autocomplete,autocapitalize:n.autocapitalize,autocorrect:n.autocorrect,enterkeyhint:n.enterkeyhint,spellcheck:n.spellcheck,"aria-labelledby":n.label?`${i}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:G,onFocus:$,onInput:M,onClick:q,onChange:Rh,onKeypress:bt,onCompositionend:Rh,onCompositionstart:S1};return n.type==="textarea"?Y("textarea",_r(ot,{inputmode:n.inputmode}),null):Y("input",_r(k1(n.type,n.inputmode),ot),null)},V=()=>{const N=e["left-icon"];if(n.leftIcon||N)return Y("div",{class:rn("left-icon"),onClick:j},[N?N():Y(In,{name:n.leftIcon,classPrefix:n.iconPrefix},null)])},mt=()=>{const N=e["right-icon"];if(n.rightIcon||N)return Y("div",{class:rn("right-icon"),onClick:rt},[N?N():Y(In,{name:n.rightIcon,classPrefix:n.iconPrefix},null)])},xt=()=>{if(n.showWordLimit&&n.maxlength){const N=qn(h());return Y("div",{class:rn("word-limit")},[Y("span",{class:rn("word-num")},[N]),hc("/"),n.maxlength])}},Rt=()=>{if(f&&f.props.showErrorMessage===!1)return;const N=n.errorMessage||s.validateMessage;if(N){const ot=e["error-message"],at=g("errorMessageAlign");return Y("div",{class:rn("error-message",at)},[ot?ot({message:N}):N])}},Tt=()=>{const N=g("labelWidth"),ot=g("labelAlign"),at=g("colon")?":":"";if(e.label)return[e.label(),at];if(n.label)return Y("label",{id:`${i}-label`,for:e.input?void 0:Ct(),"data-allow-mismatch":"attribute",onClick:Ft=>{Wi(Ft),B()},style:ot==="top"&&N?{width:ta(N)}:void 0},[n.label+at])},qt=()=>[Y("div",{class:rn("body")},[Jt(),m.value&&Y(In,{ref:l,name:n.clearIcon,class:rn("clear")},null),mt(),e.button&&Y("div",{class:rn("button")},[e.button()])]),xt(),Rt()];return Ss({blur:R,focus:B,validate:k,formValue:p,resetValidation:y,getValidationStatus:ne}),Fw(zw,{customValue:u,resetValidation:y,validateWithTrigger:O}),En(()=>n.modelValue,()=>{E(h()),y(),O("onChange"),Xe(L)}),mi(()=>{E(h(),n.formatTrigger),Xe(L)}),ga("touchstart",vt,{target:It(()=>{var N;return(N=l.value)==null?void 0:N.$el})}),()=>{const N=g("disabled"),ot=g("labelAlign"),at=V(),Ft=()=>{const Nt=Tt();return ot==="top"?[at,Nt].filter(Boolean):Nt||[]};return Y(x1,{size:n.size,class:rn({error:st.value,disabled:N,[`label-${ot}`]:ot}),center:n.center,border:n.border,isLink:n.isLink,clickable:n.clickable,titleStyle:ft.value,valueClass:rn("value"),titleClass:[rn("label",[ot,{required:v.value}]),n.labelClass],arrowDirection:n.arrowDirection},{icon:at&&ot!=="top"?()=>at:null,title:Ft,value:qt,extra:e.extra})}}});const A1=Bn(T1),O1={gap:{type:[Number,Object],default:24},icon:String,axis:Le("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[E1,Fh]=Fn("floating-bubble");var I1=qe({name:E1,inheritAttrs:!1,props:O1,emits:["click","update:offset","offsetChange"],setup(n,{slots:t,emit:e,attrs:i}){const s=Yt(),a=Yt({x:0,y:0,width:0,height:0}),l=It(()=>fc(n.gap)?n.gap.x:n.gap),u=It(()=>fc(n.gap)?n.gap.y:n.gap),f=It(()=>({top:u.value,right:zo.value-a.value.width-l.value,bottom:No.value-a.value.height-u.value,left:l.value})),h=Yt(!1);let g=!1;const m=It(()=>{const M={},R=ta(a.value.x),B=ta(a.value.y);return M.transform=`translate3d(${R}, ${B}, 0)`,(h.value||!g)&&(M.transition="none"),M}),p=()=>{if(!E.value)return;const{width:M,height:R}=wg(s.value),{offset:B}=n;a.value={x:B?B.x:zo.value-M-l.value,y:B?B.y:No.value-R-u.value,width:M,height:R}},v=Ac();let S=0,y=0;const w=M=>{v.start(M),h.value=!0,S=a.value.x,y=a.value.y};ga("touchmove",M=>{if(M.preventDefault(),v.move(M),n.axis!=="lock"&&!v.isTap.value){if(n.axis==="x"||n.axis==="xy"){let B=S+v.deltaX.value;B<f.value.left&&(B=f.value.left),B>f.value.right&&(B=f.value.right),a.value.x=B}if(n.axis==="y"||n.axis==="xy"){let B=y+v.deltaY.value;B<f.value.top&&(B=f.value.top),B>f.value.bottom&&(B=f.value.bottom),a.value.y=B}const R=vr(a.value,["x","y"]);e("update:offset",R)}},{target:s});const O=()=>{h.value=!1,Xe(()=>{if(n.magnetic==="x"){const M=Ih([f.value.left,f.value.right],a.value.x);a.value.x=M}if(n.magnetic==="y"){const M=Ih([f.value.top,f.value.bottom],a.value.y);a.value.y=M}if(!v.isTap.value){const M=vr(a.value,["x","y"]);e("update:offset",M),(S!==M.x||y!==M.y)&&e("offsetChange",M)}})},I=M=>{v.isTap.value?e("click",M):M.stopPropagation()};mi(()=>{p(),Xe(()=>{g=!0})}),En([zo,No,l,u,()=>n.offset],p,{deep:!0});const E=Yt(!0);return bg(()=>{E.value=!0}),xg(()=>{n.teleport&&(E.value=!1)}),()=>{const M=Nw(Y("div",_r({class:Fh(),ref:s,onTouchstartPassive:w,onTouchend:O,onTouchcancel:O,onClickCapture:I,style:m.value},i),[t.default?t.default():Y($w,{name:n.icon,class:Fh("icon")},null)]),[[Hw,E.value]]);return n.teleport?Y(Yw,{to:n.teleport},{default:()=>[M]}):M}}});const P1=Bn(I1),[L1,Yr,R1]=Fn("search"),F1=Hi({},Pc,{label:String,shape:Le("square"),leftIcon:Le("search"),clearable:Ve,actionText:String,background:String,showAction:Boolean});var B1=qe({name:L1,props:F1,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(n,{emit:t,slots:e,attrs:i}){const s=Eg(),a=Yt(),l=()=>{e.action||(t("update:modelValue",""),t("cancel"))},u=M=>{M.keyCode===13&&(Wi(M),t("search",n.modelValue))},f=()=>n.id||`${s}-input`,h=()=>{if(e.label||n.label)return Y("label",{class:Yr("label"),for:f(),"data-allow-mismatch":"attribute"},[e.label?e.label():n.label])},g=()=>{if(n.showAction){const M=n.actionText||R1("cancel");return Y("div",{class:Yr("action"),role:"button",tabindex:0,onClick:l},[e.action?e.action():M])}},m=()=>{var M;return(M=a.value)==null?void 0:M.blur()},p=()=>{var M;return(M=a.value)==null?void 0:M.focus()},v=M=>t("blur",M),S=M=>t("focus",M),y=M=>t("clear",M),w=M=>t("clickInput",M),k=M=>t("clickLeftIcon",M),O=M=>t("clickRightIcon",M),I=Object.keys(Pc),E=()=>{const M=Hi({},i,vr(n,I),{id:f()}),R=B=>t("update:modelValue",B);return Y(A1,_r({ref:a,type:"search",class:Yr("field",{"with-message":M.errorMessage}),border:!1,onBlur:v,onFocus:S,onClear:y,onKeypress:u,onClickInput:w,onClickLeftIcon:k,onClickRightIcon:O,"onUpdate:modelValue":R},M),vr(e,["left-icon","right-icon"]))};return Ss({focus:p,blur:m}),()=>{var M;return Y("div",{class:Yr({"show-action":n.showAction}),style:{background:n.background}},[(M=e.left)==null?void 0:M.call(e),Y("div",{class:Yr("content",n.shape)},[h(),E()]),g()])}}});const W1=Bn(B1),z1=n=>n?.includes("/"),N1=[..._g,"round","closeOnPopstate","safeAreaInsetBottom"],H1={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[$1,vn,Y1]=Fn("share-sheet"),U1=Hi({},pg,{title:String,round:Ve,options:mg(),cancelText:String,description:String,closeOnPopstate:Ve,safeAreaInsetBottom:Ve});var V1=qe({name:$1,props:U1,emits:["cancel","select","update:show"],setup(n,{emit:t,slots:e}){const i=p=>t("update:show",p),s=()=>{i(!1),t("cancel")},a=(p,v)=>t("select",p,v),l=()=>{const p=e.title?e.title():n.title,v=e.description?e.description():n.description;if(p||v)return Y("div",{class:vn("header")},[p&&Y("h2",{class:vn("title")},[p]),v&&Y("span",{class:vn("description")},[v])])},u=p=>z1(p)?Y("img",{src:p,class:vn("image-icon")},null):Y("div",{class:vn("icon",[p])},[Y(In,{name:H1[p]||p},null)]),f=(p,v)=>{const{name:S,icon:y,className:w,description:k}=p;return Y("div",{role:"button",tabindex:0,class:[vn("option"),w,vg],onClick:()=>a(p,v)},[u(y),S&&Y("span",{class:vn("name")},[S]),k&&Y("span",{class:vn("option-description")},[k])])},h=(p,v)=>Y("div",{class:vn("options",{border:v})},[p.map(f)]),g=()=>{const{options:p}=n;return Array.isArray(p[0])?p.map((v,S)=>h(v,S!==0)):h(p)},m=()=>{var p;const v=(p=n.cancelText)!=null?p:Y1("cancel");if(e.cancel||v)return Y("button",{type:"button",class:vn("cancel"),onClick:s},[e.cancel?e.cancel():v])};return()=>Y(gg,_r({class:vn(),position:"bottom","onUpdate:show":i},vr(n,N1)),{default:()=>[l(),g(),m()]})}});const X1=Bn(V1),[q1,Yl]=Fn("swipe-cell"),K1={name:is(""),disabled:Boolean,leftWidth:wn,rightWidth:wn,beforeClose:Function,stopPropagation:Boolean};var G1=qe({name:q1,props:K1,emits:["open","close","click"],setup(n,{emit:t,slots:e}){let i,s,a,l;const u=Yt(),f=Yt(),h=Yt(),g=da({offset:0,dragging:!1}),m=Ac(),p=L=>L.value?wg(L).width:0,v=It(()=>xn(n.leftWidth)?+n.leftWidth:p(f)),S=It(()=>xn(n.rightWidth)?+n.rightWidth:p(h)),y=L=>{g.offset=L==="left"?v.value:-S.value,i||(i=!0,t("open",{name:n.name,position:L}))},w=L=>{g.offset=0,i&&(i=!1,t("close",{name:n.name,position:L}))},k=L=>{const $=Math.abs(g.offset),G=.15,q=i?1-G:G,j=L==="left"?v.value:S.value;j&&$>j*q?y(L):w(L)},O=L=>{n.disabled||(a=g.offset,m.start(L))},I=L=>{if(n.disabled)return;const{deltaX:$}=m;m.move(L),m.isHorizontal()&&(s=!0,g.dragging=!0,(!i||$.value*a<0)&&Wi(L,n.stopPropagation),g.offset=rs($.value+a,-S.value,v.value))},E=()=>{g.dragging&&(g.dragging=!1,k(g.offset>0?"left":"right"),setTimeout(()=>{s=!1},0))},M=(L="outside",$)=>{l||(t("click",L),i&&!s&&(l=!0,Vw(n.beforeClose,{args:[{event:$,name:n.name,position:L}],done:()=>{l=!1,w(L)},canceled:()=>l=!1,error:()=>l=!1})))},R=L=>$=>{(s||i)&&$.stopPropagation(),!s&&M(L,$)},B=(L,$)=>{const G=e[L];if(G)return Y("div",{ref:$,class:Yl(L),onClick:R(L)},[G()])};return Ss({open:y,close:w}),Uw(u,L=>M("outside",L),{eventName:"touchstart"}),ga("touchmove",I,{target:u}),()=>{var L;const $={transform:`translate3d(${g.offset}px, 0, 0)`,transitionDuration:g.dragging?"0s":".6s"};return Y("div",{ref:u,class:Yl(),onClick:R("cell"),onTouchstartPassive:O,onTouchend:E,onTouchcancel:E},[Y("div",{class:Yl("wrapper"),style:$},[B("left",f),(L=e.default)==null?void 0:L.call(e),B("right",h)])])}}});const j1=Bn(G1);async function Z1(){console.log("開始執行 getAllStocks");const n=await Sg("all-stocks");if(n&&n.length>0)return console.log("從 IndexedDB 獲取的股票資料:",n),n;{console.log("all-stocks store 無資料，開始從 stock_list.json 獲取");const e=(await Cg.get("stocks/stock_list.json")).data;for(const i of e)await Oc("all-stocks",i);return console.log("股票資料已快取到 IndexedDB:",e),e}}async function J1(n){return await getFromStore("all-stocks",n)}async function Q1(n){return await Oc("all-stocks",n)}var Gr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var tS=Gr.exports,Bh;function eS(){return Bh||(Bh=1,function(n,t){(function(){var e,i="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,g="__lodash_placeholder__",m=1,p=2,v=4,S=1,y=2,w=1,k=2,O=4,I=8,E=16,M=32,R=64,B=128,L=256,$=512,G=30,q="...",j=800,rt=16,vt=1,st=2,ft=3,bt=1/0,Ct=9007199254740991,ne=17976931348623157e292,Jt=NaN,V=4294967295,mt=V-1,xt=V>>>1,Rt=[["ary",B],["bind",w],["bindKey",k],["curry",I],["curryRight",E],["flip",$],["partial",M],["partialRight",R],["rearg",L]],Tt="[object Arguments]",qt="[object Array]",N="[object AsyncFunction]",ot="[object Boolean]",at="[object Date]",Ft="[object DOMException]",Nt="[object Error]",de="[object Function]",ke="[object GeneratorFunction]",Pt="[object Map]",Kt="[object Number]",Sn="[object Null]",ge="[object Object]",Ui="[object Promise]",Cr="[object Proxy]",Vi="[object RegExp]",dn="[object Set]",kr="[object String]",Ts="[object Symbol]",Up="[object Undefined]",Dr="[object WeakMap]",Vp="[object WeakSet]",Mr="[object ArrayBuffer]",Xi="[object DataView]",ba="[object Float32Array]",xa="[object Float64Array]",ya="[object Int8Array]",wa="[object Int16Array]",Sa="[object Int32Array]",Ca="[object Uint8Array]",ka="[object Uint8ClampedArray]",Da="[object Uint16Array]",Ma="[object Uint32Array]",Xp=/\b__p \+= '';/g,qp=/\b(__p \+=) '' \+/g,Kp=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Qc=/&(?:amp|lt|gt|quot|#39);/g,tu=/[&<>"']/g,Gp=RegExp(Qc.source),jp=RegExp(tu.source),Zp=/<%-([\s\S]+?)%>/g,Jp=/<%([\s\S]+?)%>/g,eu=/<%=([\s\S]+?)%>/g,Qp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tm=/^\w*$/,em=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ta=/[\\^$.*+?()[\]{}|]/g,nm=RegExp(Ta.source),Aa=/^\s+/,im=/\s/,rm=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,sm=/\{\n\/\* \[wrapped with (.+)\] \*/,om=/,? & /,am=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lm=/[()=,{}\[\]\/\s]/,cm=/\\(\\)?/g,um=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nu=/\w*$/,fm=/^[-+]0x[0-9a-f]+$/i,hm=/^0b[01]+$/i,dm=/^\[object .+?Constructor\]$/,gm=/^0o[0-7]+$/i,pm=/^(?:0|[1-9]\d*)$/,mm=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,As=/($^)/,_m=/['\n\r\u2028\u2029\\]/g,Os="\\ud800-\\udfff",vm="\\u0300-\\u036f",bm="\\ufe20-\\ufe2f",xm="\\u20d0-\\u20ff",iu=vm+bm+xm,ru="\\u2700-\\u27bf",su="a-z\\xdf-\\xf6\\xf8-\\xff",ym="\\xac\\xb1\\xd7\\xf7",wm="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Sm="\\u2000-\\u206f",Cm=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ou="A-Z\\xc0-\\xd6\\xd8-\\xde",au="\\ufe0e\\ufe0f",lu=ym+wm+Sm+Cm,Oa="['’]",km="["+Os+"]",cu="["+lu+"]",Es="["+iu+"]",uu="\\d+",Dm="["+ru+"]",fu="["+su+"]",hu="[^"+Os+lu+uu+ru+su+ou+"]",Ea="\\ud83c[\\udffb-\\udfff]",Mm="(?:"+Es+"|"+Ea+")",du="[^"+Os+"]",Ia="(?:\\ud83c[\\udde6-\\uddff]){2}",Pa="[\\ud800-\\udbff][\\udc00-\\udfff]",qi="["+ou+"]",gu="\\u200d",pu="(?:"+fu+"|"+hu+")",Tm="(?:"+qi+"|"+hu+")",mu="(?:"+Oa+"(?:d|ll|m|re|s|t|ve))?",_u="(?:"+Oa+"(?:D|LL|M|RE|S|T|VE))?",vu=Mm+"?",bu="["+au+"]?",Am="(?:"+gu+"(?:"+[du,Ia,Pa].join("|")+")"+bu+vu+")*",Om="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Em="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xu=bu+vu+Am,Im="(?:"+[Dm,Ia,Pa].join("|")+")"+xu,Pm="(?:"+[du+Es+"?",Es,Ia,Pa,km].join("|")+")",Lm=RegExp(Oa,"g"),Rm=RegExp(Es,"g"),La=RegExp(Ea+"(?="+Ea+")|"+Pm+xu,"g"),Fm=RegExp([qi+"?"+fu+"+"+mu+"(?="+[cu,qi,"$"].join("|")+")",Tm+"+"+_u+"(?="+[cu,qi+pu,"$"].join("|")+")",qi+"?"+pu+"+"+mu,qi+"+"+_u,Em,Om,uu,Im].join("|"),"g"),Bm=RegExp("["+gu+Os+iu+au+"]"),Wm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Nm=-1,Ht={};Ht[ba]=Ht[xa]=Ht[ya]=Ht[wa]=Ht[Sa]=Ht[Ca]=Ht[ka]=Ht[Da]=Ht[Ma]=!0,Ht[Tt]=Ht[qt]=Ht[Mr]=Ht[ot]=Ht[Xi]=Ht[at]=Ht[Nt]=Ht[de]=Ht[Pt]=Ht[Kt]=Ht[ge]=Ht[Vi]=Ht[dn]=Ht[kr]=Ht[Dr]=!1;var Bt={};Bt[Tt]=Bt[qt]=Bt[Mr]=Bt[Xi]=Bt[ot]=Bt[at]=Bt[ba]=Bt[xa]=Bt[ya]=Bt[wa]=Bt[Sa]=Bt[Pt]=Bt[Kt]=Bt[ge]=Bt[Vi]=Bt[dn]=Bt[kr]=Bt[Ts]=Bt[Ca]=Bt[ka]=Bt[Da]=Bt[Ma]=!0,Bt[Nt]=Bt[de]=Bt[Dr]=!1;var Hm={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},$m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ym={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Um={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vm=parseFloat,Xm=parseInt,yu=typeof bo=="object"&&bo&&bo.Object===Object&&bo,qm=typeof self=="object"&&self&&self.Object===Object&&self,ue=yu||qm||Function("return this")(),Ra=t&&!t.nodeType&&t,vi=Ra&&!0&&n&&!n.nodeType&&n,wu=vi&&vi.exports===Ra,Fa=wu&&yu.process,Ke=function(){try{var T=vi&&vi.require&&vi.require("util").types;return T||Fa&&Fa.binding&&Fa.binding("util")}catch{}}(),Su=Ke&&Ke.isArrayBuffer,Cu=Ke&&Ke.isDate,ku=Ke&&Ke.isMap,Du=Ke&&Ke.isRegExp,Mu=Ke&&Ke.isSet,Tu=Ke&&Ke.isTypedArray;function Fe(T,F,P){switch(P.length){case 0:return T.call(F);case 1:return T.call(F,P[0]);case 2:return T.call(F,P[0],P[1]);case 3:return T.call(F,P[0],P[1],P[2])}return T.apply(F,P)}function Km(T,F,P,K){for(var it=-1,kt=T==null?0:T.length;++it<kt;){var re=T[it];F(K,re,P(re),T)}return K}function Ge(T,F){for(var P=-1,K=T==null?0:T.length;++P<K&&F(T[P],P,T)!==!1;);return T}function Gm(T,F){for(var P=T==null?0:T.length;P--&&F(T[P],P,T)!==!1;);return T}function Au(T,F){for(var P=-1,K=T==null?0:T.length;++P<K;)if(!F(T[P],P,T))return!1;return!0}function ei(T,F){for(var P=-1,K=T==null?0:T.length,it=0,kt=[];++P<K;){var re=T[P];F(re,P,T)&&(kt[it++]=re)}return kt}function Is(T,F){var P=T==null?0:T.length;return!!P&&Ki(T,F,0)>-1}function Ba(T,F,P){for(var K=-1,it=T==null?0:T.length;++K<it;)if(P(F,T[K]))return!0;return!1}function Ut(T,F){for(var P=-1,K=T==null?0:T.length,it=Array(K);++P<K;)it[P]=F(T[P],P,T);return it}function ni(T,F){for(var P=-1,K=F.length,it=T.length;++P<K;)T[it+P]=F[P];return T}function Wa(T,F,P,K){var it=-1,kt=T==null?0:T.length;for(K&&kt&&(P=T[++it]);++it<kt;)P=F(P,T[it],it,T);return P}function jm(T,F,P,K){var it=T==null?0:T.length;for(K&&it&&(P=T[--it]);it--;)P=F(P,T[it],it,T);return P}function za(T,F){for(var P=-1,K=T==null?0:T.length;++P<K;)if(F(T[P],P,T))return!0;return!1}var Zm=Na("length");function Jm(T){return T.split("")}function Qm(T){return T.match(am)||[]}function Ou(T,F,P){var K;return P(T,function(it,kt,re){if(F(it,kt,re))return K=kt,!1}),K}function Ps(T,F,P,K){for(var it=T.length,kt=P+(K?1:-1);K?kt--:++kt<it;)if(F(T[kt],kt,T))return kt;return-1}function Ki(T,F,P){return F===F?f_(T,F,P):Ps(T,Eu,P)}function t_(T,F,P,K){for(var it=P-1,kt=T.length;++it<kt;)if(K(T[it],F))return it;return-1}function Eu(T){return T!==T}function Iu(T,F){var P=T==null?0:T.length;return P?$a(T,F)/P:Jt}function Na(T){return function(F){return F==null?e:F[T]}}function Ha(T){return function(F){return T==null?e:T[F]}}function Pu(T,F,P,K,it){return it(T,function(kt,re,Lt){P=K?(K=!1,kt):F(P,kt,re,Lt)}),P}function e_(T,F){var P=T.length;for(T.sort(F);P--;)T[P]=T[P].value;return T}function $a(T,F){for(var P,K=-1,it=T.length;++K<it;){var kt=F(T[K]);kt!==e&&(P=P===e?kt:P+kt)}return P}function Ya(T,F){for(var P=-1,K=Array(T);++P<T;)K[P]=F(P);return K}function n_(T,F){return Ut(F,function(P){return[P,T[P]]})}function Lu(T){return T&&T.slice(0,Wu(T)+1).replace(Aa,"")}function Be(T){return function(F){return T(F)}}function Ua(T,F){return Ut(F,function(P){return T[P]})}function Tr(T,F){return T.has(F)}function Ru(T,F){for(var P=-1,K=T.length;++P<K&&Ki(F,T[P],0)>-1;);return P}function Fu(T,F){for(var P=T.length;P--&&Ki(F,T[P],0)>-1;);return P}function i_(T,F){for(var P=T.length,K=0;P--;)T[P]===F&&++K;return K}var r_=Ha(Hm),s_=Ha($m);function o_(T){return"\\"+Um[T]}function a_(T,F){return T==null?e:T[F]}function Gi(T){return Bm.test(T)}function l_(T){return Wm.test(T)}function c_(T){for(var F,P=[];!(F=T.next()).done;)P.push(F.value);return P}function Va(T){var F=-1,P=Array(T.size);return T.forEach(function(K,it){P[++F]=[it,K]}),P}function Bu(T,F){return function(P){return T(F(P))}}function ii(T,F){for(var P=-1,K=T.length,it=0,kt=[];++P<K;){var re=T[P];(re===F||re===g)&&(T[P]=g,kt[it++]=P)}return kt}function Ls(T){var F=-1,P=Array(T.size);return T.forEach(function(K){P[++F]=K}),P}function u_(T){var F=-1,P=Array(T.size);return T.forEach(function(K){P[++F]=[K,K]}),P}function f_(T,F,P){for(var K=P-1,it=T.length;++K<it;)if(T[K]===F)return K;return-1}function h_(T,F,P){for(var K=P+1;K--;)if(T[K]===F)return K;return K}function ji(T){return Gi(T)?g_(T):Zm(T)}function gn(T){return Gi(T)?p_(T):Jm(T)}function Wu(T){for(var F=T.length;F--&&im.test(T.charAt(F)););return F}var d_=Ha(Ym);function g_(T){for(var F=La.lastIndex=0;La.test(T);)++F;return F}function p_(T){return T.match(La)||[]}function m_(T){return T.match(Fm)||[]}var __=function T(F){F=F==null?ue:Zi.defaults(ue.Object(),F,Zi.pick(ue,zm));var P=F.Array,K=F.Date,it=F.Error,kt=F.Function,re=F.Math,Lt=F.Object,Xa=F.RegExp,v_=F.String,je=F.TypeError,Rs=P.prototype,b_=kt.prototype,Ji=Lt.prototype,Fs=F["__core-js_shared__"],Bs=b_.toString,Ot=Ji.hasOwnProperty,x_=0,zu=function(){var r=/[^.]+$/.exec(Fs&&Fs.keys&&Fs.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Ws=Ji.toString,y_=Bs.call(Lt),w_=ue._,S_=Xa("^"+Bs.call(Ot).replace(Ta,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zs=wu?F.Buffer:e,ri=F.Symbol,Ns=F.Uint8Array,Nu=zs?zs.allocUnsafe:e,Hs=Bu(Lt.getPrototypeOf,Lt),Hu=Lt.create,$u=Ji.propertyIsEnumerable,$s=Rs.splice,Yu=ri?ri.isConcatSpreadable:e,Ar=ri?ri.iterator:e,bi=ri?ri.toStringTag:e,Ys=function(){try{var r=Ci(Lt,"defineProperty");return r({},"",{}),r}catch{}}(),C_=F.clearTimeout!==ue.clearTimeout&&F.clearTimeout,k_=K&&K.now!==ue.Date.now&&K.now,D_=F.setTimeout!==ue.setTimeout&&F.setTimeout,Us=re.ceil,Vs=re.floor,qa=Lt.getOwnPropertySymbols,M_=zs?zs.isBuffer:e,Uu=F.isFinite,T_=Rs.join,A_=Bu(Lt.keys,Lt),se=re.max,pe=re.min,O_=K.now,E_=F.parseInt,Vu=re.random,I_=Rs.reverse,Ka=Ci(F,"DataView"),Or=Ci(F,"Map"),Ga=Ci(F,"Promise"),Qi=Ci(F,"Set"),Er=Ci(F,"WeakMap"),Ir=Ci(Lt,"create"),Xs=Er&&new Er,tr={},P_=ki(Ka),L_=ki(Or),R_=ki(Ga),F_=ki(Qi),B_=ki(Er),qs=ri?ri.prototype:e,Pr=qs?qs.valueOf:e,Xu=qs?qs.toString:e;function b(r){if(Gt(r)&&!lt(r)&&!(r instanceof _t)){if(r instanceof Ze)return r;if(Ot.call(r,"__wrapped__"))return Kf(r)}return new Ze(r)}var er=function(){function r(){}return function(o){if(!Xt(o))return{};if(Hu)return Hu(o);r.prototype=o;var c=new r;return r.prototype=e,c}}();function Ks(){}function Ze(r,o){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=e}b.templateSettings={escape:Zp,evaluate:Jp,interpolate:eu,variable:"",imports:{_:b}},b.prototype=Ks.prototype,b.prototype.constructor=b,Ze.prototype=er(Ks.prototype),Ze.prototype.constructor=Ze;function _t(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function W_(){var r=new _t(this.__wrapped__);return r.__actions__=De(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=De(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=De(this.__views__),r}function z_(){if(this.__filtered__){var r=new _t(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function N_(){var r=this.__wrapped__.value(),o=this.__dir__,c=lt(r),d=o<0,_=c?r.length:0,x=Jv(0,_,this.__views__),C=x.start,D=x.end,A=D-C,W=d?D:C-1,z=this.__iteratees__,H=z.length,X=0,Z=pe(A,this.__takeCount__);if(!c||!d&&_==A&&Z==A)return _f(r,this.__actions__);var Q=[];t:for(;A--&&X<Z;){W+=o;for(var ht=-1,tt=r[W];++ht<H;){var pt=z[ht],yt=pt.iteratee,Ne=pt.type,Se=yt(tt);if(Ne==st)tt=Se;else if(!Se){if(Ne==vt)continue t;break t}}Q[X++]=tt}return Q}_t.prototype=er(Ks.prototype),_t.prototype.constructor=_t;function xi(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var d=r[o];this.set(d[0],d[1])}}function H_(){this.__data__=Ir?Ir(null):{},this.size=0}function $_(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o}function Y_(r){var o=this.__data__;if(Ir){var c=o[r];return c===f?e:c}return Ot.call(o,r)?o[r]:e}function U_(r){var o=this.__data__;return Ir?o[r]!==e:Ot.call(o,r)}function V_(r,o){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=Ir&&o===e?f:o,this}xi.prototype.clear=H_,xi.prototype.delete=$_,xi.prototype.get=Y_,xi.prototype.has=U_,xi.prototype.set=V_;function Wn(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var d=r[o];this.set(d[0],d[1])}}function X_(){this.__data__=[],this.size=0}function q_(r){var o=this.__data__,c=Gs(o,r);if(c<0)return!1;var d=o.length-1;return c==d?o.pop():$s.call(o,c,1),--this.size,!0}function K_(r){var o=this.__data__,c=Gs(o,r);return c<0?e:o[c][1]}function G_(r){return Gs(this.__data__,r)>-1}function j_(r,o){var c=this.__data__,d=Gs(c,r);return d<0?(++this.size,c.push([r,o])):c[d][1]=o,this}Wn.prototype.clear=X_,Wn.prototype.delete=q_,Wn.prototype.get=K_,Wn.prototype.has=G_,Wn.prototype.set=j_;function zn(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var d=r[o];this.set(d[0],d[1])}}function Z_(){this.size=0,this.__data__={hash:new xi,map:new(Or||Wn),string:new xi}}function J_(r){var o=ao(this,r).delete(r);return this.size-=o?1:0,o}function Q_(r){return ao(this,r).get(r)}function tv(r){return ao(this,r).has(r)}function ev(r,o){var c=ao(this,r),d=c.size;return c.set(r,o),this.size+=c.size==d?0:1,this}zn.prototype.clear=Z_,zn.prototype.delete=J_,zn.prototype.get=Q_,zn.prototype.has=tv,zn.prototype.set=ev;function yi(r){var o=-1,c=r==null?0:r.length;for(this.__data__=new zn;++o<c;)this.add(r[o])}function nv(r){return this.__data__.set(r,f),this}function iv(r){return this.__data__.has(r)}yi.prototype.add=yi.prototype.push=nv,yi.prototype.has=iv;function pn(r){var o=this.__data__=new Wn(r);this.size=o.size}function rv(){this.__data__=new Wn,this.size=0}function sv(r){var o=this.__data__,c=o.delete(r);return this.size=o.size,c}function ov(r){return this.__data__.get(r)}function av(r){return this.__data__.has(r)}function lv(r,o){var c=this.__data__;if(c instanceof Wn){var d=c.__data__;if(!Or||d.length<s-1)return d.push([r,o]),this.size=++c.size,this;c=this.__data__=new zn(d)}return c.set(r,o),this.size=c.size,this}pn.prototype.clear=rv,pn.prototype.delete=sv,pn.prototype.get=ov,pn.prototype.has=av,pn.prototype.set=lv;function qu(r,o){var c=lt(r),d=!c&&Di(r),_=!c&&!d&&ci(r),x=!c&&!d&&!_&&sr(r),C=c||d||_||x,D=C?Ya(r.length,v_):[],A=D.length;for(var W in r)(o||Ot.call(r,W))&&!(C&&(W=="length"||_&&(W=="offset"||W=="parent")||x&&(W=="buffer"||W=="byteLength"||W=="byteOffset")||Yn(W,A)))&&D.push(W);return D}function Ku(r){var o=r.length;return o?r[ol(0,o-1)]:e}function cv(r,o){return lo(De(r),wi(o,0,r.length))}function uv(r){return lo(De(r))}function ja(r,o,c){(c!==e&&!mn(r[o],c)||c===e&&!(o in r))&&Nn(r,o,c)}function Lr(r,o,c){var d=r[o];(!(Ot.call(r,o)&&mn(d,c))||c===e&&!(o in r))&&Nn(r,o,c)}function Gs(r,o){for(var c=r.length;c--;)if(mn(r[c][0],o))return c;return-1}function fv(r,o,c,d){return si(r,function(_,x,C){o(d,_,c(_),C)}),d}function Gu(r,o){return r&&kn(o,ae(o),r)}function hv(r,o){return r&&kn(o,Te(o),r)}function Nn(r,o,c){o=="__proto__"&&Ys?Ys(r,o,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[o]=c}function Za(r,o){for(var c=-1,d=o.length,_=P(d),x=r==null;++c<d;)_[c]=x?e:El(r,o[c]);return _}function wi(r,o,c){return r===r&&(c!==e&&(r=r<=c?r:c),o!==e&&(r=r>=o?r:o)),r}function Je(r,o,c,d,_,x){var C,D=o&m,A=o&p,W=o&v;if(c&&(C=_?c(r,d,_,x):c(r)),C!==e)return C;if(!Xt(r))return r;var z=lt(r);if(z){if(C=tb(r),!D)return De(r,C)}else{var H=me(r),X=H==de||H==ke;if(ci(r))return xf(r,D);if(H==ge||H==Tt||X&&!_){if(C=A||X?{}:zf(r),!D)return A?Yv(r,hv(C,r)):$v(r,Gu(C,r))}else{if(!Bt[H])return _?r:{};C=eb(r,H,D)}}x||(x=new pn);var Z=x.get(r);if(Z)return Z;x.set(r,C),gh(r)?r.forEach(function(tt){C.add(Je(tt,o,c,tt,r,x))}):hh(r)&&r.forEach(function(tt,pt){C.set(pt,Je(tt,o,c,pt,r,x))});var Q=W?A?_l:ml:A?Te:ae,ht=z?e:Q(r);return Ge(ht||r,function(tt,pt){ht&&(pt=tt,tt=r[pt]),Lr(C,pt,Je(tt,o,c,pt,r,x))}),C}function dv(r){var o=ae(r);return function(c){return ju(c,r,o)}}function ju(r,o,c){var d=c.length;if(r==null)return!d;for(r=Lt(r);d--;){var _=c[d],x=o[_],C=r[_];if(C===e&&!(_ in r)||!x(C))return!1}return!0}function Zu(r,o,c){if(typeof r!="function")throw new je(l);return Hr(function(){r.apply(e,c)},o)}function Rr(r,o,c,d){var _=-1,x=Is,C=!0,D=r.length,A=[],W=o.length;if(!D)return A;c&&(o=Ut(o,Be(c))),d?(x=Ba,C=!1):o.length>=s&&(x=Tr,C=!1,o=new yi(o));t:for(;++_<D;){var z=r[_],H=c==null?z:c(z);if(z=d||z!==0?z:0,C&&H===H){for(var X=W;X--;)if(o[X]===H)continue t;A.push(z)}else x(o,H,d)||A.push(z)}return A}var si=kf(Cn),Ju=kf(Qa,!0);function gv(r,o){var c=!0;return si(r,function(d,_,x){return c=!!o(d,_,x),c}),c}function js(r,o,c){for(var d=-1,_=r.length;++d<_;){var x=r[d],C=o(x);if(C!=null&&(D===e?C===C&&!ze(C):c(C,D)))var D=C,A=x}return A}function pv(r,o,c,d){var _=r.length;for(c=ut(c),c<0&&(c=-c>_?0:_+c),d=d===e||d>_?_:ut(d),d<0&&(d+=_),d=c>d?0:mh(d);c<d;)r[c++]=o;return r}function Qu(r,o){var c=[];return si(r,function(d,_,x){o(d,_,x)&&c.push(d)}),c}function fe(r,o,c,d,_){var x=-1,C=r.length;for(c||(c=ib),_||(_=[]);++x<C;){var D=r[x];o>0&&c(D)?o>1?fe(D,o-1,c,d,_):ni(_,D):d||(_[_.length]=D)}return _}var Ja=Df(),tf=Df(!0);function Cn(r,o){return r&&Ja(r,o,ae)}function Qa(r,o){return r&&tf(r,o,ae)}function Zs(r,o){return ei(o,function(c){return Un(r[c])})}function Si(r,o){o=ai(o,r);for(var c=0,d=o.length;r!=null&&c<d;)r=r[Dn(o[c++])];return c&&c==d?r:e}function ef(r,o,c){var d=o(r);return lt(r)?d:ni(d,c(r))}function ye(r){return r==null?r===e?Up:Sn:bi&&bi in Lt(r)?Zv(r):ub(r)}function tl(r,o){return r>o}function mv(r,o){return r!=null&&Ot.call(r,o)}function _v(r,o){return r!=null&&o in Lt(r)}function vv(r,o,c){return r>=pe(o,c)&&r<se(o,c)}function el(r,o,c){for(var d=c?Ba:Is,_=r[0].length,x=r.length,C=x,D=P(x),A=1/0,W=[];C--;){var z=r[C];C&&o&&(z=Ut(z,Be(o))),A=pe(z.length,A),D[C]=!c&&(o||_>=120&&z.length>=120)?new yi(C&&z):e}z=r[0];var H=-1,X=D[0];t:for(;++H<_&&W.length<A;){var Z=z[H],Q=o?o(Z):Z;if(Z=c||Z!==0?Z:0,!(X?Tr(X,Q):d(W,Q,c))){for(C=x;--C;){var ht=D[C];if(!(ht?Tr(ht,Q):d(r[C],Q,c)))continue t}X&&X.push(Q),W.push(Z)}}return W}function bv(r,o,c,d){return Cn(r,function(_,x,C){o(d,c(_),x,C)}),d}function Fr(r,o,c){o=ai(o,r),r=Yf(r,o);var d=r==null?r:r[Dn(tn(o))];return d==null?e:Fe(d,r,c)}function nf(r){return Gt(r)&&ye(r)==Tt}function xv(r){return Gt(r)&&ye(r)==Mr}function yv(r){return Gt(r)&&ye(r)==at}function Br(r,o,c,d,_){return r===o?!0:r==null||o==null||!Gt(r)&&!Gt(o)?r!==r&&o!==o:wv(r,o,c,d,Br,_)}function wv(r,o,c,d,_,x){var C=lt(r),D=lt(o),A=C?qt:me(r),W=D?qt:me(o);A=A==Tt?ge:A,W=W==Tt?ge:W;var z=A==ge,H=W==ge,X=A==W;if(X&&ci(r)){if(!ci(o))return!1;C=!0,z=!1}if(X&&!z)return x||(x=new pn),C||sr(r)?Ff(r,o,c,d,_,x):Gv(r,o,A,c,d,_,x);if(!(c&S)){var Z=z&&Ot.call(r,"__wrapped__"),Q=H&&Ot.call(o,"__wrapped__");if(Z||Q){var ht=Z?r.value():r,tt=Q?o.value():o;return x||(x=new pn),_(ht,tt,c,d,x)}}return X?(x||(x=new pn),jv(r,o,c,d,_,x)):!1}function Sv(r){return Gt(r)&&me(r)==Pt}function nl(r,o,c,d){var _=c.length,x=_,C=!d;if(r==null)return!x;for(r=Lt(r);_--;){var D=c[_];if(C&&D[2]?D[1]!==r[D[0]]:!(D[0]in r))return!1}for(;++_<x;){D=c[_];var A=D[0],W=r[A],z=D[1];if(C&&D[2]){if(W===e&&!(A in r))return!1}else{var H=new pn;if(d)var X=d(W,z,A,r,o,H);if(!(X===e?Br(z,W,S|y,d,H):X))return!1}}return!0}function rf(r){if(!Xt(r)||sb(r))return!1;var o=Un(r)?S_:dm;return o.test(ki(r))}function Cv(r){return Gt(r)&&ye(r)==Vi}function kv(r){return Gt(r)&&me(r)==dn}function Dv(r){return Gt(r)&&po(r.length)&&!!Ht[ye(r)]}function sf(r){return typeof r=="function"?r:r==null?Ae:typeof r=="object"?lt(r)?lf(r[0],r[1]):af(r):Mh(r)}function il(r){if(!Nr(r))return A_(r);var o=[];for(var c in Lt(r))Ot.call(r,c)&&c!="constructor"&&o.push(c);return o}function Mv(r){if(!Xt(r))return cb(r);var o=Nr(r),c=[];for(var d in r)d=="constructor"&&(o||!Ot.call(r,d))||c.push(d);return c}function rl(r,o){return r<o}function of(r,o){var c=-1,d=Me(r)?P(r.length):[];return si(r,function(_,x,C){d[++c]=o(_,x,C)}),d}function af(r){var o=bl(r);return o.length==1&&o[0][2]?Hf(o[0][0],o[0][1]):function(c){return c===r||nl(c,r,o)}}function lf(r,o){return yl(r)&&Nf(o)?Hf(Dn(r),o):function(c){var d=El(c,r);return d===e&&d===o?Il(c,r):Br(o,d,S|y)}}function Js(r,o,c,d,_){r!==o&&Ja(o,function(x,C){if(_||(_=new pn),Xt(x))Tv(r,o,C,c,Js,d,_);else{var D=d?d(Sl(r,C),x,C+"",r,o,_):e;D===e&&(D=x),ja(r,C,D)}},Te)}function Tv(r,o,c,d,_,x,C){var D=Sl(r,c),A=Sl(o,c),W=C.get(A);if(W){ja(r,c,W);return}var z=x?x(D,A,c+"",r,o,C):e,H=z===e;if(H){var X=lt(A),Z=!X&&ci(A),Q=!X&&!Z&&sr(A);z=A,X||Z||Q?lt(D)?z=D:Qt(D)?z=De(D):Z?(H=!1,z=xf(A,!0)):Q?(H=!1,z=yf(A,!0)):z=[]:$r(A)||Di(A)?(z=D,Di(D)?z=_h(D):(!Xt(D)||Un(D))&&(z=zf(A))):H=!1}H&&(C.set(A,z),_(z,A,d,x,C),C.delete(A)),ja(r,c,z)}function cf(r,o){var c=r.length;if(c)return o+=o<0?c:0,Yn(o,c)?r[o]:e}function uf(r,o,c){o.length?o=Ut(o,function(x){return lt(x)?function(C){return Si(C,x.length===1?x[0]:x)}:x}):o=[Ae];var d=-1;o=Ut(o,Be(J()));var _=of(r,function(x,C,D){var A=Ut(o,function(W){return W(x)});return{criteria:A,index:++d,value:x}});return e_(_,function(x,C){return Hv(x,C,c)})}function Av(r,o){return ff(r,o,function(c,d){return Il(r,d)})}function ff(r,o,c){for(var d=-1,_=o.length,x={};++d<_;){var C=o[d],D=Si(r,C);c(D,C)&&Wr(x,ai(C,r),D)}return x}function Ov(r){return function(o){return Si(o,r)}}function sl(r,o,c,d){var _=d?t_:Ki,x=-1,C=o.length,D=r;for(r===o&&(o=De(o)),c&&(D=Ut(r,Be(c)));++x<C;)for(var A=0,W=o[x],z=c?c(W):W;(A=_(D,z,A,d))>-1;)D!==r&&$s.call(D,A,1),$s.call(r,A,1);return r}function hf(r,o){for(var c=r?o.length:0,d=c-1;c--;){var _=o[c];if(c==d||_!==x){var x=_;Yn(_)?$s.call(r,_,1):cl(r,_)}}return r}function ol(r,o){return r+Vs(Vu()*(o-r+1))}function Ev(r,o,c,d){for(var _=-1,x=se(Us((o-r)/(c||1)),0),C=P(x);x--;)C[d?x:++_]=r,r+=c;return C}function al(r,o){var c="";if(!r||o<1||o>Ct)return c;do o%2&&(c+=r),o=Vs(o/2),o&&(r+=r);while(o);return c}function dt(r,o){return Cl($f(r,o,Ae),r+"")}function Iv(r){return Ku(or(r))}function Pv(r,o){var c=or(r);return lo(c,wi(o,0,c.length))}function Wr(r,o,c,d){if(!Xt(r))return r;o=ai(o,r);for(var _=-1,x=o.length,C=x-1,D=r;D!=null&&++_<x;){var A=Dn(o[_]),W=c;if(A==="__proto__"||A==="constructor"||A==="prototype")return r;if(_!=C){var z=D[A];W=d?d(z,A,D):e,W===e&&(W=Xt(z)?z:Yn(o[_+1])?[]:{})}Lr(D,A,W),D=D[A]}return r}var df=Xs?function(r,o){return Xs.set(r,o),r}:Ae,Lv=Ys?function(r,o){return Ys(r,"toString",{configurable:!0,enumerable:!1,value:Ll(o),writable:!0})}:Ae;function Rv(r){return lo(or(r))}function Qe(r,o,c){var d=-1,_=r.length;o<0&&(o=-o>_?0:_+o),c=c>_?_:c,c<0&&(c+=_),_=o>c?0:c-o>>>0,o>>>=0;for(var x=P(_);++d<_;)x[d]=r[d+o];return x}function Fv(r,o){var c;return si(r,function(d,_,x){return c=o(d,_,x),!c}),!!c}function Qs(r,o,c){var d=0,_=r==null?d:r.length;if(typeof o=="number"&&o===o&&_<=xt){for(;d<_;){var x=d+_>>>1,C=r[x];C!==null&&!ze(C)&&(c?C<=o:C<o)?d=x+1:_=x}return _}return ll(r,o,Ae,c)}function ll(r,o,c,d){var _=0,x=r==null?0:r.length;if(x===0)return 0;o=c(o);for(var C=o!==o,D=o===null,A=ze(o),W=o===e;_<x;){var z=Vs((_+x)/2),H=c(r[z]),X=H!==e,Z=H===null,Q=H===H,ht=ze(H);if(C)var tt=d||Q;else W?tt=Q&&(d||X):D?tt=Q&&X&&(d||!Z):A?tt=Q&&X&&!Z&&(d||!ht):Z||ht?tt=!1:tt=d?H<=o:H<o;tt?_=z+1:x=z}return pe(x,mt)}function gf(r,o){for(var c=-1,d=r.length,_=0,x=[];++c<d;){var C=r[c],D=o?o(C):C;if(!c||!mn(D,A)){var A=D;x[_++]=C===0?0:C}}return x}function pf(r){return typeof r=="number"?r:ze(r)?Jt:+r}function We(r){if(typeof r=="string")return r;if(lt(r))return Ut(r,We)+"";if(ze(r))return Xu?Xu.call(r):"";var o=r+"";return o=="0"&&1/r==-bt?"-0":o}function oi(r,o,c){var d=-1,_=Is,x=r.length,C=!0,D=[],A=D;if(c)C=!1,_=Ba;else if(x>=s){var W=o?null:qv(r);if(W)return Ls(W);C=!1,_=Tr,A=new yi}else A=o?[]:D;t:for(;++d<x;){var z=r[d],H=o?o(z):z;if(z=c||z!==0?z:0,C&&H===H){for(var X=A.length;X--;)if(A[X]===H)continue t;o&&A.push(H),D.push(z)}else _(A,H,c)||(A!==D&&A.push(H),D.push(z))}return D}function cl(r,o){return o=ai(o,r),r=Yf(r,o),r==null||delete r[Dn(tn(o))]}function mf(r,o,c,d){return Wr(r,o,c(Si(r,o)),d)}function to(r,o,c,d){for(var _=r.length,x=d?_:-1;(d?x--:++x<_)&&o(r[x],x,r););return c?Qe(r,d?0:x,d?x+1:_):Qe(r,d?x+1:0,d?_:x)}function _f(r,o){var c=r;return c instanceof _t&&(c=c.value()),Wa(o,function(d,_){return _.func.apply(_.thisArg,ni([d],_.args))},c)}function ul(r,o,c){var d=r.length;if(d<2)return d?oi(r[0]):[];for(var _=-1,x=P(d);++_<d;)for(var C=r[_],D=-1;++D<d;)D!=_&&(x[_]=Rr(x[_]||C,r[D],o,c));return oi(fe(x,1),o,c)}function vf(r,o,c){for(var d=-1,_=r.length,x=o.length,C={};++d<_;){var D=d<x?o[d]:e;c(C,r[d],D)}return C}function fl(r){return Qt(r)?r:[]}function hl(r){return typeof r=="function"?r:Ae}function ai(r,o){return lt(r)?r:yl(r,o)?[r]:qf(At(r))}var Bv=dt;function li(r,o,c){var d=r.length;return c=c===e?d:c,!o&&c>=d?r:Qe(r,o,c)}var bf=C_||function(r){return ue.clearTimeout(r)};function xf(r,o){if(o)return r.slice();var c=r.length,d=Nu?Nu(c):new r.constructor(c);return r.copy(d),d}function dl(r){var o=new r.constructor(r.byteLength);return new Ns(o).set(new Ns(r)),o}function Wv(r,o){var c=o?dl(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function zv(r){var o=new r.constructor(r.source,nu.exec(r));return o.lastIndex=r.lastIndex,o}function Nv(r){return Pr?Lt(Pr.call(r)):{}}function yf(r,o){var c=o?dl(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function wf(r,o){if(r!==o){var c=r!==e,d=r===null,_=r===r,x=ze(r),C=o!==e,D=o===null,A=o===o,W=ze(o);if(!D&&!W&&!x&&r>o||x&&C&&A&&!D&&!W||d&&C&&A||!c&&A||!_)return 1;if(!d&&!x&&!W&&r<o||W&&c&&_&&!d&&!x||D&&c&&_||!C&&_||!A)return-1}return 0}function Hv(r,o,c){for(var d=-1,_=r.criteria,x=o.criteria,C=_.length,D=c.length;++d<C;){var A=wf(_[d],x[d]);if(A){if(d>=D)return A;var W=c[d];return A*(W=="desc"?-1:1)}}return r.index-o.index}function Sf(r,o,c,d){for(var _=-1,x=r.length,C=c.length,D=-1,A=o.length,W=se(x-C,0),z=P(A+W),H=!d;++D<A;)z[D]=o[D];for(;++_<C;)(H||_<x)&&(z[c[_]]=r[_]);for(;W--;)z[D++]=r[_++];return z}function Cf(r,o,c,d){for(var _=-1,x=r.length,C=-1,D=c.length,A=-1,W=o.length,z=se(x-D,0),H=P(z+W),X=!d;++_<z;)H[_]=r[_];for(var Z=_;++A<W;)H[Z+A]=o[A];for(;++C<D;)(X||_<x)&&(H[Z+c[C]]=r[_++]);return H}function De(r,o){var c=-1,d=r.length;for(o||(o=P(d));++c<d;)o[c]=r[c];return o}function kn(r,o,c,d){var _=!c;c||(c={});for(var x=-1,C=o.length;++x<C;){var D=o[x],A=d?d(c[D],r[D],D,c,r):e;A===e&&(A=r[D]),_?Nn(c,D,A):Lr(c,D,A)}return c}function $v(r,o){return kn(r,xl(r),o)}function Yv(r,o){return kn(r,Bf(r),o)}function eo(r,o){return function(c,d){var _=lt(c)?Km:fv,x=o?o():{};return _(c,r,J(d,2),x)}}function nr(r){return dt(function(o,c){var d=-1,_=c.length,x=_>1?c[_-1]:e,C=_>2?c[2]:e;for(x=r.length>3&&typeof x=="function"?(_--,x):e,C&&we(c[0],c[1],C)&&(x=_<3?e:x,_=1),o=Lt(o);++d<_;){var D=c[d];D&&r(o,D,d,x)}return o})}function kf(r,o){return function(c,d){if(c==null)return c;if(!Me(c))return r(c,d);for(var _=c.length,x=o?_:-1,C=Lt(c);(o?x--:++x<_)&&d(C[x],x,C)!==!1;);return c}}function Df(r){return function(o,c,d){for(var _=-1,x=Lt(o),C=d(o),D=C.length;D--;){var A=C[r?D:++_];if(c(x[A],A,x)===!1)break}return o}}function Uv(r,o,c){var d=o&w,_=zr(r);function x(){var C=this&&this!==ue&&this instanceof x?_:r;return C.apply(d?c:this,arguments)}return x}function Mf(r){return function(o){o=At(o);var c=Gi(o)?gn(o):e,d=c?c[0]:o.charAt(0),_=c?li(c,1).join(""):o.slice(1);return d[r]()+_}}function ir(r){return function(o){return Wa(kh(Ch(o).replace(Lm,"")),r,"")}}function zr(r){return function(){var o=arguments;switch(o.length){case 0:return new r;case 1:return new r(o[0]);case 2:return new r(o[0],o[1]);case 3:return new r(o[0],o[1],o[2]);case 4:return new r(o[0],o[1],o[2],o[3]);case 5:return new r(o[0],o[1],o[2],o[3],o[4]);case 6:return new r(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new r(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var c=er(r.prototype),d=r.apply(c,o);return Xt(d)?d:c}}function Vv(r,o,c){var d=zr(r);function _(){for(var x=arguments.length,C=P(x),D=x,A=rr(_);D--;)C[D]=arguments[D];var W=x<3&&C[0]!==A&&C[x-1]!==A?[]:ii(C,A);if(x-=W.length,x<c)return If(r,o,no,_.placeholder,e,C,W,e,e,c-x);var z=this&&this!==ue&&this instanceof _?d:r;return Fe(z,this,C)}return _}function Tf(r){return function(o,c,d){var _=Lt(o);if(!Me(o)){var x=J(c,3);o=ae(o),c=function(D){return x(_[D],D,_)}}var C=r(o,c,d);return C>-1?_[x?o[C]:C]:e}}function Af(r){return $n(function(o){var c=o.length,d=c,_=Ze.prototype.thru;for(r&&o.reverse();d--;){var x=o[d];if(typeof x!="function")throw new je(l);if(_&&!C&&oo(x)=="wrapper")var C=new Ze([],!0)}for(d=C?d:c;++d<c;){x=o[d];var D=oo(x),A=D=="wrapper"?vl(x):e;A&&wl(A[0])&&A[1]==(B|I|M|L)&&!A[4].length&&A[9]==1?C=C[oo(A[0])].apply(C,A[3]):C=x.length==1&&wl(x)?C[D]():C.thru(x)}return function(){var W=arguments,z=W[0];if(C&&W.length==1&&lt(z))return C.plant(z).value();for(var H=0,X=c?o[H].apply(this,W):z;++H<c;)X=o[H].call(this,X);return X}})}function no(r,o,c,d,_,x,C,D,A,W){var z=o&B,H=o&w,X=o&k,Z=o&(I|E),Q=o&$,ht=X?e:zr(r);function tt(){for(var pt=arguments.length,yt=P(pt),Ne=pt;Ne--;)yt[Ne]=arguments[Ne];if(Z)var Se=rr(tt),He=i_(yt,Se);if(d&&(yt=Sf(yt,d,_,Z)),x&&(yt=Cf(yt,x,C,Z)),pt-=He,Z&&pt<W){var te=ii(yt,Se);return If(r,o,no,tt.placeholder,c,yt,te,D,A,W-pt)}var _n=H?c:this,Xn=X?_n[r]:r;return pt=yt.length,D?yt=fb(yt,D):Q&&pt>1&&yt.reverse(),z&&A<pt&&(yt.length=A),this&&this!==ue&&this instanceof tt&&(Xn=ht||zr(Xn)),Xn.apply(_n,yt)}return tt}function Of(r,o){return function(c,d){return bv(c,r,o(d),{})}}function io(r,o){return function(c,d){var _;if(c===e&&d===e)return o;if(c!==e&&(_=c),d!==e){if(_===e)return d;typeof c=="string"||typeof d=="string"?(c=We(c),d=We(d)):(c=pf(c),d=pf(d)),_=r(c,d)}return _}}function gl(r){return $n(function(o){return o=Ut(o,Be(J())),dt(function(c){var d=this;return r(o,function(_){return Fe(_,d,c)})})})}function ro(r,o){o=o===e?" ":We(o);var c=o.length;if(c<2)return c?al(o,r):o;var d=al(o,Us(r/ji(o)));return Gi(o)?li(gn(d),0,r).join(""):d.slice(0,r)}function Xv(r,o,c,d){var _=o&w,x=zr(r);function C(){for(var D=-1,A=arguments.length,W=-1,z=d.length,H=P(z+A),X=this&&this!==ue&&this instanceof C?x:r;++W<z;)H[W]=d[W];for(;A--;)H[W++]=arguments[++D];return Fe(X,_?c:this,H)}return C}function Ef(r){return function(o,c,d){return d&&typeof d!="number"&&we(o,c,d)&&(c=d=e),o=Vn(o),c===e?(c=o,o=0):c=Vn(c),d=d===e?o<c?1:-1:Vn(d),Ev(o,c,d,r)}}function so(r){return function(o,c){return typeof o=="string"&&typeof c=="string"||(o=en(o),c=en(c)),r(o,c)}}function If(r,o,c,d,_,x,C,D,A,W){var z=o&I,H=z?C:e,X=z?e:C,Z=z?x:e,Q=z?e:x;o|=z?M:R,o&=~(z?R:M),o&O||(o&=-4);var ht=[r,o,_,Z,H,Q,X,D,A,W],tt=c.apply(e,ht);return wl(r)&&Uf(tt,ht),tt.placeholder=d,Vf(tt,r,o)}function pl(r){var o=re[r];return function(c,d){if(c=en(c),d=d==null?0:pe(ut(d),292),d&&Uu(c)){var _=(At(c)+"e").split("e"),x=o(_[0]+"e"+(+_[1]+d));return _=(At(x)+"e").split("e"),+(_[0]+"e"+(+_[1]-d))}return o(c)}}var qv=Qi&&1/Ls(new Qi([,-0]))[1]==bt?function(r){return new Qi(r)}:Bl;function Pf(r){return function(o){var c=me(o);return c==Pt?Va(o):c==dn?u_(o):n_(o,r(o))}}function Hn(r,o,c,d,_,x,C,D){var A=o&k;if(!A&&typeof r!="function")throw new je(l);var W=d?d.length:0;if(W||(o&=-97,d=_=e),C=C===e?C:se(ut(C),0),D=D===e?D:ut(D),W-=_?_.length:0,o&R){var z=d,H=_;d=_=e}var X=A?e:vl(r),Z=[r,o,c,d,_,z,H,x,C,D];if(X&&lb(Z,X),r=Z[0],o=Z[1],c=Z[2],d=Z[3],_=Z[4],D=Z[9]=Z[9]===e?A?0:r.length:se(Z[9]-W,0),!D&&o&(I|E)&&(o&=-25),!o||o==w)var Q=Uv(r,o,c);else o==I||o==E?Q=Vv(r,o,D):(o==M||o==(w|M))&&!_.length?Q=Xv(r,o,c,d):Q=no.apply(e,Z);var ht=X?df:Uf;return Vf(ht(Q,Z),r,o)}function Lf(r,o,c,d){return r===e||mn(r,Ji[c])&&!Ot.call(d,c)?o:r}function Rf(r,o,c,d,_,x){return Xt(r)&&Xt(o)&&(x.set(o,r),Js(r,o,e,Rf,x),x.delete(o)),r}function Kv(r){return $r(r)?e:r}function Ff(r,o,c,d,_,x){var C=c&S,D=r.length,A=o.length;if(D!=A&&!(C&&A>D))return!1;var W=x.get(r),z=x.get(o);if(W&&z)return W==o&&z==r;var H=-1,X=!0,Z=c&y?new yi:e;for(x.set(r,o),x.set(o,r);++H<D;){var Q=r[H],ht=o[H];if(d)var tt=C?d(ht,Q,H,o,r,x):d(Q,ht,H,r,o,x);if(tt!==e){if(tt)continue;X=!1;break}if(Z){if(!za(o,function(pt,yt){if(!Tr(Z,yt)&&(Q===pt||_(Q,pt,c,d,x)))return Z.push(yt)})){X=!1;break}}else if(!(Q===ht||_(Q,ht,c,d,x))){X=!1;break}}return x.delete(r),x.delete(o),X}function Gv(r,o,c,d,_,x,C){switch(c){case Xi:if(r.byteLength!=o.byteLength||r.byteOffset!=o.byteOffset)return!1;r=r.buffer,o=o.buffer;case Mr:return!(r.byteLength!=o.byteLength||!x(new Ns(r),new Ns(o)));case ot:case at:case Kt:return mn(+r,+o);case Nt:return r.name==o.name&&r.message==o.message;case Vi:case kr:return r==o+"";case Pt:var D=Va;case dn:var A=d&S;if(D||(D=Ls),r.size!=o.size&&!A)return!1;var W=C.get(r);if(W)return W==o;d|=y,C.set(r,o);var z=Ff(D(r),D(o),d,_,x,C);return C.delete(r),z;case Ts:if(Pr)return Pr.call(r)==Pr.call(o)}return!1}function jv(r,o,c,d,_,x){var C=c&S,D=ml(r),A=D.length,W=ml(o),z=W.length;if(A!=z&&!C)return!1;for(var H=A;H--;){var X=D[H];if(!(C?X in o:Ot.call(o,X)))return!1}var Z=x.get(r),Q=x.get(o);if(Z&&Q)return Z==o&&Q==r;var ht=!0;x.set(r,o),x.set(o,r);for(var tt=C;++H<A;){X=D[H];var pt=r[X],yt=o[X];if(d)var Ne=C?d(yt,pt,X,o,r,x):d(pt,yt,X,r,o,x);if(!(Ne===e?pt===yt||_(pt,yt,c,d,x):Ne)){ht=!1;break}tt||(tt=X=="constructor")}if(ht&&!tt){var Se=r.constructor,He=o.constructor;Se!=He&&"constructor"in r&&"constructor"in o&&!(typeof Se=="function"&&Se instanceof Se&&typeof He=="function"&&He instanceof He)&&(ht=!1)}return x.delete(r),x.delete(o),ht}function $n(r){return Cl($f(r,e,Zf),r+"")}function ml(r){return ef(r,ae,xl)}function _l(r){return ef(r,Te,Bf)}var vl=Xs?function(r){return Xs.get(r)}:Bl;function oo(r){for(var o=r.name+"",c=tr[o],d=Ot.call(tr,o)?c.length:0;d--;){var _=c[d],x=_.func;if(x==null||x==r)return _.name}return o}function rr(r){var o=Ot.call(b,"placeholder")?b:r;return o.placeholder}function J(){var r=b.iteratee||Rl;return r=r===Rl?sf:r,arguments.length?r(arguments[0],arguments[1]):r}function ao(r,o){var c=r.__data__;return rb(o)?c[typeof o=="string"?"string":"hash"]:c.map}function bl(r){for(var o=ae(r),c=o.length;c--;){var d=o[c],_=r[d];o[c]=[d,_,Nf(_)]}return o}function Ci(r,o){var c=a_(r,o);return rf(c)?c:e}function Zv(r){var o=Ot.call(r,bi),c=r[bi];try{r[bi]=e;var d=!0}catch{}var _=Ws.call(r);return d&&(o?r[bi]=c:delete r[bi]),_}var xl=qa?function(r){return r==null?[]:(r=Lt(r),ei(qa(r),function(o){return $u.call(r,o)}))}:Wl,Bf=qa?function(r){for(var o=[];r;)ni(o,xl(r)),r=Hs(r);return o}:Wl,me=ye;(Ka&&me(new Ka(new ArrayBuffer(1)))!=Xi||Or&&me(new Or)!=Pt||Ga&&me(Ga.resolve())!=Ui||Qi&&me(new Qi)!=dn||Er&&me(new Er)!=Dr)&&(me=function(r){var o=ye(r),c=o==ge?r.constructor:e,d=c?ki(c):"";if(d)switch(d){case P_:return Xi;case L_:return Pt;case R_:return Ui;case F_:return dn;case B_:return Dr}return o});function Jv(r,o,c){for(var d=-1,_=c.length;++d<_;){var x=c[d],C=x.size;switch(x.type){case"drop":r+=C;break;case"dropRight":o-=C;break;case"take":o=pe(o,r+C);break;case"takeRight":r=se(r,o-C);break}}return{start:r,end:o}}function Qv(r){var o=r.match(sm);return o?o[1].split(om):[]}function Wf(r,o,c){o=ai(o,r);for(var d=-1,_=o.length,x=!1;++d<_;){var C=Dn(o[d]);if(!(x=r!=null&&c(r,C)))break;r=r[C]}return x||++d!=_?x:(_=r==null?0:r.length,!!_&&po(_)&&Yn(C,_)&&(lt(r)||Di(r)))}function tb(r){var o=r.length,c=new r.constructor(o);return o&&typeof r[0]=="string"&&Ot.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function zf(r){return typeof r.constructor=="function"&&!Nr(r)?er(Hs(r)):{}}function eb(r,o,c){var d=r.constructor;switch(o){case Mr:return dl(r);case ot:case at:return new d(+r);case Xi:return Wv(r,c);case ba:case xa:case ya:case wa:case Sa:case Ca:case ka:case Da:case Ma:return yf(r,c);case Pt:return new d;case Kt:case kr:return new d(r);case Vi:return zv(r);case dn:return new d;case Ts:return Nv(r)}}function nb(r,o){var c=o.length;if(!c)return r;var d=c-1;return o[d]=(c>1?"& ":"")+o[d],o=o.join(c>2?", ":" "),r.replace(rm,`{
/* [wrapped with `+o+`] */
`)}function ib(r){return lt(r)||Di(r)||!!(Yu&&r&&r[Yu])}function Yn(r,o){var c=typeof r;return o=o??Ct,!!o&&(c=="number"||c!="symbol"&&pm.test(r))&&r>-1&&r%1==0&&r<o}function we(r,o,c){if(!Xt(c))return!1;var d=typeof o;return(d=="number"?Me(c)&&Yn(o,c.length):d=="string"&&o in c)?mn(c[o],r):!1}function yl(r,o){if(lt(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||ze(r)?!0:tm.test(r)||!Qp.test(r)||o!=null&&r in Lt(o)}function rb(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}function wl(r){var o=oo(r),c=b[o];if(typeof c!="function"||!(o in _t.prototype))return!1;if(r===c)return!0;var d=vl(c);return!!d&&r===d[0]}function sb(r){return!!zu&&zu in r}var ob=Fs?Un:zl;function Nr(r){var o=r&&r.constructor,c=typeof o=="function"&&o.prototype||Ji;return r===c}function Nf(r){return r===r&&!Xt(r)}function Hf(r,o){return function(c){return c==null?!1:c[r]===o&&(o!==e||r in Lt(c))}}function ab(r){var o=ho(r,function(d){return c.size===h&&c.clear(),d}),c=o.cache;return o}function lb(r,o){var c=r[1],d=o[1],_=c|d,x=_<(w|k|B),C=d==B&&c==I||d==B&&c==L&&r[7].length<=o[8]||d==(B|L)&&o[7].length<=o[8]&&c==I;if(!(x||C))return r;d&w&&(r[2]=o[2],_|=c&w?0:O);var D=o[3];if(D){var A=r[3];r[3]=A?Sf(A,D,o[4]):D,r[4]=A?ii(r[3],g):o[4]}return D=o[5],D&&(A=r[5],r[5]=A?Cf(A,D,o[6]):D,r[6]=A?ii(r[5],g):o[6]),D=o[7],D&&(r[7]=D),d&B&&(r[8]=r[8]==null?o[8]:pe(r[8],o[8])),r[9]==null&&(r[9]=o[9]),r[0]=o[0],r[1]=_,r}function cb(r){var o=[];if(r!=null)for(var c in Lt(r))o.push(c);return o}function ub(r){return Ws.call(r)}function $f(r,o,c){return o=se(o===e?r.length-1:o,0),function(){for(var d=arguments,_=-1,x=se(d.length-o,0),C=P(x);++_<x;)C[_]=d[o+_];_=-1;for(var D=P(o+1);++_<o;)D[_]=d[_];return D[o]=c(C),Fe(r,this,D)}}function Yf(r,o){return o.length<2?r:Si(r,Qe(o,0,-1))}function fb(r,o){for(var c=r.length,d=pe(o.length,c),_=De(r);d--;){var x=o[d];r[d]=Yn(x,c)?_[x]:e}return r}function Sl(r,o){if(!(o==="constructor"&&typeof r[o]=="function")&&o!="__proto__")return r[o]}var Uf=Xf(df),Hr=D_||function(r,o){return ue.setTimeout(r,o)},Cl=Xf(Lv);function Vf(r,o,c){var d=o+"";return Cl(r,nb(d,hb(Qv(d),c)))}function Xf(r){var o=0,c=0;return function(){var d=O_(),_=rt-(d-c);if(c=d,_>0){if(++o>=j)return arguments[0]}else o=0;return r.apply(e,arguments)}}function lo(r,o){var c=-1,d=r.length,_=d-1;for(o=o===e?d:o;++c<o;){var x=ol(c,_),C=r[x];r[x]=r[c],r[c]=C}return r.length=o,r}var qf=ab(function(r){var o=[];return r.charCodeAt(0)===46&&o.push(""),r.replace(em,function(c,d,_,x){o.push(_?x.replace(cm,"$1"):d||c)}),o});function Dn(r){if(typeof r=="string"||ze(r))return r;var o=r+"";return o=="0"&&1/r==-bt?"-0":o}function ki(r){if(r!=null){try{return Bs.call(r)}catch{}try{return r+""}catch{}}return""}function hb(r,o){return Ge(Rt,function(c){var d="_."+c[0];o&c[1]&&!Is(r,d)&&r.push(d)}),r.sort()}function Kf(r){if(r instanceof _t)return r.clone();var o=new Ze(r.__wrapped__,r.__chain__);return o.__actions__=De(r.__actions__),o.__index__=r.__index__,o.__values__=r.__values__,o}function db(r,o,c){(c?we(r,o,c):o===e)?o=1:o=se(ut(o),0);var d=r==null?0:r.length;if(!d||o<1)return[];for(var _=0,x=0,C=P(Us(d/o));_<d;)C[x++]=Qe(r,_,_+=o);return C}function gb(r){for(var o=-1,c=r==null?0:r.length,d=0,_=[];++o<c;){var x=r[o];x&&(_[d++]=x)}return _}function pb(){var r=arguments.length;if(!r)return[];for(var o=P(r-1),c=arguments[0],d=r;d--;)o[d-1]=arguments[d];return ni(lt(c)?De(c):[c],fe(o,1))}var mb=dt(function(r,o){return Qt(r)?Rr(r,fe(o,1,Qt,!0)):[]}),_b=dt(function(r,o){var c=tn(o);return Qt(c)&&(c=e),Qt(r)?Rr(r,fe(o,1,Qt,!0),J(c,2)):[]}),vb=dt(function(r,o){var c=tn(o);return Qt(c)&&(c=e),Qt(r)?Rr(r,fe(o,1,Qt,!0),e,c):[]});function bb(r,o,c){var d=r==null?0:r.length;return d?(o=c||o===e?1:ut(o),Qe(r,o<0?0:o,d)):[]}function xb(r,o,c){var d=r==null?0:r.length;return d?(o=c||o===e?1:ut(o),o=d-o,Qe(r,0,o<0?0:o)):[]}function yb(r,o){return r&&r.length?to(r,J(o,3),!0,!0):[]}function wb(r,o){return r&&r.length?to(r,J(o,3),!0):[]}function Sb(r,o,c,d){var _=r==null?0:r.length;return _?(c&&typeof c!="number"&&we(r,o,c)&&(c=0,d=_),pv(r,o,c,d)):[]}function Gf(r,o,c){var d=r==null?0:r.length;if(!d)return-1;var _=c==null?0:ut(c);return _<0&&(_=se(d+_,0)),Ps(r,J(o,3),_)}function jf(r,o,c){var d=r==null?0:r.length;if(!d)return-1;var _=d-1;return c!==e&&(_=ut(c),_=c<0?se(d+_,0):pe(_,d-1)),Ps(r,J(o,3),_,!0)}function Zf(r){var o=r==null?0:r.length;return o?fe(r,1):[]}function Cb(r){var o=r==null?0:r.length;return o?fe(r,bt):[]}function kb(r,o){var c=r==null?0:r.length;return c?(o=o===e?1:ut(o),fe(r,o)):[]}function Db(r){for(var o=-1,c=r==null?0:r.length,d={};++o<c;){var _=r[o];d[_[0]]=_[1]}return d}function Jf(r){return r&&r.length?r[0]:e}function Mb(r,o,c){var d=r==null?0:r.length;if(!d)return-1;var _=c==null?0:ut(c);return _<0&&(_=se(d+_,0)),Ki(r,o,_)}function Tb(r){var o=r==null?0:r.length;return o?Qe(r,0,-1):[]}var Ab=dt(function(r){var o=Ut(r,fl);return o.length&&o[0]===r[0]?el(o):[]}),Ob=dt(function(r){var o=tn(r),c=Ut(r,fl);return o===tn(c)?o=e:c.pop(),c.length&&c[0]===r[0]?el(c,J(o,2)):[]}),Eb=dt(function(r){var o=tn(r),c=Ut(r,fl);return o=typeof o=="function"?o:e,o&&c.pop(),c.length&&c[0]===r[0]?el(c,e,o):[]});function Ib(r,o){return r==null?"":T_.call(r,o)}function tn(r){var o=r==null?0:r.length;return o?r[o-1]:e}function Pb(r,o,c){var d=r==null?0:r.length;if(!d)return-1;var _=d;return c!==e&&(_=ut(c),_=_<0?se(d+_,0):pe(_,d-1)),o===o?h_(r,o,_):Ps(r,Eu,_,!0)}function Lb(r,o){return r&&r.length?cf(r,ut(o)):e}var Rb=dt(Qf);function Qf(r,o){return r&&r.length&&o&&o.length?sl(r,o):r}function Fb(r,o,c){return r&&r.length&&o&&o.length?sl(r,o,J(c,2)):r}function Bb(r,o,c){return r&&r.length&&o&&o.length?sl(r,o,e,c):r}var Wb=$n(function(r,o){var c=r==null?0:r.length,d=Za(r,o);return hf(r,Ut(o,function(_){return Yn(_,c)?+_:_}).sort(wf)),d});function zb(r,o){var c=[];if(!(r&&r.length))return c;var d=-1,_=[],x=r.length;for(o=J(o,3);++d<x;){var C=r[d];o(C,d,r)&&(c.push(C),_.push(d))}return hf(r,_),c}function kl(r){return r==null?r:I_.call(r)}function Nb(r,o,c){var d=r==null?0:r.length;return d?(c&&typeof c!="number"&&we(r,o,c)?(o=0,c=d):(o=o==null?0:ut(o),c=c===e?d:ut(c)),Qe(r,o,c)):[]}function Hb(r,o){return Qs(r,o)}function $b(r,o,c){return ll(r,o,J(c,2))}function Yb(r,o){var c=r==null?0:r.length;if(c){var d=Qs(r,o);if(d<c&&mn(r[d],o))return d}return-1}function Ub(r,o){return Qs(r,o,!0)}function Vb(r,o,c){return ll(r,o,J(c,2),!0)}function Xb(r,o){var c=r==null?0:r.length;if(c){var d=Qs(r,o,!0)-1;if(mn(r[d],o))return d}return-1}function qb(r){return r&&r.length?gf(r):[]}function Kb(r,o){return r&&r.length?gf(r,J(o,2)):[]}function Gb(r){var o=r==null?0:r.length;return o?Qe(r,1,o):[]}function jb(r,o,c){return r&&r.length?(o=c||o===e?1:ut(o),Qe(r,0,o<0?0:o)):[]}function Zb(r,o,c){var d=r==null?0:r.length;return d?(o=c||o===e?1:ut(o),o=d-o,Qe(r,o<0?0:o,d)):[]}function Jb(r,o){return r&&r.length?to(r,J(o,3),!1,!0):[]}function Qb(r,o){return r&&r.length?to(r,J(o,3)):[]}var t0=dt(function(r){return oi(fe(r,1,Qt,!0))}),e0=dt(function(r){var o=tn(r);return Qt(o)&&(o=e),oi(fe(r,1,Qt,!0),J(o,2))}),n0=dt(function(r){var o=tn(r);return o=typeof o=="function"?o:e,oi(fe(r,1,Qt,!0),e,o)});function i0(r){return r&&r.length?oi(r):[]}function r0(r,o){return r&&r.length?oi(r,J(o,2)):[]}function s0(r,o){return o=typeof o=="function"?o:e,r&&r.length?oi(r,e,o):[]}function Dl(r){if(!(r&&r.length))return[];var o=0;return r=ei(r,function(c){if(Qt(c))return o=se(c.length,o),!0}),Ya(o,function(c){return Ut(r,Na(c))})}function th(r,o){if(!(r&&r.length))return[];var c=Dl(r);return o==null?c:Ut(c,function(d){return Fe(o,e,d)})}var o0=dt(function(r,o){return Qt(r)?Rr(r,o):[]}),a0=dt(function(r){return ul(ei(r,Qt))}),l0=dt(function(r){var o=tn(r);return Qt(o)&&(o=e),ul(ei(r,Qt),J(o,2))}),c0=dt(function(r){var o=tn(r);return o=typeof o=="function"?o:e,ul(ei(r,Qt),e,o)}),u0=dt(Dl);function f0(r,o){return vf(r||[],o||[],Lr)}function h0(r,o){return vf(r||[],o||[],Wr)}var d0=dt(function(r){var o=r.length,c=o>1?r[o-1]:e;return c=typeof c=="function"?(r.pop(),c):e,th(r,c)});function eh(r){var o=b(r);return o.__chain__=!0,o}function g0(r,o){return o(r),r}function co(r,o){return o(r)}var p0=$n(function(r){var o=r.length,c=o?r[0]:0,d=this.__wrapped__,_=function(x){return Za(x,r)};return o>1||this.__actions__.length||!(d instanceof _t)||!Yn(c)?this.thru(_):(d=d.slice(c,+c+(o?1:0)),d.__actions__.push({func:co,args:[_],thisArg:e}),new Ze(d,this.__chain__).thru(function(x){return o&&!x.length&&x.push(e),x}))});function m0(){return eh(this)}function _0(){return new Ze(this.value(),this.__chain__)}function v0(){this.__values__===e&&(this.__values__=ph(this.value()));var r=this.__index__>=this.__values__.length,o=r?e:this.__values__[this.__index__++];return{done:r,value:o}}function b0(){return this}function x0(r){for(var o,c=this;c instanceof Ks;){var d=Kf(c);d.__index__=0,d.__values__=e,o?_.__wrapped__=d:o=d;var _=d;c=c.__wrapped__}return _.__wrapped__=r,o}function y0(){var r=this.__wrapped__;if(r instanceof _t){var o=r;return this.__actions__.length&&(o=new _t(this)),o=o.reverse(),o.__actions__.push({func:co,args:[kl],thisArg:e}),new Ze(o,this.__chain__)}return this.thru(kl)}function w0(){return _f(this.__wrapped__,this.__actions__)}var S0=eo(function(r,o,c){Ot.call(r,c)?++r[c]:Nn(r,c,1)});function C0(r,o,c){var d=lt(r)?Au:gv;return c&&we(r,o,c)&&(o=e),d(r,J(o,3))}function k0(r,o){var c=lt(r)?ei:Qu;return c(r,J(o,3))}var D0=Tf(Gf),M0=Tf(jf);function T0(r,o){return fe(uo(r,o),1)}function A0(r,o){return fe(uo(r,o),bt)}function O0(r,o,c){return c=c===e?1:ut(c),fe(uo(r,o),c)}function nh(r,o){var c=lt(r)?Ge:si;return c(r,J(o,3))}function ih(r,o){var c=lt(r)?Gm:Ju;return c(r,J(o,3))}var E0=eo(function(r,o,c){Ot.call(r,c)?r[c].push(o):Nn(r,c,[o])});function I0(r,o,c,d){r=Me(r)?r:or(r),c=c&&!d?ut(c):0;var _=r.length;return c<0&&(c=se(_+c,0)),mo(r)?c<=_&&r.indexOf(o,c)>-1:!!_&&Ki(r,o,c)>-1}var P0=dt(function(r,o,c){var d=-1,_=typeof o=="function",x=Me(r)?P(r.length):[];return si(r,function(C){x[++d]=_?Fe(o,C,c):Fr(C,o,c)}),x}),L0=eo(function(r,o,c){Nn(r,c,o)});function uo(r,o){var c=lt(r)?Ut:of;return c(r,J(o,3))}function R0(r,o,c,d){return r==null?[]:(lt(o)||(o=o==null?[]:[o]),c=d?e:c,lt(c)||(c=c==null?[]:[c]),uf(r,o,c))}var F0=eo(function(r,o,c){r[c?0:1].push(o)},function(){return[[],[]]});function B0(r,o,c){var d=lt(r)?Wa:Pu,_=arguments.length<3;return d(r,J(o,4),c,_,si)}function W0(r,o,c){var d=lt(r)?jm:Pu,_=arguments.length<3;return d(r,J(o,4),c,_,Ju)}function z0(r,o){var c=lt(r)?ei:Qu;return c(r,go(J(o,3)))}function N0(r){var o=lt(r)?Ku:Iv;return o(r)}function H0(r,o,c){(c?we(r,o,c):o===e)?o=1:o=ut(o);var d=lt(r)?cv:Pv;return d(r,o)}function $0(r){var o=lt(r)?uv:Rv;return o(r)}function Y0(r){if(r==null)return 0;if(Me(r))return mo(r)?ji(r):r.length;var o=me(r);return o==Pt||o==dn?r.size:il(r).length}function U0(r,o,c){var d=lt(r)?za:Fv;return c&&we(r,o,c)&&(o=e),d(r,J(o,3))}var V0=dt(function(r,o){if(r==null)return[];var c=o.length;return c>1&&we(r,o[0],o[1])?o=[]:c>2&&we(o[0],o[1],o[2])&&(o=[o[0]]),uf(r,fe(o,1),[])}),fo=k_||function(){return ue.Date.now()};function X0(r,o){if(typeof o!="function")throw new je(l);return r=ut(r),function(){if(--r<1)return o.apply(this,arguments)}}function rh(r,o,c){return o=c?e:o,o=r&&o==null?r.length:o,Hn(r,B,e,e,e,e,o)}function sh(r,o){var c;if(typeof o!="function")throw new je(l);return r=ut(r),function(){return--r>0&&(c=o.apply(this,arguments)),r<=1&&(o=e),c}}var Ml=dt(function(r,o,c){var d=w;if(c.length){var _=ii(c,rr(Ml));d|=M}return Hn(r,d,o,c,_)}),oh=dt(function(r,o,c){var d=w|k;if(c.length){var _=ii(c,rr(oh));d|=M}return Hn(o,d,r,c,_)});function ah(r,o,c){o=c?e:o;var d=Hn(r,I,e,e,e,e,e,o);return d.placeholder=ah.placeholder,d}function lh(r,o,c){o=c?e:o;var d=Hn(r,E,e,e,e,e,e,o);return d.placeholder=lh.placeholder,d}function ch(r,o,c){var d,_,x,C,D,A,W=0,z=!1,H=!1,X=!0;if(typeof r!="function")throw new je(l);o=en(o)||0,Xt(c)&&(z=!!c.leading,H="maxWait"in c,x=H?se(en(c.maxWait)||0,o):x,X="trailing"in c?!!c.trailing:X);function Z(te){var _n=d,Xn=_;return d=_=e,W=te,C=r.apply(Xn,_n),C}function Q(te){return W=te,D=Hr(pt,o),z?Z(te):C}function ht(te){var _n=te-A,Xn=te-W,Th=o-_n;return H?pe(Th,x-Xn):Th}function tt(te){var _n=te-A,Xn=te-W;return A===e||_n>=o||_n<0||H&&Xn>=x}function pt(){var te=fo();if(tt(te))return yt(te);D=Hr(pt,ht(te))}function yt(te){return D=e,X&&d?Z(te):(d=_=e,C)}function Ne(){D!==e&&bf(D),W=0,d=A=_=D=e}function Se(){return D===e?C:yt(fo())}function He(){var te=fo(),_n=tt(te);if(d=arguments,_=this,A=te,_n){if(D===e)return Q(A);if(H)return bf(D),D=Hr(pt,o),Z(A)}return D===e&&(D=Hr(pt,o)),C}return He.cancel=Ne,He.flush=Se,He}var q0=dt(function(r,o){return Zu(r,1,o)}),K0=dt(function(r,o,c){return Zu(r,en(o)||0,c)});function G0(r){return Hn(r,$)}function ho(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new je(l);var c=function(){var d=arguments,_=o?o.apply(this,d):d[0],x=c.cache;if(x.has(_))return x.get(_);var C=r.apply(this,d);return c.cache=x.set(_,C)||x,C};return c.cache=new(ho.Cache||zn),c}ho.Cache=zn;function go(r){if(typeof r!="function")throw new je(l);return function(){var o=arguments;switch(o.length){case 0:return!r.call(this);case 1:return!r.call(this,o[0]);case 2:return!r.call(this,o[0],o[1]);case 3:return!r.call(this,o[0],o[1],o[2])}return!r.apply(this,o)}}function j0(r){return sh(2,r)}var Z0=Bv(function(r,o){o=o.length==1&&lt(o[0])?Ut(o[0],Be(J())):Ut(fe(o,1),Be(J()));var c=o.length;return dt(function(d){for(var _=-1,x=pe(d.length,c);++_<x;)d[_]=o[_].call(this,d[_]);return Fe(r,this,d)})}),Tl=dt(function(r,o){var c=ii(o,rr(Tl));return Hn(r,M,e,o,c)}),uh=dt(function(r,o){var c=ii(o,rr(uh));return Hn(r,R,e,o,c)}),J0=$n(function(r,o){return Hn(r,L,e,e,e,o)});function Q0(r,o){if(typeof r!="function")throw new je(l);return o=o===e?o:ut(o),dt(r,o)}function tx(r,o){if(typeof r!="function")throw new je(l);return o=o==null?0:se(ut(o),0),dt(function(c){var d=c[o],_=li(c,0,o);return d&&ni(_,d),Fe(r,this,_)})}function ex(r,o,c){var d=!0,_=!0;if(typeof r!="function")throw new je(l);return Xt(c)&&(d="leading"in c?!!c.leading:d,_="trailing"in c?!!c.trailing:_),ch(r,o,{leading:d,maxWait:o,trailing:_})}function nx(r){return rh(r,1)}function ix(r,o){return Tl(hl(o),r)}function rx(){if(!arguments.length)return[];var r=arguments[0];return lt(r)?r:[r]}function sx(r){return Je(r,v)}function ox(r,o){return o=typeof o=="function"?o:e,Je(r,v,o)}function ax(r){return Je(r,m|v)}function lx(r,o){return o=typeof o=="function"?o:e,Je(r,m|v,o)}function cx(r,o){return o==null||ju(r,o,ae(o))}function mn(r,o){return r===o||r!==r&&o!==o}var ux=so(tl),fx=so(function(r,o){return r>=o}),Di=nf(function(){return arguments}())?nf:function(r){return Gt(r)&&Ot.call(r,"callee")&&!$u.call(r,"callee")},lt=P.isArray,hx=Su?Be(Su):xv;function Me(r){return r!=null&&po(r.length)&&!Un(r)}function Qt(r){return Gt(r)&&Me(r)}function dx(r){return r===!0||r===!1||Gt(r)&&ye(r)==ot}var ci=M_||zl,gx=Cu?Be(Cu):yv;function px(r){return Gt(r)&&r.nodeType===1&&!$r(r)}function mx(r){if(r==null)return!0;if(Me(r)&&(lt(r)||typeof r=="string"||typeof r.splice=="function"||ci(r)||sr(r)||Di(r)))return!r.length;var o=me(r);if(o==Pt||o==dn)return!r.size;if(Nr(r))return!il(r).length;for(var c in r)if(Ot.call(r,c))return!1;return!0}function _x(r,o){return Br(r,o)}function vx(r,o,c){c=typeof c=="function"?c:e;var d=c?c(r,o):e;return d===e?Br(r,o,e,c):!!d}function Al(r){if(!Gt(r))return!1;var o=ye(r);return o==Nt||o==Ft||typeof r.message=="string"&&typeof r.name=="string"&&!$r(r)}function bx(r){return typeof r=="number"&&Uu(r)}function Un(r){if(!Xt(r))return!1;var o=ye(r);return o==de||o==ke||o==N||o==Cr}function fh(r){return typeof r=="number"&&r==ut(r)}function po(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Ct}function Xt(r){var o=typeof r;return r!=null&&(o=="object"||o=="function")}function Gt(r){return r!=null&&typeof r=="object"}var hh=ku?Be(ku):Sv;function xx(r,o){return r===o||nl(r,o,bl(o))}function yx(r,o,c){return c=typeof c=="function"?c:e,nl(r,o,bl(o),c)}function wx(r){return dh(r)&&r!=+r}function Sx(r){if(ob(r))throw new it(a);return rf(r)}function Cx(r){return r===null}function kx(r){return r==null}function dh(r){return typeof r=="number"||Gt(r)&&ye(r)==Kt}function $r(r){if(!Gt(r)||ye(r)!=ge)return!1;var o=Hs(r);if(o===null)return!0;var c=Ot.call(o,"constructor")&&o.constructor;return typeof c=="function"&&c instanceof c&&Bs.call(c)==y_}var Ol=Du?Be(Du):Cv;function Dx(r){return fh(r)&&r>=-Ct&&r<=Ct}var gh=Mu?Be(Mu):kv;function mo(r){return typeof r=="string"||!lt(r)&&Gt(r)&&ye(r)==kr}function ze(r){return typeof r=="symbol"||Gt(r)&&ye(r)==Ts}var sr=Tu?Be(Tu):Dv;function Mx(r){return r===e}function Tx(r){return Gt(r)&&me(r)==Dr}function Ax(r){return Gt(r)&&ye(r)==Vp}var Ox=so(rl),Ex=so(function(r,o){return r<=o});function ph(r){if(!r)return[];if(Me(r))return mo(r)?gn(r):De(r);if(Ar&&r[Ar])return c_(r[Ar]());var o=me(r),c=o==Pt?Va:o==dn?Ls:or;return c(r)}function Vn(r){if(!r)return r===0?r:0;if(r=en(r),r===bt||r===-bt){var o=r<0?-1:1;return o*ne}return r===r?r:0}function ut(r){var o=Vn(r),c=o%1;return o===o?c?o-c:o:0}function mh(r){return r?wi(ut(r),0,V):0}function en(r){if(typeof r=="number")return r;if(ze(r))return Jt;if(Xt(r)){var o=typeof r.valueOf=="function"?r.valueOf():r;r=Xt(o)?o+"":o}if(typeof r!="string")return r===0?r:+r;r=Lu(r);var c=hm.test(r);return c||gm.test(r)?Xm(r.slice(2),c?2:8):fm.test(r)?Jt:+r}function _h(r){return kn(r,Te(r))}function Ix(r){return r?wi(ut(r),-Ct,Ct):r===0?r:0}function At(r){return r==null?"":We(r)}var Px=nr(function(r,o){if(Nr(o)||Me(o)){kn(o,ae(o),r);return}for(var c in o)Ot.call(o,c)&&Lr(r,c,o[c])}),vh=nr(function(r,o){kn(o,Te(o),r)}),_o=nr(function(r,o,c,d){kn(o,Te(o),r,d)}),Lx=nr(function(r,o,c,d){kn(o,ae(o),r,d)}),Rx=$n(Za);function Fx(r,o){var c=er(r);return o==null?c:Gu(c,o)}var Bx=dt(function(r,o){r=Lt(r);var c=-1,d=o.length,_=d>2?o[2]:e;for(_&&we(o[0],o[1],_)&&(d=1);++c<d;)for(var x=o[c],C=Te(x),D=-1,A=C.length;++D<A;){var W=C[D],z=r[W];(z===e||mn(z,Ji[W])&&!Ot.call(r,W))&&(r[W]=x[W])}return r}),Wx=dt(function(r){return r.push(e,Rf),Fe(bh,e,r)});function zx(r,o){return Ou(r,J(o,3),Cn)}function Nx(r,o){return Ou(r,J(o,3),Qa)}function Hx(r,o){return r==null?r:Ja(r,J(o,3),Te)}function $x(r,o){return r==null?r:tf(r,J(o,3),Te)}function Yx(r,o){return r&&Cn(r,J(o,3))}function Ux(r,o){return r&&Qa(r,J(o,3))}function Vx(r){return r==null?[]:Zs(r,ae(r))}function Xx(r){return r==null?[]:Zs(r,Te(r))}function El(r,o,c){var d=r==null?e:Si(r,o);return d===e?c:d}function qx(r,o){return r!=null&&Wf(r,o,mv)}function Il(r,o){return r!=null&&Wf(r,o,_v)}var Kx=Of(function(r,o,c){o!=null&&typeof o.toString!="function"&&(o=Ws.call(o)),r[o]=c},Ll(Ae)),Gx=Of(function(r,o,c){o!=null&&typeof o.toString!="function"&&(o=Ws.call(o)),Ot.call(r,o)?r[o].push(c):r[o]=[c]},J),jx=dt(Fr);function ae(r){return Me(r)?qu(r):il(r)}function Te(r){return Me(r)?qu(r,!0):Mv(r)}function Zx(r,o){var c={};return o=J(o,3),Cn(r,function(d,_,x){Nn(c,o(d,_,x),d)}),c}function Jx(r,o){var c={};return o=J(o,3),Cn(r,function(d,_,x){Nn(c,_,o(d,_,x))}),c}var Qx=nr(function(r,o,c){Js(r,o,c)}),bh=nr(function(r,o,c,d){Js(r,o,c,d)}),ty=$n(function(r,o){var c={};if(r==null)return c;var d=!1;o=Ut(o,function(x){return x=ai(x,r),d||(d=x.length>1),x}),kn(r,_l(r),c),d&&(c=Je(c,m|p|v,Kv));for(var _=o.length;_--;)cl(c,o[_]);return c});function ey(r,o){return xh(r,go(J(o)))}var ny=$n(function(r,o){return r==null?{}:Av(r,o)});function xh(r,o){if(r==null)return{};var c=Ut(_l(r),function(d){return[d]});return o=J(o),ff(r,c,function(d,_){return o(d,_[0])})}function iy(r,o,c){o=ai(o,r);var d=-1,_=o.length;for(_||(_=1,r=e);++d<_;){var x=r==null?e:r[Dn(o[d])];x===e&&(d=_,x=c),r=Un(x)?x.call(r):x}return r}function ry(r,o,c){return r==null?r:Wr(r,o,c)}function sy(r,o,c,d){return d=typeof d=="function"?d:e,r==null?r:Wr(r,o,c,d)}var yh=Pf(ae),wh=Pf(Te);function oy(r,o,c){var d=lt(r),_=d||ci(r)||sr(r);if(o=J(o,4),c==null){var x=r&&r.constructor;_?c=d?new x:[]:Xt(r)?c=Un(x)?er(Hs(r)):{}:c={}}return(_?Ge:Cn)(r,function(C,D,A){return o(c,C,D,A)}),c}function ay(r,o){return r==null?!0:cl(r,o)}function ly(r,o,c){return r==null?r:mf(r,o,hl(c))}function cy(r,o,c,d){return d=typeof d=="function"?d:e,r==null?r:mf(r,o,hl(c),d)}function or(r){return r==null?[]:Ua(r,ae(r))}function uy(r){return r==null?[]:Ua(r,Te(r))}function fy(r,o,c){return c===e&&(c=o,o=e),c!==e&&(c=en(c),c=c===c?c:0),o!==e&&(o=en(o),o=o===o?o:0),wi(en(r),o,c)}function hy(r,o,c){return o=Vn(o),c===e?(c=o,o=0):c=Vn(c),r=en(r),vv(r,o,c)}function dy(r,o,c){if(c&&typeof c!="boolean"&&we(r,o,c)&&(o=c=e),c===e&&(typeof o=="boolean"?(c=o,o=e):typeof r=="boolean"&&(c=r,r=e)),r===e&&o===e?(r=0,o=1):(r=Vn(r),o===e?(o=r,r=0):o=Vn(o)),r>o){var d=r;r=o,o=d}if(c||r%1||o%1){var _=Vu();return pe(r+_*(o-r+Vm("1e-"+((_+"").length-1))),o)}return ol(r,o)}var gy=ir(function(r,o,c){return o=o.toLowerCase(),r+(c?Sh(o):o)});function Sh(r){return Pl(At(r).toLowerCase())}function Ch(r){return r=At(r),r&&r.replace(mm,r_).replace(Rm,"")}function py(r,o,c){r=At(r),o=We(o);var d=r.length;c=c===e?d:wi(ut(c),0,d);var _=c;return c-=o.length,c>=0&&r.slice(c,_)==o}function my(r){return r=At(r),r&&jp.test(r)?r.replace(tu,s_):r}function _y(r){return r=At(r),r&&nm.test(r)?r.replace(Ta,"\\$&"):r}var vy=ir(function(r,o,c){return r+(c?"-":"")+o.toLowerCase()}),by=ir(function(r,o,c){return r+(c?" ":"")+o.toLowerCase()}),xy=Mf("toLowerCase");function yy(r,o,c){r=At(r),o=ut(o);var d=o?ji(r):0;if(!o||d>=o)return r;var _=(o-d)/2;return ro(Vs(_),c)+r+ro(Us(_),c)}function wy(r,o,c){r=At(r),o=ut(o);var d=o?ji(r):0;return o&&d<o?r+ro(o-d,c):r}function Sy(r,o,c){r=At(r),o=ut(o);var d=o?ji(r):0;return o&&d<o?ro(o-d,c)+r:r}function Cy(r,o,c){return c||o==null?o=0:o&&(o=+o),E_(At(r).replace(Aa,""),o||0)}function ky(r,o,c){return(c?we(r,o,c):o===e)?o=1:o=ut(o),al(At(r),o)}function Dy(){var r=arguments,o=At(r[0]);return r.length<3?o:o.replace(r[1],r[2])}var My=ir(function(r,o,c){return r+(c?"_":"")+o.toLowerCase()});function Ty(r,o,c){return c&&typeof c!="number"&&we(r,o,c)&&(o=c=e),c=c===e?V:c>>>0,c?(r=At(r),r&&(typeof o=="string"||o!=null&&!Ol(o))&&(o=We(o),!o&&Gi(r))?li(gn(r),0,c):r.split(o,c)):[]}var Ay=ir(function(r,o,c){return r+(c?" ":"")+Pl(o)});function Oy(r,o,c){return r=At(r),c=c==null?0:wi(ut(c),0,r.length),o=We(o),r.slice(c,c+o.length)==o}function Ey(r,o,c){var d=b.templateSettings;c&&we(r,o,c)&&(o=e),r=At(r),o=_o({},o,d,Lf);var _=_o({},o.imports,d.imports,Lf),x=ae(_),C=Ua(_,x),D,A,W=0,z=o.interpolate||As,H="__p += '",X=Xa((o.escape||As).source+"|"+z.source+"|"+(z===eu?um:As).source+"|"+(o.evaluate||As).source+"|$","g"),Z="//# sourceURL="+(Ot.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Nm+"]")+`
`;r.replace(X,function(tt,pt,yt,Ne,Se,He){return yt||(yt=Ne),H+=r.slice(W,He).replace(_m,o_),pt&&(D=!0,H+=`' +
__e(`+pt+`) +
'`),Se&&(A=!0,H+=`';
`+Se+`;
__p += '`),yt&&(H+=`' +
((__t = (`+yt+`)) == null ? '' : __t) +
'`),W=He+tt.length,tt}),H+=`';
`;var Q=Ot.call(o,"variable")&&o.variable;if(!Q)H=`with (obj) {
`+H+`
}
`;else if(lm.test(Q))throw new it(u);H=(A?H.replace(Xp,""):H).replace(qp,"$1").replace(Kp,"$1;"),H="function("+(Q||"obj")+`) {
`+(Q?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(D?", __e = _.escape":"")+(A?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+H+`return __p
}`;var ht=Dh(function(){return kt(x,Z+"return "+H).apply(e,C)});if(ht.source=H,Al(ht))throw ht;return ht}function Iy(r){return At(r).toLowerCase()}function Py(r){return At(r).toUpperCase()}function Ly(r,o,c){if(r=At(r),r&&(c||o===e))return Lu(r);if(!r||!(o=We(o)))return r;var d=gn(r),_=gn(o),x=Ru(d,_),C=Fu(d,_)+1;return li(d,x,C).join("")}function Ry(r,o,c){if(r=At(r),r&&(c||o===e))return r.slice(0,Wu(r)+1);if(!r||!(o=We(o)))return r;var d=gn(r),_=Fu(d,gn(o))+1;return li(d,0,_).join("")}function Fy(r,o,c){if(r=At(r),r&&(c||o===e))return r.replace(Aa,"");if(!r||!(o=We(o)))return r;var d=gn(r),_=Ru(d,gn(o));return li(d,_).join("")}function By(r,o){var c=G,d=q;if(Xt(o)){var _="separator"in o?o.separator:_;c="length"in o?ut(o.length):c,d="omission"in o?We(o.omission):d}r=At(r);var x=r.length;if(Gi(r)){var C=gn(r);x=C.length}if(c>=x)return r;var D=c-ji(d);if(D<1)return d;var A=C?li(C,0,D).join(""):r.slice(0,D);if(_===e)return A+d;if(C&&(D+=A.length-D),Ol(_)){if(r.slice(D).search(_)){var W,z=A;for(_.global||(_=Xa(_.source,At(nu.exec(_))+"g")),_.lastIndex=0;W=_.exec(z);)var H=W.index;A=A.slice(0,H===e?D:H)}}else if(r.indexOf(We(_),D)!=D){var X=A.lastIndexOf(_);X>-1&&(A=A.slice(0,X))}return A+d}function Wy(r){return r=At(r),r&&Gp.test(r)?r.replace(Qc,d_):r}var zy=ir(function(r,o,c){return r+(c?" ":"")+o.toUpperCase()}),Pl=Mf("toUpperCase");function kh(r,o,c){return r=At(r),o=c?e:o,o===e?l_(r)?m_(r):Qm(r):r.match(o)||[]}var Dh=dt(function(r,o){try{return Fe(r,e,o)}catch(c){return Al(c)?c:new it(c)}}),Ny=$n(function(r,o){return Ge(o,function(c){c=Dn(c),Nn(r,c,Ml(r[c],r))}),r});function Hy(r){var o=r==null?0:r.length,c=J();return r=o?Ut(r,function(d){if(typeof d[1]!="function")throw new je(l);return[c(d[0]),d[1]]}):[],dt(function(d){for(var _=-1;++_<o;){var x=r[_];if(Fe(x[0],this,d))return Fe(x[1],this,d)}})}function $y(r){return dv(Je(r,m))}function Ll(r){return function(){return r}}function Yy(r,o){return r==null||r!==r?o:r}var Uy=Af(),Vy=Af(!0);function Ae(r){return r}function Rl(r){return sf(typeof r=="function"?r:Je(r,m))}function Xy(r){return af(Je(r,m))}function qy(r,o){return lf(r,Je(o,m))}var Ky=dt(function(r,o){return function(c){return Fr(c,r,o)}}),Gy=dt(function(r,o){return function(c){return Fr(r,c,o)}});function Fl(r,o,c){var d=ae(o),_=Zs(o,d);c==null&&!(Xt(o)&&(_.length||!d.length))&&(c=o,o=r,r=this,_=Zs(o,ae(o)));var x=!(Xt(c)&&"chain"in c)||!!c.chain,C=Un(r);return Ge(_,function(D){var A=o[D];r[D]=A,C&&(r.prototype[D]=function(){var W=this.__chain__;if(x||W){var z=r(this.__wrapped__),H=z.__actions__=De(this.__actions__);return H.push({func:A,args:arguments,thisArg:r}),z.__chain__=W,z}return A.apply(r,ni([this.value()],arguments))})}),r}function jy(){return ue._===this&&(ue._=w_),this}function Bl(){}function Zy(r){return r=ut(r),dt(function(o){return cf(o,r)})}var Jy=gl(Ut),Qy=gl(Au),tw=gl(za);function Mh(r){return yl(r)?Na(Dn(r)):Ov(r)}function ew(r){return function(o){return r==null?e:Si(r,o)}}var nw=Ef(),iw=Ef(!0);function Wl(){return[]}function zl(){return!1}function rw(){return{}}function sw(){return""}function ow(){return!0}function aw(r,o){if(r=ut(r),r<1||r>Ct)return[];var c=V,d=pe(r,V);o=J(o),r-=V;for(var _=Ya(d,o);++c<r;)o(c);return _}function lw(r){return lt(r)?Ut(r,Dn):ze(r)?[r]:De(qf(At(r)))}function cw(r){var o=++x_;return At(r)+o}var uw=io(function(r,o){return r+o},0),fw=pl("ceil"),hw=io(function(r,o){return r/o},1),dw=pl("floor");function gw(r){return r&&r.length?js(r,Ae,tl):e}function pw(r,o){return r&&r.length?js(r,J(o,2),tl):e}function mw(r){return Iu(r,Ae)}function _w(r,o){return Iu(r,J(o,2))}function vw(r){return r&&r.length?js(r,Ae,rl):e}function bw(r,o){return r&&r.length?js(r,J(o,2),rl):e}var xw=io(function(r,o){return r*o},1),yw=pl("round"),ww=io(function(r,o){return r-o},0);function Sw(r){return r&&r.length?$a(r,Ae):0}function Cw(r,o){return r&&r.length?$a(r,J(o,2)):0}return b.after=X0,b.ary=rh,b.assign=Px,b.assignIn=vh,b.assignInWith=_o,b.assignWith=Lx,b.at=Rx,b.before=sh,b.bind=Ml,b.bindAll=Ny,b.bindKey=oh,b.castArray=rx,b.chain=eh,b.chunk=db,b.compact=gb,b.concat=pb,b.cond=Hy,b.conforms=$y,b.constant=Ll,b.countBy=S0,b.create=Fx,b.curry=ah,b.curryRight=lh,b.debounce=ch,b.defaults=Bx,b.defaultsDeep=Wx,b.defer=q0,b.delay=K0,b.difference=mb,b.differenceBy=_b,b.differenceWith=vb,b.drop=bb,b.dropRight=xb,b.dropRightWhile=yb,b.dropWhile=wb,b.fill=Sb,b.filter=k0,b.flatMap=T0,b.flatMapDeep=A0,b.flatMapDepth=O0,b.flatten=Zf,b.flattenDeep=Cb,b.flattenDepth=kb,b.flip=G0,b.flow=Uy,b.flowRight=Vy,b.fromPairs=Db,b.functions=Vx,b.functionsIn=Xx,b.groupBy=E0,b.initial=Tb,b.intersection=Ab,b.intersectionBy=Ob,b.intersectionWith=Eb,b.invert=Kx,b.invertBy=Gx,b.invokeMap=P0,b.iteratee=Rl,b.keyBy=L0,b.keys=ae,b.keysIn=Te,b.map=uo,b.mapKeys=Zx,b.mapValues=Jx,b.matches=Xy,b.matchesProperty=qy,b.memoize=ho,b.merge=Qx,b.mergeWith=bh,b.method=Ky,b.methodOf=Gy,b.mixin=Fl,b.negate=go,b.nthArg=Zy,b.omit=ty,b.omitBy=ey,b.once=j0,b.orderBy=R0,b.over=Jy,b.overArgs=Z0,b.overEvery=Qy,b.overSome=tw,b.partial=Tl,b.partialRight=uh,b.partition=F0,b.pick=ny,b.pickBy=xh,b.property=Mh,b.propertyOf=ew,b.pull=Rb,b.pullAll=Qf,b.pullAllBy=Fb,b.pullAllWith=Bb,b.pullAt=Wb,b.range=nw,b.rangeRight=iw,b.rearg=J0,b.reject=z0,b.remove=zb,b.rest=Q0,b.reverse=kl,b.sampleSize=H0,b.set=ry,b.setWith=sy,b.shuffle=$0,b.slice=Nb,b.sortBy=V0,b.sortedUniq=qb,b.sortedUniqBy=Kb,b.split=Ty,b.spread=tx,b.tail=Gb,b.take=jb,b.takeRight=Zb,b.takeRightWhile=Jb,b.takeWhile=Qb,b.tap=g0,b.throttle=ex,b.thru=co,b.toArray=ph,b.toPairs=yh,b.toPairsIn=wh,b.toPath=lw,b.toPlainObject=_h,b.transform=oy,b.unary=nx,b.union=t0,b.unionBy=e0,b.unionWith=n0,b.uniq=i0,b.uniqBy=r0,b.uniqWith=s0,b.unset=ay,b.unzip=Dl,b.unzipWith=th,b.update=ly,b.updateWith=cy,b.values=or,b.valuesIn=uy,b.without=o0,b.words=kh,b.wrap=ix,b.xor=a0,b.xorBy=l0,b.xorWith=c0,b.zip=u0,b.zipObject=f0,b.zipObjectDeep=h0,b.zipWith=d0,b.entries=yh,b.entriesIn=wh,b.extend=vh,b.extendWith=_o,Fl(b,b),b.add=uw,b.attempt=Dh,b.camelCase=gy,b.capitalize=Sh,b.ceil=fw,b.clamp=fy,b.clone=sx,b.cloneDeep=ax,b.cloneDeepWith=lx,b.cloneWith=ox,b.conformsTo=cx,b.deburr=Ch,b.defaultTo=Yy,b.divide=hw,b.endsWith=py,b.eq=mn,b.escape=my,b.escapeRegExp=_y,b.every=C0,b.find=D0,b.findIndex=Gf,b.findKey=zx,b.findLast=M0,b.findLastIndex=jf,b.findLastKey=Nx,b.floor=dw,b.forEach=nh,b.forEachRight=ih,b.forIn=Hx,b.forInRight=$x,b.forOwn=Yx,b.forOwnRight=Ux,b.get=El,b.gt=ux,b.gte=fx,b.has=qx,b.hasIn=Il,b.head=Jf,b.identity=Ae,b.includes=I0,b.indexOf=Mb,b.inRange=hy,b.invoke=jx,b.isArguments=Di,b.isArray=lt,b.isArrayBuffer=hx,b.isArrayLike=Me,b.isArrayLikeObject=Qt,b.isBoolean=dx,b.isBuffer=ci,b.isDate=gx,b.isElement=px,b.isEmpty=mx,b.isEqual=_x,b.isEqualWith=vx,b.isError=Al,b.isFinite=bx,b.isFunction=Un,b.isInteger=fh,b.isLength=po,b.isMap=hh,b.isMatch=xx,b.isMatchWith=yx,b.isNaN=wx,b.isNative=Sx,b.isNil=kx,b.isNull=Cx,b.isNumber=dh,b.isObject=Xt,b.isObjectLike=Gt,b.isPlainObject=$r,b.isRegExp=Ol,b.isSafeInteger=Dx,b.isSet=gh,b.isString=mo,b.isSymbol=ze,b.isTypedArray=sr,b.isUndefined=Mx,b.isWeakMap=Tx,b.isWeakSet=Ax,b.join=Ib,b.kebabCase=vy,b.last=tn,b.lastIndexOf=Pb,b.lowerCase=by,b.lowerFirst=xy,b.lt=Ox,b.lte=Ex,b.max=gw,b.maxBy=pw,b.mean=mw,b.meanBy=_w,b.min=vw,b.minBy=bw,b.stubArray=Wl,b.stubFalse=zl,b.stubObject=rw,b.stubString=sw,b.stubTrue=ow,b.multiply=xw,b.nth=Lb,b.noConflict=jy,b.noop=Bl,b.now=fo,b.pad=yy,b.padEnd=wy,b.padStart=Sy,b.parseInt=Cy,b.random=dy,b.reduce=B0,b.reduceRight=W0,b.repeat=ky,b.replace=Dy,b.result=iy,b.round=yw,b.runInContext=T,b.sample=N0,b.size=Y0,b.snakeCase=My,b.some=U0,b.sortedIndex=Hb,b.sortedIndexBy=$b,b.sortedIndexOf=Yb,b.sortedLastIndex=Ub,b.sortedLastIndexBy=Vb,b.sortedLastIndexOf=Xb,b.startCase=Ay,b.startsWith=Oy,b.subtract=ww,b.sum=Sw,b.sumBy=Cw,b.template=Ey,b.times=aw,b.toFinite=Vn,b.toInteger=ut,b.toLength=mh,b.toLower=Iy,b.toNumber=en,b.toSafeInteger=Ix,b.toString=At,b.toUpper=Py,b.trim=Ly,b.trimEnd=Ry,b.trimStart=Fy,b.truncate=By,b.unescape=Wy,b.uniqueId=cw,b.upperCase=zy,b.upperFirst=Pl,b.each=nh,b.eachRight=ih,b.first=Jf,Fl(b,function(){var r={};return Cn(b,function(o,c){Ot.call(b.prototype,c)||(r[c]=o)}),r}(),{chain:!1}),b.VERSION=i,Ge(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){b[r].placeholder=b}),Ge(["drop","take"],function(r,o){_t.prototype[r]=function(c){c=c===e?1:se(ut(c),0);var d=this.__filtered__&&!o?new _t(this):this.clone();return d.__filtered__?d.__takeCount__=pe(c,d.__takeCount__):d.__views__.push({size:pe(c,V),type:r+(d.__dir__<0?"Right":"")}),d},_t.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),Ge(["filter","map","takeWhile"],function(r,o){var c=o+1,d=c==vt||c==ft;_t.prototype[r]=function(_){var x=this.clone();return x.__iteratees__.push({iteratee:J(_,3),type:c}),x.__filtered__=x.__filtered__||d,x}}),Ge(["head","last"],function(r,o){var c="take"+(o?"Right":"");_t.prototype[r]=function(){return this[c](1).value()[0]}}),Ge(["initial","tail"],function(r,o){var c="drop"+(o?"":"Right");_t.prototype[r]=function(){return this.__filtered__?new _t(this):this[c](1)}}),_t.prototype.compact=function(){return this.filter(Ae)},_t.prototype.find=function(r){return this.filter(r).head()},_t.prototype.findLast=function(r){return this.reverse().find(r)},_t.prototype.invokeMap=dt(function(r,o){return typeof r=="function"?new _t(this):this.map(function(c){return Fr(c,r,o)})}),_t.prototype.reject=function(r){return this.filter(go(J(r)))},_t.prototype.slice=function(r,o){r=ut(r);var c=this;return c.__filtered__&&(r>0||o<0)?new _t(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),o!==e&&(o=ut(o),c=o<0?c.dropRight(-o):c.take(o-r)),c)},_t.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},_t.prototype.toArray=function(){return this.take(V)},Cn(_t.prototype,function(r,o){var c=/^(?:filter|find|map|reject)|While$/.test(o),d=/^(?:head|last)$/.test(o),_=b[d?"take"+(o=="last"?"Right":""):o],x=d||/^find/.test(o);_&&(b.prototype[o]=function(){var C=this.__wrapped__,D=d?[1]:arguments,A=C instanceof _t,W=D[0],z=A||lt(C),H=function(pt){var yt=_.apply(b,ni([pt],D));return d&&X?yt[0]:yt};z&&c&&typeof W=="function"&&W.length!=1&&(A=z=!1);var X=this.__chain__,Z=!!this.__actions__.length,Q=x&&!X,ht=A&&!Z;if(!x&&z){C=ht?C:new _t(this);var tt=r.apply(C,D);return tt.__actions__.push({func:co,args:[H],thisArg:e}),new Ze(tt,X)}return Q&&ht?r.apply(this,D):(tt=this.thru(H),Q?d?tt.value()[0]:tt.value():tt)})}),Ge(["pop","push","shift","sort","splice","unshift"],function(r){var o=Rs[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",d=/^(?:pop|shift)$/.test(r);b.prototype[r]=function(){var _=arguments;if(d&&!this.__chain__){var x=this.value();return o.apply(lt(x)?x:[],_)}return this[c](function(C){return o.apply(lt(C)?C:[],_)})}}),Cn(_t.prototype,function(r,o){var c=b[o];if(c){var d=c.name+"";Ot.call(tr,d)||(tr[d]=[]),tr[d].push({name:o,func:c})}}),tr[no(e,k).name]=[{name:"wrapper",func:e}],_t.prototype.clone=W_,_t.prototype.reverse=z_,_t.prototype.value=N_,b.prototype.at=p0,b.prototype.chain=m0,b.prototype.commit=_0,b.prototype.next=v0,b.prototype.plant=x0,b.prototype.reverse=y0,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=w0,b.prototype.first=b.prototype.head,Ar&&(b.prototype[Ar]=b0),b},Zi=__();vi?((vi.exports=Zi)._=Zi,Ra._=Zi):ue._=Zi}).call(tS)}(Gr,Gr.exports)),Gr.exports}eS();async function nS(n,t){try{console.log(`開始抓取股票 ${n} 的資料...`);const e=await Cg.get(`stocks/${n}/all.json`);if(e.data){let i=e.data;if(t&&(i=e.data.filter(h=>Wt(h.date,"YYYYMMDD").isAfter(Wt(t)))),!i||i.length===0)return console.warn(`股票 ${n} 無新資料`),null;let s=Wt().format("YYYY-MM-DD HH:mm:ss"),a=null,l=null;const u=i[i.length-1];a=Wt(u[0],"YYYYMMDD").format("YYYY-MM-DD"),l=u[4];const f={fetchedAt:s,lastPrice:l,lastPriceDate:a,newDailyData:i};return console.log(`成功抓取股票 ${n} 資料`,f),f}return console.warn(`股票 ${n} 無資料回傳`),null}catch(e){return console.error(`抓取股票 ${n} 失敗:`,e),null}}Xw().catch(console.error);async function iS(){return await Sg("user-stock-info")}async function Ul(n){return await Oc("user-stock-info",n)}async function rS(n){return await qw("user-stock-info",n)}async function sS(){return await Kw("user-stock-info")}const oS=()=>new Worker(new URL("/iKDx/assets/calc-weekly-policy-worker-Cj4HgE7g.js",import.meta.url),{type:"module"}),aS=()=>new Worker(new URL("/iKDx/assets/calc-trade-worker-CrgyXrUO.js",import.meta.url),{type:"module"}),lS=()=>new Worker(new URL("/iKDx/assets/calc-trend-chart-worker-CcvYD_4Q.js",import.meta.url),{type:"module"}),cS=Ic.getPool("policy",oS,4),uS=Ic.getPool("trade",aS,4),fS=Ic.getPool("trend",lS,4),Lc=Gw("userStockList",()=>{const n=Yt([]);function t(p){const v=n.value.findIndex(S=>S.id===p);return{foundStock:v!==-1?n.value[v]:null,foundStockIndex:v}}async function e(p=null,v={}){const{updateIndexedDB:S=!0}=v;let y=[],w=[];if(p===null)y=n.value,w=n.value.map((O,I)=>I);else if(typeof p=="string"){const{foundStock:O,foundStockIndex:I}=t(p);if(!O){console.warn(`找不到股票 ${p}`);return}y=[O],w=[I]}else if(Array.isArray(p))y=[],w=[],p.forEach(O=>{const{foundStock:I,foundStockIndex:E}=t(O);I&&(y.push(I),w.push(E))});else{console.warn("stockIds 參數格式錯誤");return}if(y.length===0){console.log("無股票需要更新價格");return}console.log(`開始更新 ${y.length} 支股票價格...`);const k=y.map(async(O,I)=>{try{const E=await nS(O.id,O.lastPriceDate);if(E){const M=w[I],R=await i(O.id,E,({symbol:L,step:$,totalSteps:G,message:q})=>{console.log(`股票 ${L}: ${q} (${$}/${G})`)});let B={...n.value[M],fetchedAt:E.fetchedAt,lastPrice:E.lastPrice,lastPriceDate:E.lastPriceDate};if(R&&(B={...B,data:{weekly:R.policyResult?.weekly||[],weeklyKdj:R.policyResult?.weeklyKdj||[],weeklyRsi:R.policyResult?.weeklyRsi||[]}}),typeof p=="string"&&S){const L=JSON.parse(JSON.stringify(B));Ul(L).catch($=>{console.error(`儲存股票 ${O.id} 到 IndexedDB 失敗:`,$)})}n.value[M]=B}}catch(E){console.error(`股票 ${O.id} 更新失敗:`,E)}});await Promise.all(k),typeof p!="string"&&S&&await h(),console.log(`${y.length} 支股票更新完成`)}async function i(p,v,S=()=>{}){try{S({symbol:p,step:1,totalSteps:3,message:"計算週線與技術指標..."});const[y,w]=await Promise.all([cS.executeTask("processPolicy",{newDailyData:v.newDailyData||[],stockId:p,type:"priceChange"}),uS.executeTask("calculateTrade",{stockData:v.newDailyData||[],tradeParams:{}})]);console.log("policyResult",y),S({symbol:p,step:2,totalSteps:3,message:"平行計算完成，開始計算訊號..."});const k=await fS.executeTask("calculateTrend",{stockData:v.newDailyData||[],trendParams:{policyResult:y,tradeResult:w}});return S({symbol:p,step:3,totalSteps:3,message:"計算完成"}),{stockId:p,policyResult:y}}catch(y){return console.error(`股票 ${p} Worker 計算失敗:`,y),null}}async function s(){try{console.log("開始載入使用者股票清單...");const p=await iS();return console.log("從 IndexedDB 載入的股票:",p),p&&p.length>0&&(n.value=p),n.value}catch(p){return console.error("載入使用者股票清單失敗:",p),n.value}}async function a(p){if(console.log("開始新增股票:",p),n.value.find(y=>y.id===p.id))return console.log("股票已存在，取消新增"),{success:!1,message:"股票已存在於清單中"};const S={...p,industryCategory:Array.from(p.industryCategory||[]),addedAt:Wt().format("YYYY-MM-DD HH:mm:ss")};console.log("新增股票到 Pinia store:",S),n.value.push(S);try{return console.log("準備儲存股票到 user-stock-info:",S),await Ul(S),console.log("股票已成功儲存到 user-stock-info"),e(p.id).catch(y=>{console.error(`背景更新股票 ${p.id} 價格失敗:`,y)}),{success:!0,message:"股票已新增至清單"}}catch(y){return console.error("儲存股票失敗:",y),n.value=n.value.filter(w=>w.id!==p.id),{success:!1,message:"新增失敗，請稍後再試"}}}async function l(p){try{return await rS(p),n.value=n.value.filter(v=>v.id!==p),{success:!0,message:"股票已從清單中移除"}}catch(v){return console.error("移除股票失敗:",v),{success:!1,message:"移除失敗，請稍後再試"}}}function u(p){return n.value.some(v=>v.id===p)}async function f(p){n.value=p,await h()}async function h(){try{await sS();for(const p of n.value){const v=JSON.parse(JSON.stringify(p));await Ul(v)}}catch(p){console.error("儲存股票排序失敗:",p)}}async function g(p){const v=await J1(p);v&&(n.value.find(y=>y.id===v.id)||n.value.push(v))}async function m(p){const v=n.value.find(S=>S.id===p);v&&await Q1(v)}return{userStockList:n,loadUserStockList:s,addStockToList:a,removeStockFromList:l,isStockInList:u,reorderStockList:f,loadStockToList:g,saveStockToList:m,updateStockListPrices:e}}),hS={style:{display:"flex","flex-direction":"column",height:"100%","min-height":"60vh"}},dS={style:{flex:"1 1 auto"}},gS={style:{display:"flex",gap:"8px","flex-wrap":"wrap","justify-content":"center","margin-bottom":"24px"}},pS=["onClick"],mS={key:0,style:{"margin-top":"12px"}},_S={key:0},vS={key:0,style:{background:"#fff783","border-radius":"12px","box-shadow":"0 2px 8px #0001",padding:"10px","margin-bottom":"12px",display:"flex","align-items":"center","min-height":"56px",opacity:"0.6"}},bS={style:{"font-size":"17px","font-weight":"bold",color:"#222","margin-right":"16px","min-width":"60px"}},xS={style:{"font-size":"16px",color:"#333",flex:"1"}},yS=["onClick"],wS={style:{"font-size":"17px","font-weight":"bold",color:"#222","margin-right":"16px","min-width":"60px"}},SS={style:{"font-size":"16px",color:"#333",flex:"1"}},CS={key:1,style:{color:"#999","text-align":"center","margin-top":"16px"}},kS={__name:"StockSearch",setup(n){const t=Lc(),e=kg("stock-search"),i=Yt(!1);mi(()=>{e.on(y=>{i.value=y})}),Dg(()=>{e.reset()});const s=Yt(),a=Yt(""),l=Yt([]),u=["台積電","鴻海","聯發科","長榮","中鋼"],f={background:"#fff",color:"#878787",borderRadius:"16px",padding:"4px 16px",fontSize:"15px",cursor:"pointer",userSelect:"none",fontWeight:"500",transition:"background 0.2s, color 0.2s"},h={background:"#ffe066",color:"#222",fontWeight:"bold",boxShadow:"0 0 0 2px #ffe06688"};function g(y){return a.value===y?{...f,...h}:f}function m(){Xe(()=>{const y=s.value?.$el?.querySelector("input");y&&y.focus()})}En(()=>i.value,y=>{y&&setTimeout(()=>{m()},300)}),En(()=>a.value,async y=>{if(console.log("localSearch 更新:",y),!y||y.length<1){l.value=[];return}console.log("觸發 getAllStocks");try{const w=await Z1();console.log("getAllStocks 執行成功",w),l.value=w.filter(k=>k.name.includes(y)||k.id.includes(y)),console.log("搜尋結果:",l.value)}catch(w){console.error("getAllStocks 執行失敗:",w)}});function p(y){}function v(y){console.log("點擊熱門標籤:",y),a.value=y}async function S(y){const w=await t.addStockToList(y);Ii({message:w.message,type:w.success?"success":"fail"})}return(y,w)=>(Ie(),Mg(ve(X1),{show:i.value,"onUpdate:show":w[3]||(w[3]=k=>ve(e).emit(!1)),"cancel-text":"離開",options:[],style:{"--van-share-sheet-header-padding":"24px 24px 0 24px"}},{title:on(()=>w[4]||(w[4]=[gt("div",{style:{"font-size":"18px","font-weight":"bold","letter-spacing":"1px","text-align":"center","margin-top":"0","margin-bottom":"0",color:"#222","line-height":"1.2"}}," 股票搜尋 ",-1)])),description:on(()=>[gt("div",hS,[gt("div",dS,[gt("div",null,[Y(ve(W1),{ref_key:"searchInputRef",ref:s,modelValue:a.value,"onUpdate:modelValue":w[0]||(w[0]=k=>a.value=k),placeholder:"請輸入股票名稱或代碼","action-text":"",style:{"--van-search-input-height":"48px","font-size":"18px"},onSearch:p},null,8,["modelValue"])]),gt("div",null,[w[6]||(w[6]=gt("div",{style:{display:"flex","align-items":"center",margin:"0 0 10px 0"}},[gt("div",{style:{"margin-left":"16px","font-size":"16px",color:"#222","font-weight":"bold","letter-spacing":"1px"}}," | 熱門股票 ")],-1)),gt("div",gS,[(Ie(),ln(Nl,null,Eh(u,k=>gt("span",{key:k,onClick:O=>v(k),style:Tg(g(k))},Pe(k),13,pS)),64))]),a.value&&a.value.length>=1?(Ie(),ln("div",mS,[l.value.length?(Ie(),ln("div",_S,[(Ie(!0),ln(Nl,null,Eh(l.value,k=>(Ie(),ln(Nl,{key:k.id},[ve(t).isStockInList(k.id)?(Ie(),ln("div",vS,[gt("div",bS,Pe(k.id),1),gt("div",xS,Pe(k.name),1),w[5]||(w[5]=gt("div",{style:{"margin-left":"12px","min-width":"60px",height:"40px",background:"#e0e0e0",color:"#666","font-weight":"bold","font-size":"16px","border-radius":"8px",width:"64px",display:"flex","align-items":"center","justify-content":"center"}}," 已新增 ",-1))])):(Ie(),ln("div",{key:1,onClick:O=>S(k),style:{background:"#fff","border-radius":"12px","box-shadow":"0 2px 8px #0001",padding:"10px","margin-bottom":"12px",display:"flex","align-items":"center","min-height":"56px",cursor:"pointer",transition:"all 0.2s ease"},onMouseenter:w[1]||(w[1]=O=>O.target.style.background="#f8f9fa"),onMouseleave:w[2]||(w[2]=O=>O.target.style.background="#fff")},[gt("div",wS,Pe(k.id),1),gt("div",SS,Pe(k.name),1)],40,yS))],64))),128))])):(Ie(),ln("div",CS," 查無資料 "))])):jw("",!0)])])])]),_:1},8,["show"]))}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ks(n){return n+.5|0}const di=(n,t,e)=>Math.max(Math.min(n,e),t);function jr(n){return di(ks(n*2.55),0,255)}function pi(n){return di(ks(n*255),0,255)}function Zn(n){return di(ks(n/2.55)/100,0,1)}function Wh(n){return di(ks(n*100),0,100)}const sn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},pc=[..."0123456789ABCDEF"],DS=n=>pc[n&15],MS=n=>pc[(n&240)>>4]+pc[n&15],yo=n=>(n&240)>>4===(n&15),TS=n=>yo(n.r)&&yo(n.g)&&yo(n.b)&&yo(n.a);function AS(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&sn[n[1]]*17,g:255&sn[n[2]]*17,b:255&sn[n[3]]*17,a:t===5?sn[n[4]]*17:255}:(t===7||t===9)&&(e={r:sn[n[1]]<<4|sn[n[2]],g:sn[n[3]]<<4|sn[n[4]],b:sn[n[5]]<<4|sn[n[6]],a:t===9?sn[n[7]]<<4|sn[n[8]]:255})),e}const OS=(n,t)=>n<255?t(n):"";function ES(n){var t=TS(n)?DS:MS;return n?"#"+t(n.r)+t(n.g)+t(n.b)+OS(n.a,t):void 0}const IS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Fg(n,t,e){const i=t*Math.min(e,1-e),s=(a,l=(a+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function PS(n,t,e){const i=(s,a=(s+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function LS(n,t,e){const i=Fg(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function RS(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function Rc(n){const e=n.r/255,i=n.g/255,s=n.b/255,a=Math.max(e,i,s),l=Math.min(e,i,s),u=(a+l)/2;let f,h,g;return a!==l&&(g=a-l,h=u>.5?g/(2-a-l):g/(a+l),f=RS(e,i,s,g,a),f=f*60+.5),[f|0,h||0,u]}function Fc(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(pi)}function Bc(n,t,e){return Fc(Fg,n,t,e)}function FS(n,t,e){return Fc(LS,n,t,e)}function BS(n,t,e){return Fc(PS,n,t,e)}function Bg(n){return(n%360+360)%360}function WS(n){const t=IS.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?jr(+t[5]):pi(+t[5]));const s=Bg(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=FS(s,a,l):t[1]==="hsv"?i=BS(s,a,l):i=Bc(s,a,l),{r:i[0],g:i[1],b:i[2],a:e}}function zS(n,t){var e=Rc(n);e[0]=Bg(e[0]+t),e=Bc(e),n.r=e[0],n.g=e[1],n.b=e[2]}function NS(n){if(!n)return;const t=Rc(n),e=t[0],i=Wh(t[1]),s=Wh(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${Zn(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const zh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Nh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function HS(){const n={},t=Object.keys(Nh),e=Object.keys(zh);let i,s,a,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],s=0;s<e.length;s++)a=e[s],u=u.replace(a,zh[a]);a=parseInt(Nh[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let wo;function $S(n){wo||(wo=HS(),wo.transparent=[0,0,0,0]);const t=wo[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const YS=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function US(n){const t=YS.exec(n);let e=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?jr(l):di(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?jr(i):di(i,0,255)),s=255&(t[4]?jr(s):di(s,0,255)),a=255&(t[6]?jr(a):di(a,0,255)),{r:i,g:s,b:a,a:e}}}function VS(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Zn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Vl=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,cr=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function XS(n,t,e){const i=cr(Zn(n.r)),s=cr(Zn(n.g)),a=cr(Zn(n.b));return{r:pi(Vl(i+e*(cr(Zn(t.r))-i))),g:pi(Vl(s+e*(cr(Zn(t.g))-s))),b:pi(Vl(a+e*(cr(Zn(t.b))-a))),a:n.a+e*(t.a-n.a)}}function So(n,t,e){if(n){let i=Rc(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Bc(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Wg(n,t){return n&&Object.assign(t||{},n)}function Hh(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=pi(n[3]))):(t=Wg(n,{r:0,g:0,b:0,a:1}),t.a=pi(t.a)),t}function qS(n){return n.charAt(0)==="r"?US(n):WS(n)}class ms{constructor(t){if(t instanceof ms)return t;const e=typeof t;let i;e==="object"?i=Hh(t):e==="string"&&(i=AS(t)||$S(t)||qS(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Wg(this._rgb);return t&&(t.a=Zn(t.a)),t}set rgb(t){this._rgb=Hh(t)}rgbString(){return this._valid?VS(this._rgb):void 0}hexString(){return this._valid?ES(this._rgb):void 0}hslString(){return this._valid?NS(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let a;const l=e===a?.5:e,u=2*l-1,f=i.a-s.a,h=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;a=1-h,i.r=255&h*i.r+a*s.r+.5,i.g=255&h*i.g+a*s.g+.5,i.b=255&h*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=XS(this._rgb,t._rgb,e)),this}clone(){return new ms(this.rgb)}alpha(t){return this._rgb.a=pi(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=ks(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return So(this._rgb,2,t),this}darken(t){return So(this._rgb,2,-t),this}saturate(t){return So(this._rgb,1,t),this}desaturate(t){return So(this._rgb,1,-t),this}rotate(t){return zS(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Kn(){}const KS=(()=>{let n=0;return()=>n++})();function zt(n){return n==null}function le(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Mt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function fn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Mn(n,t){return fn(n)?n:t}function wt(n,t){return typeof n>"u"?t:n}const GS=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function $t(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Et(n,t,e,i){let s,a,l;if(le(n))for(a=n.length,s=0;s<a;s++)t.call(e,n[s],s);else if(Mt(n))for(l=Object.keys(n),a=l.length,s=0;s<a;s++)t.call(e,n[l[s]],l[s])}function ea(n,t){let e,i,s,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],a=t[e],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function na(n){if(le(n))return n.map(na);if(Mt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=na(n[e[s]]);return t}return n}function zg(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function jS(n,t,e,i){if(!zg(n))return;const s=t[n],a=e[n];Mt(s)&&Mt(a)?_s(s,a,i):t[n]=na(a)}function _s(n,t,e){const i=le(t)?t:[t],s=i.length;if(!Mt(n))return n;e=e||{};const a=e.merger||jS;let l;for(let u=0;u<s;++u){if(l=i[u],!Mt(l))continue;const f=Object.keys(l);for(let h=0,g=f.length;h<g;++h)a(f[h],n,l,e)}return n}function ss(n,t){return _s(n,t,{merger:ZS})}function ZS(n,t,e){if(!zg(n))return;const i=t[n],s=e[n];Mt(i)&&Mt(s)?ss(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=na(s))}const $h={"":n=>n,x:n=>n.x,y:n=>n.y};function JS(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function QS(n){const t=JS(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function ia(n,t){return($h[t]||($h[t]=QS(t)))(n)}function Wc(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ra=n=>typeof n<"u",_i=n=>typeof n=="function",Yh=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function tC(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ce=Math.PI,Pn=2*ce,eC=Pn+ce,sa=Number.POSITIVE_INFINITY,nC=ce/180,yn=ce/2,Mi=ce/4,Uh=ce*2/3,Ng=Math.log10,br=Math.sign;function os(n,t,e){return Math.abs(n-t)<e}function Vh(n){const t=Math.round(n);n=os(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Ng(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function iC(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,a)=>s-a).pop(),t}function rC(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function vs(n){return!rC(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function sC(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function oC(n,t,e){let i,s,a;for(i=0,s=n.length;i<s;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Fi(n){return n*(ce/180)}function aC(n){return n*(180/ce)}function Xh(n){if(!fn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function lC(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*ce&&(a+=Pn),{angle:a,distance:s}}function mc(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function cC(n,t){return(n-t+eC)%Pn-ce}function ui(n){return(n%Pn+Pn)%Pn}function Hg(n,t,e,i){const s=ui(n),a=ui(t),l=ui(e),u=ui(a-s),f=ui(l-s),h=ui(s-a),g=ui(s-l);return s===a||s===l||i&&a===l||u>f&&h<g}function cn(n,t,e){return Math.max(t,Math.min(e,n))}function uC(n){return cn(n,-32768,32767)}function Zr(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function zc(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,e(a)?s=a:i=a;return{lo:s,hi:i}}const Bi=(n,t,e,i)=>zc(n,e,i?s=>{const a=n[s][t];return a<e||a===e&&n[s+1][t]===e}:s=>n[s][t]<e),fC=(n,t,e)=>zc(n,e,i=>n[i][t]>=e);function hC(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const $g=["push","pop","shift","splice","unshift"];function dC(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),$g.forEach(e=>{const i="_onData"+Wc(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function qh(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&($g.forEach(a=>{delete n[a]}),delete n._chartjs)}function gC(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Yg=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Ug(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,Yg.call(window,()=>{i=!1,n.apply(t,e)}))}}function pC(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Nc=n=>n==="start"?"left":n==="end"?"right":"center",be=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,mC=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function _C(n,t,e){const i=t.length;let s=0,a=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:f}=n,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:m,max:p,minDefined:v,maxDefined:S}=l.getUserBounds();if(v){if(s=Math.min(Bi(f,g,m).lo,e?i:Bi(t,g,l.getPixelForValue(m)).lo),h){const y=f.slice(0,s+1).reverse().findIndex(w=>!zt(w[u.axis]));s-=Math.max(0,y)}s=cn(s,0,i-1)}if(S){let y=Math.max(Bi(f,l.axis,p,!0).hi+1,e?0:Bi(t,g,l.getPixelForValue(p),!0).hi+1);if(h){const w=f.slice(y-1).findIndex(k=>!zt(k[u.axis]));y+=Math.max(0,w)}a=cn(y,s,i)-s}else a=i-s}return{start:s,count:a}}function vC(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),a}const Co=n=>n===0||n===1,Kh=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Pn/e)),Gh=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Pn/e)+1,as={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*yn)+1,easeOutSine:n=>Math.sin(n*yn),easeInOutSine:n=>-.5*(Math.cos(ce*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Co(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Co(n)?n:Kh(n,.075,.3),easeOutElastic:n=>Co(n)?n:Gh(n,.075,.3),easeInOutElastic(n){return Co(n)?n:n<.5?.5*Kh(n*2,.1125,.45):.5+.5*Gh(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-as.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?as.easeInBounce(n*2)*.5:as.easeOutBounce(n*2-1)*.5+.5};function Hc(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function jh(n){return Hc(n)?n:new ms(n)}function Xl(n){return Hc(n)?n:new ms(n).saturate(.5).darken(.1).hexString()}const bC=["x","y","borderWidth","radius","tension"],xC=["color","borderColor","backgroundColor"];function yC(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:xC},numbers:{type:"number",properties:bC}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function wC(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Zh=new Map;function SC(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Zh.get(e);return i||(i=new Intl.NumberFormat(n,t),Zh.set(e,i)),i}function Vg(n,t,e){return SC(t,e).format(n)}const CC={values(n){return le(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,a=n;if(e.length>1){const h=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),a=kC(n,e)}const l=Ng(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),Vg(n,i,f)}};function kC(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Xg={formatters:CC};function DC(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ni=Object.create(null),_c=Object.create(null);function ls(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function ql(n,t,e){return typeof t=="string"?_s(ls(n,t),e):_s(ls(n,""),t)}class MC{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Xl(s.backgroundColor),this.hoverBorderColor=(i,s)=>Xl(s.borderColor),this.hoverColor=(i,s)=>Xl(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ql(this,t,e)}get(t){return ls(this,t)}describe(t,e){return ql(_c,t,e)}override(t,e){return ql(Ni,t,e)}route(t,e,i,s){const a=ls(this,t),l=ls(this,i),u="_"+e;Object.defineProperties(a,{[u]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],h=l[s];return Mt(f)?Object.assign({},h,f):wt(f,h)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var ee=new MC({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[yC,wC,DC]);function TC(n){return!n||zt(n.size)||zt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Jh(n,t,e,i,s){let a=t[s];return a||(a=t[s]=n.measureText(s).width,e.push(s)),a>i&&(i=a),i}function Ti(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function Qh(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function vc(n,t,e,i){qg(n,t,e,i,null)}function qg(n,t,e,i,s){let a,l,u,f,h,g,m,p;const v=t.pointStyle,S=t.rotation,y=t.radius;let w=(S||0)*nC;if(v&&typeof v=="object"&&(a=v.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(w),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(y)||y<=0)){switch(n.beginPath(),v){default:s?n.ellipse(e,i,s/2,y,0,0,Pn):n.arc(e,i,y,0,Pn),n.closePath();break;case"triangle":g=s?s/2:y,n.moveTo(e+Math.sin(w)*g,i-Math.cos(w)*y),w+=Uh,n.lineTo(e+Math.sin(w)*g,i-Math.cos(w)*y),w+=Uh,n.lineTo(e+Math.sin(w)*g,i-Math.cos(w)*y),n.closePath();break;case"rectRounded":h=y*.516,f=y-h,l=Math.cos(w+Mi)*f,m=Math.cos(w+Mi)*(s?s/2-h:f),u=Math.sin(w+Mi)*f,p=Math.sin(w+Mi)*(s?s/2-h:f),n.arc(e-m,i-u,h,w-ce,w-yn),n.arc(e+p,i-l,h,w-yn,w),n.arc(e+m,i+u,h,w,w+yn),n.arc(e-p,i+l,h,w+yn,w+ce),n.closePath();break;case"rect":if(!S){f=Math.SQRT1_2*y,g=s?s/2:f,n.rect(e-g,i-f,2*g,2*f);break}w+=Mi;case"rectRot":m=Math.cos(w)*(s?s/2:y),l=Math.cos(w)*y,u=Math.sin(w)*y,p=Math.sin(w)*(s?s/2:y),n.moveTo(e-m,i-u),n.lineTo(e+p,i-l),n.lineTo(e+m,i+u),n.lineTo(e-p,i+l),n.closePath();break;case"crossRot":w+=Mi;case"cross":m=Math.cos(w)*(s?s/2:y),l=Math.cos(w)*y,u=Math.sin(w)*y,p=Math.sin(w)*(s?s/2:y),n.moveTo(e-m,i-u),n.lineTo(e+m,i+u),n.moveTo(e+p,i-l),n.lineTo(e-p,i+l);break;case"star":m=Math.cos(w)*(s?s/2:y),l=Math.cos(w)*y,u=Math.sin(w)*y,p=Math.sin(w)*(s?s/2:y),n.moveTo(e-m,i-u),n.lineTo(e+m,i+u),n.moveTo(e+p,i-l),n.lineTo(e-p,i+l),w+=Mi,m=Math.cos(w)*(s?s/2:y),l=Math.cos(w)*y,u=Math.sin(w)*y,p=Math.sin(w)*(s?s/2:y),n.moveTo(e-m,i-u),n.lineTo(e+m,i+u),n.moveTo(e+p,i-l),n.lineTo(e-p,i+l);break;case"line":l=s?s/2:Math.cos(w)*y,u=Math.sin(w)*y,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(w)*(s?s/2:y),i+Math.sin(w)*y);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function bs(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function $c(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Yc(n){n.restore()}function AC(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function OC(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function EC(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),zt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function IC(n,t,e,i,s){if(s.strikethrough||s.underline){const a=n.measureText(i),l=t-a.actualBoundingBoxLeft,u=t+a.actualBoundingBoxRight,f=e-a.actualBoundingBoxAscent,h=e+a.actualBoundingBoxDescent,g=s.strikethrough?(f+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function PC(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function xs(n,t,e,i,s,a={}){const l=le(t)?t:[t],u=a.strokeWidth>0&&a.strokeColor!=="";let f,h;for(n.save(),n.font=s.string,EC(n,a),f=0;f<l.length;++f)h=l[f],a.backdrop&&PC(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),zt(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(h,e,i,a.maxWidth)),n.fillText(h,e,i,a.maxWidth),IC(n,e,i,h,a),i+=Number(s.lineHeight);n.restore()}function bc(n,t){const{x:e,y:i,w:s,h:a,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*ce,ce,!0),n.lineTo(e,i+a-l.bottomLeft),n.arc(e+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,ce,yn,!0),n.lineTo(e+s-l.bottomRight,i+a),n.arc(e+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,yn,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-yn,!0),n.lineTo(e+l.topLeft,i)}const LC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,RC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function FC(n,t){const e=(""+n).match(LC);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const BC=n=>+n||0;function Kg(n,t){const e={},i=Mt(t),s=i?Object.keys(t):t,a=Mt(n)?i?l=>wt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=BC(a(l));return e}function WC(n){return Kg(n,{top:"y",right:"x",bottom:"y",left:"x"})}function cs(n){return Kg(n,["topLeft","topRight","bottomLeft","bottomRight"])}function hn(n){const t=WC(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function xe(n,t){n=n||{},t=t||ee.font;let e=wt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=wt(n.style,t.style);i&&!(""+i).match(RC)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:wt(n.family,t.family),lineHeight:FC(wt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:wt(n.weight,t.weight),string:""};return s.string=TC(s),s}function ko(n,t,e,i){let s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function zC(n,t,e){const{min:i,max:s}=n,a=GS(t,(s-i)/2),l=(u,f)=>e&&u===0?0:u+f;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function $i(n,t){return Object.assign(Object.create(n),t)}function Uc(n,t=[""],e,i,s=()=>n[0]){const a=e||n;typeof i>"u"&&(i=Jg("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:s,override:u=>Uc([u,...n],t,a,i)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return jg(u,f,()=>qC(f,t,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return ed(u).includes(f)},ownKeys(u){return ed(u)},set(u,f,h){const g=u._storage||(u._storage=s());return u[f]=g[f]=h,delete u._keys,!0}})}function xr(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Gg(n,i),setContext:a=>xr(n,a,e,i),override:a=>xr(n.override(a),t,e,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return jg(a,l,()=>HC(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function Gg(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:_i(e)?e:()=>e,isIndexable:_i(i)?i:()=>i}}const NC=(n,t)=>n?n+Wc(t):t,Vc=(n,t)=>Mt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function jg(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function HC(n,t,e){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;let u=i[t];return _i(u)&&l.isScriptable(t)&&(u=$C(t,u,n,e)),le(u)&&u.length&&(u=YC(t,u,n,l.isIndexable)),Vc(t,u)&&(u=xr(u,s,a&&a[t],l)),u}function $C(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(a,l||i);return u.delete(n),Vc(n,f)&&(f=Xc(s._scopes,s,n,f)),f}function YC(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:u}=e;if(typeof a.index<"u"&&i(n))return t[a.index%t.length];if(Mt(t[0])){const f=t,h=s._scopes.filter(g=>g!==f);t=[];for(const g of f){const m=Xc(h,s,n,g);t.push(xr(m,a,l&&l[n],u))}}return t}function Zg(n,t,e){return _i(n)?n(t,e):n}const UC=(n,t)=>n===!0?t:typeof n=="string"?ia(t,n):void 0;function VC(n,t,e,i,s){for(const a of t){const l=UC(e,a);if(l){n.add(l);const u=Zg(l._fallback,e,s);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function Xc(n,t,e,i){const s=t._rootScopes,a=Zg(t._fallback,e,i),l=[...n,...s],u=new Set;u.add(i);let f=td(u,l,e,a||e,i);return f===null||typeof a<"u"&&a!==e&&(f=td(u,l,a,f,i),f===null)?!1:Uc(Array.from(u),[""],s,a,()=>XC(t,e,i))}function td(n,t,e,i,s){for(;e;)e=VC(n,t,e,i,s);return e}function XC(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return le(s)&&Mt(e)?e:s||{}}function qC(n,t,e,i){let s;for(const a of t)if(s=Jg(NC(a,n),e),typeof s<"u")return Vc(n,s)?Xc(e,i,n,s):s}function Jg(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function ed(n){let t=n._keys;return t||(t=n._keys=KC(n._scopes)),t}function KC(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const GC=Number.EPSILON||1e-14,yr=(n,t)=>t<n.length&&!n[t].skip&&n[t],Qg=n=>n==="x"?"y":"x";function jC(n,t,e,i){const s=n.skip?t:n,a=t,l=e.skip?t:e,u=mc(a,s),f=mc(l,a);let h=u/(u+f),g=f/(u+f);h=isNaN(h)?0:h,g=isNaN(g)?0:g;const m=i*h,p=i*g;return{previous:{x:a.x-m*(l.x-s.x),y:a.y-m*(l.y-s.y)},next:{x:a.x+p*(l.x-s.x),y:a.y+p*(l.y-s.y)}}}function ZC(n,t,e){const i=n.length;let s,a,l,u,f,h=yr(n,0);for(let g=0;g<i-1;++g)if(f=h,h=yr(n,g+1),!(!f||!h)){if(os(t[g],0,GC)){e[g]=e[g+1]=0;continue}s=e[g]/t[g],a=e[g+1]/t[g],u=Math.pow(s,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),e[g]=s*l*t[g],e[g+1]=a*l*t[g])}}function JC(n,t,e="x"){const i=Qg(e),s=n.length;let a,l,u,f=yr(n,0);for(let h=0;h<s;++h){if(l=u,u=f,f=yr(n,h+1),!u)continue;const g=u[e],m=u[i];l&&(a=(g-l[e])/3,u[`cp1${e}`]=g-a,u[`cp1${i}`]=m-a*t[h]),f&&(a=(f[e]-g)/3,u[`cp2${e}`]=g+a,u[`cp2${i}`]=m+a*t[h])}}function QC(n,t="x"){const e=Qg(t),i=n.length,s=Array(i).fill(0),a=Array(i);let l,u,f,h=yr(n,0);for(l=0;l<i;++l)if(u=f,f=h,h=yr(n,l+1),!!f){if(h){const g=h[t]-f[t];s[l]=g!==0?(h[e]-f[e])/g:0}a[l]=u?h?br(s[l-1])!==br(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}ZC(n,s,a),JC(n,a,t)}function Do(n,t,e){return Math.max(Math.min(n,e),t)}function tk(n,t){let e,i,s,a,l,u=bs(n[0],t);for(e=0,i=n.length;e<i;++e)l=a,a=u,u=e<i-1&&bs(n[e+1],t),a&&(s=n[e],l&&(s.cp1x=Do(s.cp1x,t.left,t.right),s.cp1y=Do(s.cp1y,t.top,t.bottom)),u&&(s.cp2x=Do(s.cp2x,t.left,t.right),s.cp2y=Do(s.cp2y,t.top,t.bottom)))}function ek(n,t,e,i,s){let a,l,u,f;if(t.spanGaps&&(n=n.filter(h=>!h.skip)),t.cubicInterpolationMode==="monotone")QC(n,s);else{let h=i?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)u=n[a],f=jC(h,u,n[Math.min(a+1,l-(i?0:1))%l],t.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,h=u}t.capBezierPoints&&tk(n,e)}function qc(){return typeof window<"u"&&typeof document<"u"}function Kc(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function oa(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const pa=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function nk(n,t){return pa(n).getPropertyValue(t)}const ik=["top","right","bottom","left"];function zi(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const a=ik[s];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const rk=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function sk(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:a}=i;let l=!1,u,f;if(rk(s,a,n.target))u=s,f=a;else{const h=t.getBoundingClientRect();u=i.clientX-h.left,f=i.clientY-h.top,l=!0}return{x:u,y:f,box:l}}function Pi(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=pa(e),a=s.boxSizing==="border-box",l=zi(s,"padding"),u=zi(s,"border","width"),{x:f,y:h,box:g}=sk(n,e),m=l.left+(g&&u.left),p=l.top+(g&&u.top);let{width:v,height:S}=t;return a&&(v-=l.width+u.width,S-=l.height+u.height),{x:Math.round((f-m)/v*e.width/i),y:Math.round((h-p)/S*e.height/i)}}function ok(n,t,e){let i,s;if(t===void 0||e===void 0){const a=n&&Kc(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),u=pa(a),f=zi(u,"border","width"),h=zi(u,"padding");t=l.width-h.width-f.width,e=l.height-h.height-f.height,i=oa(u.maxWidth,a,"clientWidth"),s=oa(u.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||sa,maxHeight:s||sa}}const Mo=n=>Math.round(n*10)/10;function ak(n,t,e,i){const s=pa(n),a=zi(s,"margin"),l=oa(s.maxWidth,n,"clientWidth")||sa,u=oa(s.maxHeight,n,"clientHeight")||sa,f=ok(n,t,e);let{width:h,height:g}=f;if(s.boxSizing==="content-box"){const p=zi(s,"border","width"),v=zi(s,"padding");h-=v.width+p.width,g-=v.height+p.height}return h=Math.max(0,h-a.width),g=Math.max(0,i?h/i:g-a.height),h=Mo(Math.min(h,l,f.maxWidth)),g=Mo(Math.min(g,u,f.maxHeight)),h&&!g&&(g=Mo(h/2)),(t!==void 0||e!==void 0)&&i&&f.height&&g>f.height&&(g=f.height,h=Mo(Math.floor(g*i))),{width:h,height:g}}function nd(n,t,e){const i=t||1,s=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(n.currentDevicePixelRatio=i,l.height=s,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const lk=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};qc()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function id(n,t){const e=nk(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Li(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function ck(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function uk(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=Li(n,s,e),u=Li(s,a,e),f=Li(a,t,e),h=Li(l,u,e),g=Li(u,f,e);return Li(h,g,e)}const fk=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},hk=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function pr(n,t,e){return n?fk(t,e):hk()}function tp(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function ep(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function np(n){return n==="angle"?{between:Hg,compare:cC,normalize:ui}:{between:Zr,compare:(t,e)=>t-e,normalize:t=>t}}function rd({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function dk(n,t,e){const{property:i,start:s,end:a}=e,{between:l,normalize:u}=np(i),f=t.length;let{start:h,end:g,loop:m}=n,p,v;if(m){for(h+=f,g+=f,p=0,v=f;p<v&&l(u(t[h%f][i]),s,a);++p)h--,g--;h%=f,g%=f}return g<h&&(g+=f),{start:h,end:g,loop:m,style:n.style}}function gk(n,t,e){if(!e)return[n];const{property:i,start:s,end:a}=e,l=t.length,{compare:u,between:f,normalize:h}=np(i),{start:g,end:m,loop:p,style:v}=dk(n,t,e),S=[];let y=!1,w=null,k,O,I;const E=()=>f(s,I,k)&&u(s,I)!==0,M=()=>u(a,k)===0||f(a,I,k),R=()=>y||E(),B=()=>!y||M();for(let L=g,$=g;L<=m;++L)O=t[L%l],!O.skip&&(k=h(O[i]),k!==I&&(y=f(k,s,a),w===null&&R()&&(w=u(k,s)===0?L:$),w!==null&&B()&&(S.push(rd({start:w,end:L,loop:p,count:l,style:v})),w=null),$=L,I=k));return w!==null&&S.push(rd({start:w,end:m,loop:p,count:l,style:v})),S}function pk(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const a=gk(i[s],n.points,t);a.length&&e.push(...a)}return e}function mk(n,t,e,i){let s=0,a=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(a+=s);a>s&&n[a%t].skip;)a--;return a%=t,{start:s,end:a}}function _k(n,t,e,i){const s=n.length,a=[];let l=t,u=n[t],f;for(f=t+1;f<=e;++f){const h=n[f%s];h.skip||h.stop?u.skip||(i=!1,a.push({start:t%s,end:(f-1)%s,loop:i}),t=l=h.stop?f:null):(l=f,u.skip&&(t=f)),u=h}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function vk(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const a=!!n._loop,{start:l,end:u}=mk(e,s,a,i);if(i===!0)return sd(n,[{start:l,end:u,loop:a}],e,t);const f=u<l?u+s:u,h=!!n._fullLoop&&l===0&&u===s-1;return sd(n,_k(e,l,f,h),e,t)}function sd(n,t,e,i){return!i||!i.setContext||!e?t:bk(n,t,e,i)}function bk(n,t,e,i){const s=n._chart.getContext(),a=od(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,f=e.length,h=[];let g=a,m=t[0].start,p=m;function v(S,y,w,k){const O=u?-1:1;if(S!==y){for(S+=f;e[S%f].skip;)S-=O;for(;e[y%f].skip;)y+=O;S%f!==y%f&&(h.push({start:S%f,end:y%f,loop:w,style:k}),g=k,m=y%f)}}for(const S of t){m=u?m:S.start;let y=e[m%f],w;for(p=m+1;p<=S.end;p++){const k=e[p%f];w=od(i.setContext($i(s,{type:"segment",p0:y,p1:k,p0DataIndex:(p-1)%f,p1DataIndex:p%f,datasetIndex:l}))),xk(w,g)&&v(m,p-1,S.loop,g),y=k,g=w}m<p-1&&v(m,p-1,S.loop,g)}return h}function od(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function xk(n,t){if(!t)return!1;const e=[],i=function(s,a){return Hc(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function To(n,t,e){return n.options.clip?n[e]:t[e]}function yk(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:To(e,t,"left"),right:To(e,t,"right"),top:To(i,t,"top"),bottom:To(i,t,"bottom")}:t}function wk(n,t){const e=t._clip;if(e.disabled)return!1;const i=yk(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Sk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const a=e.listeners[s],l=e.duration;a.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Yg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,f;for(;l>=0;--l)f=a[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(a[l]=a[a.length-1],a.pop());u&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Gn=new Sk;const ad="transparent",Ck={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=jh(n||ad),s=i.valid&&jh(t||ad);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class kk{constructor(t,e,i,s){const a=e[i];s=ko([t.to,s,a,t.from]);const l=ko([t.from,a,s]);this._active=!0,this._fn=t.fn||Ck[t.type||typeof l],this._easing=as[t.easing]||as.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=ko([t.to,e,s,t.from]),this._from=ko([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,u=this._to;let f;if(this._active=a!==u&&(l||e<i),!this._active){this._target[s]=u,this._notify(!0);return}if(e<0){this._target[s]=a;return}f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[s]=this._fn(a,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class ip{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Mt(t))return;const e=Object.keys(ee.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!Mt(a))return;const l={};for(const u of e)l[u]=a[u];(le(a.properties)&&a.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,s=Mk(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&Dk(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const h=l[f];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(t,e));continue}const g=e[h];let m=a[h];const p=i.get(h);if(m)if(p&&m.active()){m.update(p,g,u);continue}else m.cancel();if(!p||!p.duration){t[h]=g;continue}a[h]=m=new kk(p,t,h,g),s.push(m)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Gn.add(this._chart,i),!0}}function Dk(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=n[i[s]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function Mk(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function ld(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function Tk(n,t,e){if(e===!1)return!1;const i=ld(n,e),s=ld(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Ak(n){let t,e,i,s;return Mt(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function rp(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)e.push(i[s].index);return e}function cd(n,t,e,i={}){const s=n.keys,a=i.mode==="single";let l,u,f,h;if(t===null)return;let g=!1;for(l=0,u=s.length;l<u;++l){if(f=+s[l],f===e){if(g=!0,i.all)continue;break}h=n.values[f],fn(h)&&(a||t===0||br(t)===br(h))&&(t+=h)}return!g&&!i.all?0:t}function Ok(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let f,h,g;for(f=0,h=l.length;f<h;++f)g=l[f],u[f]={[s]:g,[a]:n[g]};return u}function Kl(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Ek(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function Ik(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function Pk(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function ud(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=n[s.index];if(e&&a>0||!e&&a<0)return s.index}return null}function fd(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:u}=i,f=a.axis,h=l.axis,g=Ek(a,l,i),m=t.length;let p;for(let v=0;v<m;++v){const S=t[v],{[f]:y,[h]:w}=S,k=S._stacks||(S._stacks={});p=k[h]=Pk(s,g,y),p[u]=w,p._top=ud(p,l,!0,i.type),p._bottom=ud(p,l,!1,i.type);const O=p._visualValues||(p._visualValues={});O[u]=w}}function Gl(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Lk(n,t){return $i(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Rk(n,t,e){return $i(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Ur(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const jl=n=>n==="reset"||n==="none",hd=(n,t)=>t?n:Object.assign({},n),Fk=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:rp(e,!0),values:null};class sp{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Kl(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ur(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(m,p,v,S)=>m==="x"?p:m==="r"?S:v,a=e.xAxisID=wt(i.xAxisID,Gl(t,"x")),l=e.yAxisID=wt(i.yAxisID,Gl(t,"y")),u=e.rAxisID=wt(i.rAxisID,Gl(t,"r")),f=e.indexAxis,h=e.iAxisID=s(f,a,l,u),g=e.vAxisID=s(f,l,a,u);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&qh(this._data,this),t._stacked&&Ur(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Mt(e)){const s=this._cachedMeta;this._data=Ok(e,s)}else if(i!==e){if(i){qh(i,this);const s=this._cachedMeta;Ur(s),s._parsed=[]}e&&Object.isExtensible(e)&&dC(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=e._stacked;e._stacked=Kl(e.vScale,e),e.stack!==i.stack&&(s=!0,Ur(e),e.stack=i.stack),this._resyncElements(t),(s||a!==e._stacked)&&(fd(this,e._parsed),e._stacked=Kl(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,u=a.axis;let f=t===0&&e===s.length?!0:i._sorted,h=t>0&&i._parsed[t-1],g,m,p;if(this._parsing===!1)i._parsed=s,i._sorted=!0,p=s;else{le(s[t])?p=this.parseArrayData(i,s,t,e):Mt(s[t])?p=this.parseObjectData(i,s,t,e):p=this.parsePrimitiveData(i,s,t,e);const v=()=>m[u]===null||h&&m[u]<h[u];for(g=0;g<e;++g)i._parsed[g+t]=m=p[g],f&&(v()&&(f=!1),h=m);i._sorted=f}l&&fd(this,p)}parsePrimitiveData(t,e,i,s){const{iScale:a,vScale:l}=t,u=a.axis,f=l.axis,h=a.getLabels(),g=a===l,m=new Array(s);let p,v,S;for(p=0,v=s;p<v;++p)S=p+i,m[p]={[u]:g||a.parse(h[S],S),[f]:l.parse(e[S],S)};return m}parseArrayData(t,e,i,s){const{xScale:a,yScale:l}=t,u=new Array(s);let f,h,g,m;for(f=0,h=s;f<h;++f)g=f+i,m=e[g],u[f]={x:a.parse(m[0],g),y:l.parse(m[1],g)};return u}parseObjectData(t,e,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,h=new Array(s);let g,m,p,v;for(g=0,m=s;g<m;++g)p=g+i,v=e[p],h[g]={x:a.parse(ia(v,u),p),y:l.parse(ia(v,f),p)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,a=this._cachedMeta,l=e[t.axis],u={keys:rp(s,!0),values:e._stacks[t.axis]._visualValues};return cd(u,l,a.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const a=i[e.axis];let l=a===null?NaN:a;const u=s&&i._stacks[e.axis];s&&u&&(s.values=u,l=cd(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,u=this._getOtherScale(t),f=Fk(e,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:m}=Ik(u);let p,v;function S(){v=s[p];const y=v[u.axis];return!fn(v[t.axis])||g>y||m<y}for(p=0;p<l&&!(!S()&&(this.updateRangeFromParsed(h,t,v,f),a));++p);if(a){for(p=l-1;p>=0;--p)if(!S()){this.updateRangeFromParsed(h,t,v,f);break}}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=e.length;s<a;++s)l=e[s][t.axis],fn(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Ak(wt(this.options.clip,Tk(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],a=e.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||s.length-u,h=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,a,u,f),g=u;g<u+f;++g){const m=s[g];m.hidden||(m.active&&h?l.push(m):m.draw(t,a))}for(g=0;g<l.length;++g)l[g].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=Rk(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=Lk(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",a=this._cachedDataOpts,l=t+"-"+e,u=a[l],f=this.enableOptionSharing&&ra(i);if(u)return hd(u,f);const h=this.chart.config,g=h.datasetElementScopeKeys(this._type,t),m=s?[`${t}Hover`,"hover",t,""]:[t,""],p=h.getOptionScopes(this.getDataset(),g),v=Object.keys(ee.elements[t]),S=()=>this.getContext(i,s,e),y=h.resolveNamedOptions(p,v,S,m);return y.$shared&&(y.$shared=f,a[l]=Object.freeze(hd(y,f))),y}_resolveAnimations(t,e,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,u=a[l];if(u)return u;let f;if(s.options.animation!==!1){const g=this.chart.config,m=g.datasetAnimationScopeKeys(this._type,e),p=g.getOptionScopes(this.getDataset(),m);f=g.createResolver(p,this.getContext(t,i,e))}const h=new ip(s,f&&f.animations);return f&&f._cacheable&&(a[l]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||jl(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(e,a)||a!==s;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:l}}updateElement(t,e,i,s){jl(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!jl(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,f,h]of this._syncList)this[u](f,h);this._syncList=[];const s=i.length,a=e.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,e,i=!0){const s=this._cachedMeta,a=s.data,l=t+e;let u;const f=h=>{for(h.length+=e,u=h.length-1;u>=l;u--)h[u]=h[u-e]};for(f(a),u=t;u<l;++u)a[u]=new this.dataElementType;this._parsing&&f(s._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Ur(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Bk extends sp{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=e,l=this.chart._animationsDisabled;let{start:u,count:f}=_C(e,s,l);this._drawStart=u,this._drawCount=f,vC(e)&&(u=0,f=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:h},t),this.updateElements(s,u,f,t)}updateElements(t,e,i,s){const a=s==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:h}=this._cachedMeta,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(e,s),p=l.axis,v=u.axis,{spanGaps:S,segment:y}=this.options,w=vs(S)?S:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||a||s==="none",O=e+i,I=t.length;let E=e>0&&this.getParsed(e-1);for(let M=0;M<I;++M){const R=t[M],B=k?R:{};if(M<e||M>=O){B.skip=!0;continue}const L=this.getParsed(M),$=zt(L[v]),G=B[p]=l.getPixelForValue(L[p],M),q=B[v]=a||$?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,L,f):L[v],M);B.skip=isNaN(G)||isNaN(q)||$,B.stop=M>0&&Math.abs(L[p]-E[p])>w,y&&(B.parsed=L,B.raw=h.data[M]),m&&(B.options=g||this.resolveDataElementOptions(M,R.active?"active":s)),k||this.updateElement(R,M,B,s),E=L}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Ai(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Gc{static override(t){Object.assign(Gc.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ai()}parse(){return Ai()}format(){return Ai()}add(){return Ai()}diff(){return Ai()}startOf(){return Ai()}endOf(){return Ai()}}var op={_date:Gc};function Wk(n,t,e,i){const{controller:s,data:a,_sorted:l}=n,u=s._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&a.length){const h=u._reversePixels?fC:Bi;if(i){if(s._sharedOptions){const g=a[0],m=typeof g.getRange=="function"&&g.getRange(t);if(m){const p=h(a,t,e-m),v=h(a,t,e+m);return{lo:p.lo,hi:v.hi}}}}else{const g=h(a,t,e);if(f){const{vScale:m}=s._cachedMeta,{_parsed:p}=n,v=p.slice(0,g.lo+1).reverse().findIndex(y=>!zt(y[m.axis]));g.lo-=Math.max(0,v);const S=p.slice(g.hi).findIndex(y=>!zt(y[m.axis]));g.hi+=Math.max(0,S)}return g}}return{lo:0,hi:a.length-1}}function ma(n,t,e,i,s){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,f=a.length;u<f;++u){const{index:h,data:g}=a[u],{lo:m,hi:p}=Wk(a[u],t,l,s);for(let v=m;v<=p;++v){const S=g[v];S.skip||i(S,h,v)}}}function zk(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Zl(n,t,e,i,s){const a=[];return!s&&!n.isPointInArea(t)||ma(n,e,t,function(u,f,h){!s&&!bs(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&a.push({element:u,datasetIndex:f,index:h})},!0),a}function Nk(n,t,e,i){let s=[];function a(l,u,f){const{startAngle:h,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:m}=lC(l,{x:t.x,y:t.y});Hg(m,h,g)&&s.push({element:l,datasetIndex:u,index:f})}return ma(n,e,t,a),s}function Hk(n,t,e,i,s,a){let l=[];const u=zk(e);let f=Number.POSITIVE_INFINITY;function h(g,m,p){const v=g.inRange(t.x,t.y,s);if(i&&!v)return;const S=g.getCenterPoint(s);if(!(!!a||n.isPointInArea(S))&&!v)return;const w=u(t,S);w<f?(l=[{element:g,datasetIndex:m,index:p}],f=w):w===f&&l.push({element:g,datasetIndex:m,index:p})}return ma(n,e,t,h),l}function Jl(n,t,e,i,s,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!i?Nk(n,t,e,s):Hk(n,t,e,i,s,a)}function dd(n,t,e,i,s){const a=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return ma(n,e,t,(f,h,g)=>{f[l]&&f[l](t[e],s)&&(a.push({element:f,datasetIndex:h,index:g}),u=u||f.inRange(t.x,t.y,s))}),i&&!u?[]:a}var $k={modes:{index(n,t,e,i){const s=Pi(t,n),a=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?Zl(n,s,a,i,l):Jl(n,s,a,!1,i,l),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const g=u[0].index,m=h.data[g];m&&!m.skip&&f.push({element:m,datasetIndex:h.index,index:g})}),f):[]},dataset(n,t,e,i){const s=Pi(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?Zl(n,s,a,i,l):Jl(n,s,a,!1,i,l);if(u.length>0){const f=u[0].datasetIndex,h=n.getDatasetMeta(f).data;u=[];for(let g=0;g<h.length;++g)u.push({element:h[g],datasetIndex:f,index:g})}return u},point(n,t,e,i){const s=Pi(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return Zl(n,s,a,i,l)},nearest(n,t,e,i){const s=Pi(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return Jl(n,s,a,e.intersect,i,l)},x(n,t,e,i){const s=Pi(t,n);return dd(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=Pi(t,n);return dd(n,s,"y",e.intersect,i)}}};const ap=["left","top","right","bottom"];function Vr(n,t){return n.filter(e=>e.pos===t)}function gd(n,t){return n.filter(e=>ap.indexOf(e.pos)===-1&&e.box.axis===t)}function Xr(n,t){return n.sort((e,i)=>{const s=t?i:e,a=t?e:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function Yk(n){const t=[];let e,i,s,a,l,u;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:a,options:{stack:l,stackWeight:u=1}}=s,t.push({index:e,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:u});return t}function Uk(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:a}=e;if(!i||!ap.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function Vk(n,t){const e=Uk(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:f}=u.box,h=e[u.stack],g=h&&u.stackWeight/h.weight;u.horizontal?(u.width=g?g*i:f&&t.availableWidth,u.height=s):(u.width=i,u.height=g?g*s:f&&t.availableHeight)}return e}function Xk(n){const t=Yk(n),e=Xr(t.filter(h=>h.box.fullSize),!0),i=Xr(Vr(t,"left"),!0),s=Xr(Vr(t,"right")),a=Xr(Vr(t,"top"),!0),l=Xr(Vr(t,"bottom")),u=gd(t,"x"),f=gd(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:s.concat(f).concat(l).concat(u),chartArea:Vr(t,"chartArea"),vertical:i.concat(s).concat(f),horizontal:a.concat(l).concat(u)}}function pd(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function lp(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function qk(n,t,e,i){const{pos:s,box:a}=e,l=n.maxPadding;if(!Mt(s)){e.size&&(n[s]-=e.size);const m=i[e.stack]||{size:0,count:1};m.size=Math.max(m.size,e.horizontal?a.height:a.width),e.size=m.size/m.count,n[s]+=e.size}a.getPadding&&lp(l,a.getPadding());const u=Math.max(0,t.outerWidth-pd(l,n,"left","right")),f=Math.max(0,t.outerHeight-pd(l,n,"top","bottom")),h=u!==n.w,g=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:h,other:g}:{same:g,other:h}}function Kk(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function Gk(n,t){const e=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return i(n?["left","right"]:["top","bottom"])}function Jr(n,t,e,i){const s=[];let a,l,u,f,h,g;for(a=0,l=n.length,h=0;a<l;++a){u=n[a],f=u.box,f.update(u.width||t.w,u.height||t.h,Gk(u.horizontal,t));const{same:m,other:p}=qk(t,e,u,i);h|=m&&s.length,g=g||p,f.fullSize||s.push(u)}return h&&Jr(s,t,e,i)||g}function Ao(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function md(n,t,e,i){const s=e.padding;let{x:a,y:l}=t;for(const u of n){const f=u.box,h=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/h.weight||1;if(u.horizontal){const m=t.w*g,p=h.size||f.height;ra(h.start)&&(l=h.start),f.fullSize?Ao(f,s.left,l,e.outerWidth-s.right-s.left,p):Ao(f,t.left+h.placed,l,m,p),h.start=l,h.placed+=m,l=f.bottom}else{const m=t.h*g,p=h.size||f.width;ra(h.start)&&(a=h.start),f.fullSize?Ao(f,a,s.top,p,e.outerHeight-s.bottom-s.top):Ao(f,a,t.top+h.placed,p,m),h.start=a,h.placed+=m,a=f.right}}t.x=a,t.y=l}var un={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=hn(n.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(e-s.height,0),u=Xk(n.boxes),f=u.vertical,h=u.horizontal;Et(n.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const g=f.reduce((y,w)=>w.box.options&&w.box.options.display===!1?y:y+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),p=Object.assign({},s);lp(p,hn(i));const v=Object.assign({maxPadding:p,w:a,h:l,x:s.left,y:s.top},s),S=Vk(f.concat(h),m);Jr(u.fullSize,v,m,S),Jr(f,v,m,S),Jr(h,v,m,S)&&Jr(f,v,m,S),Kk(v),md(u.leftAndTop,v,m,S),v.x+=v.w,v.y+=v.h,md(u.rightAndBottom,v,m,S),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Et(u.chartArea,y=>{const w=y.box;Object.assign(w,n.chartArea),w.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class cp{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class jk extends cp{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const $o="$chartjs",Zk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_d=n=>n===null||n==="";function Jk(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[$o]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",_d(s)){const a=id(n,"width");a!==void 0&&(n.width=a)}if(_d(i))if(n.style.height==="")n.height=n.width/(t||2);else{const a=id(n,"height");a!==void 0&&(n.height=a)}return n}const up=lk?{passive:!0}:!1;function Qk(n,t,e){n&&n.addEventListener(t,e,up)}function tD(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,up)}function eD(n,t){const e=Zk[n.type]||n.type,{x:i,y:s}=Pi(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function aa(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function nD(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||aa(u.addedNodes,i),l=l&&!aa(u.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function iD(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||aa(u.removedNodes,i),l=l&&!aa(u.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const ys=new Map;let vd=0;function fp(){const n=window.devicePixelRatio;n!==vd&&(vd=n,ys.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function rD(n,t){ys.size||window.addEventListener("resize",fp),ys.set(n,t)}function sD(n){ys.delete(n),ys.size||window.removeEventListener("resize",fp)}function oD(n,t,e){const i=n.canvas,s=i&&Kc(i);if(!s)return;const a=Ug((u,f)=>{const h=s.clientWidth;e(u,f),h<s.clientWidth&&e()},window),l=new ResizeObserver(u=>{const f=u[0],h=f.contentRect.width,g=f.contentRect.height;h===0&&g===0||a(h,g)});return l.observe(s),rD(n,a),l}function Ql(n,t,e){e&&e.disconnect(),t==="resize"&&sD(n)}function aD(n,t,e){const i=n.canvas,s=Ug(a=>{n.ctx!==null&&e(eD(a,n))},n);return Qk(i,t,s),s}class lD extends cp{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Jk(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[$o])return!1;const i=e[$o].initial;["height","width"].forEach(a=>{const l=i[a];zt(l)?e.removeAttribute(a):e.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{e.style[a]=s[a]}),e.width=e.width,delete e[$o],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:nD,detach:iD,resize:oD}[e]||aD;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Ql,detach:Ql,resize:Ql}[e]||tD)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return ak(t,e,i,s)}isAttached(t){const e=t&&Kc(t);return!!(e&&e.isConnected)}}function cD(n){return!qc()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?jk:lD}class Yi{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return vs(this.x)&&vs(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}}function uD(n,t){const e=n.options.ticks,i=fD(n),s=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?dD(t):[],l=a.length,u=a[0],f=a[l-1],h=[];if(l>s)return gD(t,h,a,l/s),h;const g=hD(a,t,s);if(l>0){let m,p;const v=l>1?Math.round((f-u)/(l-1)):null;for(Oo(t,h,g,zt(v)?0:u-v,u),m=0,p=l-1;m<p;m++)Oo(t,h,g,a[m],a[m+1]);return Oo(t,h,g,f,zt(v)?t.length:f+v),h}return Oo(t,h,g),h}function fD(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function hD(n,t,e){const i=pD(n),s=t.length/e;if(!i)return Math.max(s,1);const a=iC(i);for(let l=0,u=a.length-1;l<u;l++){const f=a[l];if(f>s)return f}return Math.max(s,1)}function dD(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function gD(n,t,e,i){let s=0,a=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(t.push(n[l]),s++,a=e[s*i])}function Oo(n,t,e,i,s){const a=wt(i,0),l=Math.min(wt(s,n.length),n.length);let u=0,f,h,g;for(e=Math.ceil(e),s&&(f=s-i,e=f/Math.floor(f/e)),g=a;g<0;)u++,g=Math.round(a+u*e);for(h=Math.max(a,0);h<l;h++)h===g&&(t.push(n[h]),u++,g=Math.round(a+u*e))}function pD(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const mD=n=>n==="left"?"right":n==="right"?"left":n,bd=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,xd=(n,t)=>Math.min(t||n,n);function yd(n,t){const e=[],i=n.length/t,s=n.length;let a=0;for(;a<s;a+=i)e.push(n[Math.floor(a)]);return e}function _D(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),a=n._startPixel,l=n._endPixel,u=1e-6;let f=n.getPixelForTick(s),h;if(!(e&&(i===1?h=Math.max(f-a,l-f):t===0?h=(n.getPixelForTick(1)-f)/2:h=(f-n.getPixelForTick(s-1))/2,f+=s<t?h:-h,f<a-u||f>l+u)))return f}function vD(n,t){Et(n,e=>{const i=e.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete e.data[i[a]];i.splice(0,s)}})}function qr(n){return n.drawTicks?n.tickLength:0}function wd(n,t){if(!n.display)return 0;const e=xe(n.font,t),i=hn(n.padding);return(le(n.text)?n.text.length:1)*e.lineHeight+i.height}function bD(n,t){return $i(n,{scale:t,type:"scale"})}function xD(n,t,e){return $i(n,{tick:e,index:t,type:"tick"})}function yD(n,t,e){let i=Nc(n);return(e&&t!=="right"||!e&&t==="right")&&(i=mD(i)),i}function wD(n,t,e,i){const{top:s,left:a,bottom:l,right:u,chart:f}=n,{chartArea:h,scales:g}=f;let m=0,p,v,S;const y=l-s,w=u-a;if(n.isHorizontal()){if(v=be(i,a,u),Mt(e)){const k=Object.keys(e)[0],O=e[k];S=g[k].getPixelForValue(O)+y-t}else e==="center"?S=(h.bottom+h.top)/2+y-t:S=bd(n,e,t);p=u-a}else{if(Mt(e)){const k=Object.keys(e)[0],O=e[k];v=g[k].getPixelForValue(O)-w+t}else e==="center"?v=(h.left+h.right)/2-w+t:v=bd(n,e,t);S=be(i,l,s),m=e==="left"?-yn:yn}return{titleX:v,titleY:S,maxWidth:p,rotation:m}}class Sr extends Yi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=Mn(t,Number.POSITIVE_INFINITY),e=Mn(e,Number.NEGATIVE_INFINITY),i=Mn(i,Number.POSITIVE_INFINITY),s=Mn(s,Number.NEGATIVE_INFINITY),{min:Mn(t,i),max:Mn(e,s),minDefined:fn(t),maxDefined:fn(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,h=u.length;f<h;++f)l=u[f].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),a||(i=Math.max(i,l.max));return e=a&&e>i?i:e,i=s&&e>i?e:i,{min:Mn(e,Mn(i,e)),max:Mn(i,Mn(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$t(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zC(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?yd(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=uD(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$t(this.options.afterUpdate,[this])}beforeSetDimensions(){$t(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$t(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),$t(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$t(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=$t(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){$t(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$t(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=xd(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,a=e.maxRotation;let l=s,u,f,h;if(!this._isVisible()||!e.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const g=this._getLabelSizes(),m=g.widest.width,p=g.highest.height,v=cn(this.chart.width-m,0,this.maxWidth);u=t.offset?this.maxWidth/i:v/(i-1),m+6>u&&(u=v/(i-(t.offset?.5:1)),f=this.maxHeight-qr(t.grid)-e.padding-wd(t.title,this.chart.options.font),h=Math.sqrt(m*m+p*p),l=aC(Math.min(Math.asin(cn((g.highest.height+6)/u,-1,1)),Math.asin(cn(f/h,-1,1))-Math.asin(cn(p/h,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){$t(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$t(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=wd(s,e.options.font);if(u?(t.width=this.maxWidth,t.height=qr(a)+f):(t.height=this.maxHeight,t.width=qr(a)+f),i.display&&this.ticks.length){const{first:h,last:g,widest:m,highest:p}=this._getLabelSizes(),v=i.padding*2,S=Fi(this.labelRotation),y=Math.cos(S),w=Math.sin(S);if(u){const k=i.mirror?0:w*m.width+y*p.height;t.height=Math.min(this.maxHeight,t.height+k+v)}else{const k=i.mirror?0:y*m.width+w*p.height;t.width=Math.min(this.maxWidth,t.width+k+v)}this._calculatePadding(h,g,w,y)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:a,padding:l},position:u}=this.options,f=this.labelRotation!==0,h=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,v=0;f?h?(p=s*t.width,v=i*e.height):(p=i*t.height,v=s*e.width):a==="start"?v=e.width:a==="end"?p=t.width:a!=="inner"&&(p=t.width/2,v=e.width/2),this.paddingLeft=Math.max((p-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((v-m+l)*this.width/(this.width-m),0)}else{let g=e.height/2,m=t.height/2;a==="start"?(g=0,m=t.height):a==="end"&&(g=e.height,m=0),this.paddingTop=g+l,this.paddingBottom=m+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$t(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)zt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=yd(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:a}=this,l=[],u=[],f=Math.floor(e/xd(e,i));let h=0,g=0,m,p,v,S,y,w,k,O,I,E,M;for(m=0;m<e;m+=f){if(S=t[m].label,y=this._resolveTickFontOptions(m),s.font=w=y.string,k=a[w]=a[w]||{data:{},gc:[]},O=y.lineHeight,I=E=0,!zt(S)&&!le(S))I=Jh(s,k.data,k.gc,I,S),E=O;else if(le(S))for(p=0,v=S.length;p<v;++p)M=S[p],!zt(M)&&!le(M)&&(I=Jh(s,k.data,k.gc,I,M),E+=O);l.push(I),u.push(E),h=Math.max(I,h),g=Math.max(E,g)}vD(a,e);const R=l.indexOf(h),B=u.indexOf(g),L=$=>({width:l[$]||0,height:u[$]||0});return{first:L(0),last:L(e-1),widest:L(R),highest:L(B),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return uC(this._alignToPixels?Ti(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=xD(this.getContext(),t,i))}return this.$context||(this.$context=bD(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Fi(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,u=a?a.widest.width+l:0,f=a?a.highest.height+l:0;return this.isHorizontal()?f*i>u*s?u/i:f/s:f*s<u*i?f/i:u/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:u}=s,f=a.offset,h=this.isHorizontal(),m=this.ticks.length+(f?1:0),p=qr(a),v=[],S=u.setContext(this.getContext()),y=S.display?S.width:0,w=y/2,k=function(ft){return Ti(i,ft,y)};let O,I,E,M,R,B,L,$,G,q,j,rt;if(l==="top")O=k(this.bottom),B=this.bottom-p,$=O-w,q=k(t.top)+w,rt=t.bottom;else if(l==="bottom")O=k(this.top),q=t.top,rt=k(t.bottom)-w,B=O+w,$=this.top+p;else if(l==="left")O=k(this.right),R=this.right-p,L=O-w,G=k(t.left)+w,j=t.right;else if(l==="right")O=k(this.left),G=t.left,j=k(t.right)-w,R=O+w,L=this.left+p;else if(e==="x"){if(l==="center")O=k((t.top+t.bottom)/2+.5);else if(Mt(l)){const ft=Object.keys(l)[0],bt=l[ft];O=k(this.chart.scales[ft].getPixelForValue(bt))}q=t.top,rt=t.bottom,B=O+w,$=B+p}else if(e==="y"){if(l==="center")O=k((t.left+t.right)/2);else if(Mt(l)){const ft=Object.keys(l)[0],bt=l[ft];O=k(this.chart.scales[ft].getPixelForValue(bt))}R=O-w,L=R-p,G=t.left,j=t.right}const vt=wt(s.ticks.maxTicksLimit,m),st=Math.max(1,Math.ceil(m/vt));for(I=0;I<m;I+=st){const ft=this.getContext(I),bt=a.setContext(ft),Ct=u.setContext(ft),ne=bt.lineWidth,Jt=bt.color,V=Ct.dash||[],mt=Ct.dashOffset,xt=bt.tickWidth,Rt=bt.tickColor,Tt=bt.tickBorderDash||[],qt=bt.tickBorderDashOffset;E=_D(this,I,f),E!==void 0&&(M=Ti(i,E,ne),h?R=L=G=j=M:B=$=q=rt=M,v.push({tx1:R,ty1:B,tx2:L,ty2:$,x1:G,y1:q,x2:j,y2:rt,width:ne,color:Jt,borderDash:V,borderDashOffset:mt,tickWidth:xt,tickColor:Rt,tickBorderDash:Tt,tickBorderDashOffset:qt}))}return this._ticksLength=m,this._borderValue=O,v}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:h,padding:g,mirror:m}=a,p=qr(i.grid),v=p+g,S=m?-g:v,y=-Fi(this.labelRotation),w=[];let k,O,I,E,M,R,B,L,$,G,q,j,rt="middle";if(s==="top")R=this.bottom-S,B=this._getXAxisLabelAlignment();else if(s==="bottom")R=this.top+S,B=this._getXAxisLabelAlignment();else if(s==="left"){const st=this._getYAxisLabelAlignment(p);B=st.textAlign,M=st.x}else if(s==="right"){const st=this._getYAxisLabelAlignment(p);B=st.textAlign,M=st.x}else if(e==="x"){if(s==="center")R=(t.top+t.bottom)/2+v;else if(Mt(s)){const st=Object.keys(s)[0],ft=s[st];R=this.chart.scales[st].getPixelForValue(ft)+v}B=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")M=(t.left+t.right)/2-v;else if(Mt(s)){const st=Object.keys(s)[0],ft=s[st];M=this.chart.scales[st].getPixelForValue(ft)}B=this._getYAxisLabelAlignment(p).textAlign}e==="y"&&(f==="start"?rt="top":f==="end"&&(rt="bottom"));const vt=this._getLabelSizes();for(k=0,O=u.length;k<O;++k){I=u[k],E=I.label;const st=a.setContext(this.getContext(k));L=this.getPixelForTick(k)+a.labelOffset,$=this._resolveTickFontOptions(k),G=$.lineHeight,q=le(E)?E.length:1;const ft=q/2,bt=st.color,Ct=st.textStrokeColor,ne=st.textStrokeWidth;let Jt=B;l?(M=L,B==="inner"&&(k===O-1?Jt=this.options.reverse?"left":"right":k===0?Jt=this.options.reverse?"right":"left":Jt="center"),s==="top"?h==="near"||y!==0?j=-q*G+G/2:h==="center"?j=-vt.highest.height/2-ft*G+G:j=-vt.highest.height+G/2:h==="near"||y!==0?j=G/2:h==="center"?j=vt.highest.height/2-ft*G:j=vt.highest.height-q*G,m&&(j*=-1),y!==0&&!st.showLabelBackdrop&&(M+=G/2*Math.sin(y))):(R=L,j=(1-q)*G/2);let V;if(st.showLabelBackdrop){const mt=hn(st.backdropPadding),xt=vt.heights[k],Rt=vt.widths[k];let Tt=j-mt.top,qt=0-mt.left;switch(rt){case"middle":Tt-=xt/2;break;case"bottom":Tt-=xt;break}switch(B){case"center":qt-=Rt/2;break;case"right":qt-=Rt;break;case"inner":k===O-1?qt-=Rt:k>0&&(qt-=Rt/2);break}V={left:qt,top:Tt,width:Rt+mt.width,height:xt+mt.height,color:st.backdropColor}}w.push({label:E,font:$,textOffset:j,options:{rotation:y,color:bt,strokeColor:Ct,strokeWidth:ne,textAlign:Jt,textBaseline:rt,translation:[M,R],backdrop:V}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Fi(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),u=t+a,f=l.widest.width;let h,g;return e==="left"?s?(g=this.right+a,i==="near"?h="left":i==="center"?(h="center",g+=f/2):(h="right",g+=f)):(g=this.right-u,i==="near"?h="right":i==="center"?(h="center",g-=f/2):(h="left",g=this.left)):e==="right"?s?(g=this.left+a,i==="near"?h="right":i==="center"?(h="center",g-=f/2):(h="left",g-=f)):(g=this.left+u,i==="near"?h="left":i==="center"?(h="center",g+=f/2):(h="right",g=this.right)):h="right",{textAlign:h,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const u=(f,h,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(e.display)for(a=0,l=s.length;a<l;++a){const f=s[a];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,g,m,p;this.isHorizontal()?(h=Ti(t,this.left,l)-l/2,g=Ti(t,this.right,u)+u/2,m=p=f):(m=Ti(t,this.top,l)-l/2,p=Ti(t,this.bottom,u)+u/2,h=g=f),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(h,m),e.lineTo(g,p),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&$c(i,s);const a=this.getLabelItems(t);for(const l of a){const u=l.options,f=l.font,h=l.label,g=l.textOffset;xs(i,h,0,g,f,u)}s&&Yc(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const a=xe(i.font),l=hn(i.padding),u=i.align;let f=a.lineHeight/2;e==="bottom"||e==="center"||Mt(e)?(f+=l.bottom,le(i.text)&&(f+=a.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:h,titleY:g,maxWidth:m,rotation:p}=wD(this,f,e,u);xs(t,i.text,0,0,a,{color:i.color,maxWidth:m,rotation:p,textAlign:yD(u,e,s),textBaseline:"middle",translation:[h,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=wt(t.grid&&t.grid.z,-1),s=wt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Sr.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=e.length;a<l;++a){const u=e[a];u[i]===this.id&&(!t||u.type===t)&&s.push(u)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return xe(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Eo{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;kD(e)&&(i=this.register(e));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,SD(t,l,i),this.override&&ee.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in ee[s]&&(delete ee[s][i],this.override&&delete Ni[i])}}function SD(n,t,e){const i=_s(Object.create(null),[e?ee.get(e):{},ee.get(t),n.defaults]);ee.set(t,i),n.defaultRoutes&&CD(t,n.defaultRoutes),n.descriptors&&ee.describe(t,n.descriptors)}function CD(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),a=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),f=l.join(".");ee.route(a,s,f,u)})}function kD(n){return"id"in n&&"defaults"in n}class DD{constructor(){this.controllers=new Eo(sp,"datasets",!0),this.elements=new Eo(Yi,"elements"),this.plugins=new Eo(Object,"plugins"),this.scales=new Eo(Sr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):Et(s,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const s=Wc(t);$t(i["before"+s],[],i),e[t](i),$t(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var An=new DD;class MD{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,s){s=s||{};for(const a of t){const l=a.plugin,u=l[i],f=[e,s,a.options];if($t(u,f,l)===!1&&s.cancelable)return!1}return!0}invalidate(){zt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=wt(i.options&&i.options.plugins,{}),a=TD(i);return s===!1&&!e?[]:OD(t,a,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function TD(n){const t={},e=[],i=Object.keys(An.plugins.items);for(let a=0;a<i.length;a++)e.push(An.getPlugin(i[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function AD(n,t){return!t&&n===!1?null:n===!0?{}:n}function OD(n,{plugins:t,localIds:e},i,s){const a=[],l=n.getContext();for(const u of t){const f=u.id,h=AD(i[f],s);h!==null&&a.push({plugin:u,options:ED(n.config,{plugin:u,local:e[f]},h,l)})}return a}function ED(n,{plugin:t,local:e},i,s){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(i,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xc(n,t){const e=ee.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function ID(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function PD(n,t){return n===t?"_index_":"_value_"}function Sd(n){if(n==="x"||n==="y"||n==="r")return n}function LD(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function yc(n,...t){if(Sd(n))return n;for(const e of t){const i=e.axis||LD(e.position)||n.length>1&&Sd(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Cd(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function RD(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Cd(n,"x",e[0])||Cd(n,"y",e[0])}return{}}function FD(n,t){const e=Ni[n.type]||{scales:{}},i=t.scales||{},s=xc(n.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Mt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=yc(l,u,RD(l,n),ee.scales[u.type]),h=PD(f,s),g=e.scales||{};a[l]=ss(Object.create(null),[{axis:f},u,g[f],g[h]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,f=l.indexAxis||xc(u,t),g=(Ni[u]||{}).scales||{};Object.keys(g).forEach(m=>{const p=ID(m,f),v=l[p+"AxisID"]||p;a[v]=a[v]||Object.create(null),ss(a[v],[{axis:p},i[v],g[m]])})}),Object.keys(a).forEach(l=>{const u=a[l];ss(u,[ee.scales[u.type],ee.scale])}),a}function hp(n){const t=n.options||(n.options={});t.plugins=wt(t.plugins,{}),t.scales=FD(n,t)}function dp(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function BD(n){return n=n||{},n.data=dp(n.data),hp(n),n}const kd=new Map,gp=new Set;function Io(n,t){let e=kd.get(n);return e||(e=t(),kd.set(n,e),gp.add(e)),e}const Kr=(n,t,e)=>{const i=ia(t,e);i!==void 0&&n.add(i)};class WD{constructor(t){this._config=BD(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=dp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),hp(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Io(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Io(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Io(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Io(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const f=new Set;e.forEach(g=>{t&&(f.add(t),g.forEach(m=>Kr(f,t,m))),g.forEach(m=>Kr(f,s,m)),g.forEach(m=>Kr(f,Ni[a]||{},m)),g.forEach(m=>Kr(f,ee,m)),g.forEach(m=>Kr(f,_c,m))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),gp.has(e)&&l.set(e,h),h}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ni[e]||{},ee.datasets[e]||{},{type:e},ee,_c]}resolveNamedOptions(t,e,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=Dd(this._resolverCache,t,s);let f=l;if(ND(l,e)){a.$shared=!1,i=_i(i)?i():i;const h=this.createResolver(t,i,u);f=xr(l,i,h)}for(const h of e)a[h]=f[h];return a}createResolver(t,e,i=[""],s){const{resolver:a}=Dd(this._resolverCache,t,i);return Mt(e)?xr(a,e,void 0,s):a}}function Dd(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let a=i.get(s);return a||(a={resolver:Uc(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,a)),a}const zD=n=>Mt(n)&&Object.getOwnPropertyNames(n).some(t=>_i(n[t]));function ND(n,t){const{isScriptable:e,isIndexable:i}=Gg(n);for(const s of t){const a=e(s),l=i(s),u=(l||a)&&n[s];if(a&&(_i(u)||zD(u))||l&&le(u))return!0}return!1}var HD="4.5.0";const $D=["top","bottom","left","right","chartArea"];function Md(n,t){return n==="top"||n==="bottom"||$D.indexOf(n)===-1&&t==="x"}function Td(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Ad(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),$t(e&&e.onComplete,[n],t)}function YD(n){const t=n.chart,e=t.options.animation;$t(e&&e.onProgress,[n],t)}function pp(n){return qc()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Yo={},Od=n=>{const t=pp(n);return Object.values(Yo).filter(e=>e.canvas===t).pop()};function UD(n,t,e){const i=Object.keys(n);for(const s of i){const a=+s;if(a>=t){const l=n[s];delete n[s],(e>0||a>t)&&(n[a+e]=l)}}}function VD(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let ws=class{static defaults=ee;static instances=Yo;static overrides=Ni;static registry=An;static version=HD;static getChart=Od;static register(...t){An.add(...t),Ed()}static unregister(...t){An.remove(...t),Ed()}constructor(t,e){const i=this.config=new WD(e),s=pp(t),a=Od(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||cD(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),f=u&&u.canvas,h=f&&f.height,g=f&&f.width;if(this.id=KS(),this.ctx=u,this.canvas=f,this.width=g,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new MD,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pC(m=>this.update(m),l.resizeDelay||0),this._dataChanges=[],Yo[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Gn.listen(this,"complete",Ad),Gn.listen(this,"progress",YD),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:a}=this;return zt(t)?e&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return An}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():nd(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qh(this.canvas,this.ctx),this}stop(){return Gn.stop(this),this}resize(t,e){Gn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,nd(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),$t(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Et(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const u=e[l],f=yc(l,u),h=f==="r",g=f==="x";return{options:u,dposition:h?"chartArea":g?"bottom":"left",dtype:h?"radialLinear":g?"category":"linear"}}))),Et(a,l=>{const u=l.options,f=u.id,h=yc(f,u),g=wt(u.type,l.dtype);(u.position===void 0||Md(u.position,h)!==Md(l.dposition))&&(u.position=l.dposition),s[f]=!0;let m=null;if(f in i&&i[f].type===g)m=i[f];else{const p=An.getScale(g);m=new p({id:f,type:g,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(u,t)}),Et(s,(l,u)=>{l||delete i[u]}),Et(i,l=>{un.configure(this,l,l.options),un.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Td("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const a=e[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||xc(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=An.getController(u),{datasetElementType:h,dataElementType:g}=ee.datasets[u];Object.assign(f,{dataElementType:An.getElement(g),datasetElementType:h&&An.getElement(h)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Et(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,g=this.data.datasets.length;h<g;h++){const{controller:m}=this.getDatasetMeta(h),p=!s&&a.indexOf(m)===-1;m.buildOrUpdateElements(p),l=Math.max(+m.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Et(a,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Td("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Et(this.scales,t=>{un.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Yh(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of e){const l=i==="_removeElements"?-a:a;UD(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<e;a++)if(!Yh(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;un.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Et(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,_i(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Gn.has(this)?this.attached&&!Gn.running(this)&&Gn.start(this):(this.draw(),Ad({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=wk(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&$c(e,s),t.controller.draw(),s&&Yc(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return bs(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const a=$k.modes[e];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=$i(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);ra(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Gn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Qh(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Yo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},s=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Et(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,h)=>{e.addEventListener(this,f,h),t[f]=h},s=(f,h)=>{t[f]&&(e.removeEventListener(this,f,h),delete t[f])},a=(f,h)=>{this.canvas&&this.resize(f,h)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){Et(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Et(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let a,l,u,f;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){l=t[u];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!ea(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,a=(f,h)=>f.filter(g=>!h.some(m=>g.datasetIndex===m.datasetIndex&&g.index===m.index)),l=a(e,t),u=i?t:a(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:a}=this,l=e,u=this._getActiveElements(t,s,i,l),f=tC(t),h=VD(t,this._lastEvent,i,f);i&&(this._lastEvent=null,$t(a.onHover,[t,u,this],this),f&&$t(a.onClick,[t,u,this],this));const g=!ea(u,s);return(g||e)&&(this._active=u,this._updateHoverStyles(u,s,e)),this._lastEvent=h,g}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}};function Ed(){return Et(ws.instances,n=>n._plugins.invalidate())}function mp(n,t,e=t){n.lineCap=wt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(wt(e.borderDash,t.borderDash)),n.lineDashOffset=wt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=wt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=wt(e.borderWidth,t.borderWidth),n.strokeStyle=wt(e.borderColor,t.borderColor)}function XD(n,t,e){n.lineTo(e.x,e.y)}function qD(n){return n.stepped?AC:n.tension||n.cubicInterpolationMode==="monotone"?OC:XD}function _p(n,t,e={}){const i=n.length,{start:s=0,end:a=i-1}=e,{start:l,end:u}=t,f=Math.max(s,l),h=Math.min(a,u),g=s<l&&a<l||s>u&&a>u;return{count:i,start:f,loop:t.loop,ilen:h<f&&!g?i+h-f:h-f}}function KD(n,t,e,i){const{points:s,options:a}=t,{count:l,start:u,loop:f,ilen:h}=_p(s,e,i),g=qD(a);let{move:m=!0,reverse:p}=i||{},v,S,y;for(v=0;v<=h;++v)S=s[(u+(p?h-v:v))%l],!S.skip&&(m?(n.moveTo(S.x,S.y),m=!1):g(n,y,S,p,a.stepped),y=S);return f&&(S=s[(u+(p?h:0))%l],g(n,y,S,p,a.stepped)),!!f}function GD(n,t,e,i){const s=t.points,{count:a,start:l,ilen:u}=_p(s,e,i),{move:f=!0,reverse:h}=i||{};let g=0,m=0,p,v,S,y,w,k;const O=E=>(l+(h?u-E:E))%a,I=()=>{y!==w&&(n.lineTo(g,w),n.lineTo(g,y),n.lineTo(g,k))};for(f&&(v=s[O(0)],n.moveTo(v.x,v.y)),p=0;p<=u;++p){if(v=s[O(p)],v.skip)continue;const E=v.x,M=v.y,R=E|0;R===S?(M<y?y=M:M>w&&(w=M),g=(m*g+E)/++m):(I(),n.lineTo(E,M),S=R,m=0,y=w=M),k=M}I()}function wc(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?GD:KD}function jD(n){return n.stepped?ck:n.tension||n.cubicInterpolationMode==="monotone"?uk:Li}function ZD(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),mp(n,t.options),n.stroke(s)}function JD(n,t,e,i){const{segments:s,options:a}=t,l=wc(t);for(const u of s)mp(n,a,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const QD=typeof Path2D=="function";function tM(n,t,e,i){QD&&!t.options.segment?ZD(n,t,e,i):JD(n,t,e,i)}class eM extends Yi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;ek(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=vk(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],a=this.points,l=pk(this,{property:e,start:s,end:s});if(!l.length)return;const u=[],f=jD(i);let h,g;for(h=0,g=l.length;h<g;++h){const{start:m,end:p}=l[h],v=a[m],S=a[p];if(v===S){u.push(v);continue}const y=Math.abs((s-v[e])/(S[e]-v[e])),w=f(v,S,y,i.stepped);w[e]=t[e],u.push(w)}return u.length===1?u[0]:u}pathSegment(t,e,i){return wc(this)(t,this,e,i)}path(t,e,i){const s=this.segments,a=wc(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of s)l&=a(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),tM(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Id(n,t,e,i){const s=n.options,{[e]:a}=n.getProps([e],i);return Math.abs(t-a)<s.radius+s.hitRadius}class nM extends Yi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(e-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return Id(this,t,"x",e)}inYRange(t,e){return Id(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!bs(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,vc(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}const Pd=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},iM=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Ld extends Yi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=$t(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=xe(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=Pd(i,a);let h,g;e.font=s.string,this.isHorizontal()?(h=this.maxWidth,g=this._fitRows(l,a,u,f)+10):(g=this.maxHeight,h=this._fitCols(l,s,u,f)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],g=s+u;let m=t;a.textAlign="left",a.textBaseline="middle";let p=-1,v=-g;return this.legendItems.forEach((S,y)=>{const w=i+e/2+a.measureText(S.text).width;(y===0||h[h.length-1]+w+2*u>l)&&(m+=g,h[h.length-(y>0?0:1)]=0,v+=g,p++),f[y]={left:0,top:v,row:p,width:w,height:s},h[h.length-1]+=w+u}),m}_fitCols(t,e,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],g=l-t;let m=u,p=0,v=0,S=0,y=0;return this.legendItems.forEach((w,k)=>{const{itemWidth:O,itemHeight:I}=rM(i,e,a,w,s);k>0&&v+I+2*u>g&&(m+=p+u,h.push({width:p,height:v}),S+=p+u,y++,p=v=0),f[k]={left:S,top:v,col:y,width:O,height:I},p=Math.max(p,O),v+=I+u}),m+=p,h.push({width:p,height:v}),m}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:a}}=this,l=pr(a,this.left,this.width);if(this.isHorizontal()){let u=0,f=be(i,this.left+s,this.right-this.lineWidths[u]);for(const h of e)u!==h.row&&(u=h.row,f=be(i,this.left+s,this.right-this.lineWidths[u])),h.top+=this.top+t+s,h.left=l.leftForLtr(l.x(f),h.width),f+=h.width+s}else{let u=0,f=be(i,this.top+t+s,this.bottom-this.columnSizes[u].height);for(const h of e)h.col!==u&&(u=h.col,f=be(i,this.top+t+s,this.bottom-this.columnSizes[u].height)),h.top=f,h.left+=this.left+s,h.left=l.leftForLtr(l.x(h.left),h.width),f+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;$c(t,this),this._draw(),Yc(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,u=ee.color,f=pr(t.rtl,this.left,this.width),h=xe(l.font),{padding:g}=l,m=h.size,p=m/2;let v;this.drawTitle(),s.textAlign=f.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:S,boxHeight:y,itemHeight:w}=Pd(l,m),k=function(R,B,L){if(isNaN(S)||S<=0||isNaN(y)||y<0)return;s.save();const $=wt(L.lineWidth,1);if(s.fillStyle=wt(L.fillStyle,u),s.lineCap=wt(L.lineCap,"butt"),s.lineDashOffset=wt(L.lineDashOffset,0),s.lineJoin=wt(L.lineJoin,"miter"),s.lineWidth=$,s.strokeStyle=wt(L.strokeStyle,u),s.setLineDash(wt(L.lineDash,[])),l.usePointStyle){const G={radius:y*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:$},q=f.xPlus(R,S/2),j=B+p;qg(s,G,q,j,l.pointStyleWidth&&S)}else{const G=B+Math.max((m-y)/2,0),q=f.leftForLtr(R,S),j=cs(L.borderRadius);s.beginPath(),Object.values(j).some(rt=>rt!==0)?bc(s,{x:q,y:G,w:S,h:y,radius:j}):s.rect(q,G,S,y),s.fill(),$!==0&&s.stroke()}s.restore()},O=function(R,B,L){xs(s,L.text,R,B+w/2,h,{strikethrough:L.hidden,textAlign:f.textAlign(L.textAlign)})},I=this.isHorizontal(),E=this._computeTitleHeight();I?v={x:be(a,this.left+g,this.right-i[0]),y:this.top+g+E,line:0}:v={x:this.left+g,y:be(a,this.top+E+g,this.bottom-e[0].height),line:0},tp(this.ctx,t.textDirection);const M=w+g;this.legendItems.forEach((R,B)=>{s.strokeStyle=R.fontColor,s.fillStyle=R.fontColor;const L=s.measureText(R.text).width,$=f.textAlign(R.textAlign||(R.textAlign=l.textAlign)),G=S+p+L;let q=v.x,j=v.y;f.setWidth(this.width),I?B>0&&q+G+g>this.right&&(j=v.y+=M,v.line++,q=v.x=be(a,this.left+g,this.right-i[v.line])):B>0&&j+M>this.bottom&&(q=v.x=q+e[v.line].width+g,v.line++,j=v.y=be(a,this.top+E+g,this.bottom-e[v.line].height));const rt=f.x(q);if(k(rt,j,R),q=mC($,q+S+p,I?q+G:this.right,t.rtl),O(f.x(q),j,R),I)v.x+=G+g;else if(typeof R.text!="string"){const vt=h.lineHeight;v.y+=vp(R,vt)+g}else v.y+=M}),ep(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=xe(e.font),s=hn(e.padding);if(!e.display)return;const a=pr(t.rtl,this.left,this.width),l=this.ctx,u=e.position,f=i.size/2,h=s.top+f;let g,m=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),g=this.top+h,m=be(t.align,m,this.right-p);else{const S=this.columnSizes.reduce((y,w)=>Math.max(y,w.height),0);g=h+be(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const v=be(u,m,m+p);l.textAlign=a.textAlign(Nc(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,xs(l,e.text,v,g,i)}_computeTitleHeight(){const t=this.options.title,e=xe(t.font),i=hn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,a;if(Zr(t,this.left,this.right)&&Zr(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],Zr(t,s.left,s.left+s.width)&&Zr(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!aM(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=iM(s,i);s&&!a&&$t(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&$t(e.onHover,[t,i,this],this)}else i&&$t(e.onClick,[t,i,this],this)}}function rM(n,t,e,i,s){const a=sM(i,n,t,e),l=oM(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function sM(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+e.size/2+i.measureText(s).width}function oM(n,t,e){let i=n;return typeof t.text!="string"&&(i=vp(t,e)),i}function vp(n,t){const e=n.text?n.text.length:0;return t*e}function aM(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var lM={id:"legend",_element:Ld,start(n,t,e){const i=n.legend=new Ld({ctx:n.ctx,options:e,chart:n});un.configure(n,i,e),un.addBox(n,i)},stop(n){un.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;un.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(e?0:void 0),g=hn(h.borderWidth);return{text:t[f.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:l&&(u||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class bp extends Yi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=le(i.text)?i.text.length:1;this._padding=hn(i.padding);const a=s*xe(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:a,options:l}=this,u=l.align;let f=0,h,g,m;return this.isHorizontal()?(g=be(u,i,a),m=e+t,h=a-i):(l.position==="left"?(g=i+t,m=be(u,s,e),f=ce*-.5):(g=a-t,m=be(u,e,s),f=ce*.5),h=s-e),{titleX:g,titleY:m,maxWidth:h,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=xe(e.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:h}=this._drawArgs(a);xs(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:h,textAlign:Nc(e.align),textBaseline:"middle",translation:[l,u]})}}function cM(n,t){const e=new bp({ctx:n.ctx,options:t,chart:n});un.configure(n,e,t),un.addBox(n,e),n.titleBlock=e}var uM={id:"title",_element:bp,start(n,t,e){cM(n,e)},stop(n){const t=n.titleBlock;un.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;un.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qr={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,a=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),s+=f.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:s/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const f=n[a].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),g=mc(t,h);g<s&&(s=g,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Tn(n,t){return t&&(le(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function jn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function fM(n,t){const{element:e,datasetIndex:i,index:s}=t,a=n.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(s);return{chart:n,label:l,parsed:a.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:u,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function Rd(n,t){const e=n.chart.ctx,{body:i,footer:s,title:a}=n,{boxWidth:l,boxHeight:u}=t,f=xe(t.bodyFont),h=xe(t.titleFont),g=xe(t.footerFont),m=a.length,p=s.length,v=i.length,S=hn(t.padding);let y=S.height,w=0,k=i.reduce((E,M)=>E+M.before.length+M.lines.length+M.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,m&&(y+=m*h.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),k){const E=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;y+=v*E+(k-v)*f.lineHeight+(k-1)*t.bodySpacing}p&&(y+=t.footerMarginTop+p*g.lineHeight+(p-1)*t.footerSpacing);let O=0;const I=function(E){w=Math.max(w,e.measureText(E).width+O)};return e.save(),e.font=h.string,Et(n.title,I),e.font=f.string,Et(n.beforeBody.concat(n.afterBody),I),O=t.displayColors?l+2+t.boxPadding:0,Et(i,E=>{Et(E.before,I),Et(E.lines,I),Et(E.after,I)}),O=0,e.font=g.string,Et(n.footer,I),e.restore(),w+=S.width,{width:w,height:y}}function hM(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function dM(n,t,e,i){const{x:s,width:a}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+a+l>t.width||n==="right"&&s-a-l<0)return!0}function gM(n,t,e,i){const{x:s,width:a}=e,{width:l,chartArea:{left:u,right:f}}=n;let h="center";return i==="center"?h=s<=(u+f)/2?"left":"right":s<=a/2?h="left":s>=l-a/2&&(h="right"),dM(h,n,t,e)&&(h="center"),h}function Fd(n,t,e){const i=e.yAlign||t.yAlign||hM(n,e);return{xAlign:e.xAlign||t.xAlign||gM(n,t,e,i),yAlign:i}}function pM(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function mM(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function Bd(n,t,e,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:f}=e,h=s+a,{topLeft:g,topRight:m,bottomLeft:p,bottomRight:v}=cs(l);let S=pM(t,u);const y=mM(t,f,h);return f==="center"?u==="left"?S+=h:u==="right"&&(S-=h):u==="left"?S-=Math.max(g,p)+s:u==="right"&&(S+=Math.max(m,v)+s),{x:cn(S,0,i.width-t.width),y:cn(y,0,i.height-t.height)}}function Po(n,t,e){const i=hn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Wd(n){return Tn([],jn(n))}function _M(n,t,e){return $i(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function zd(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const xp={beforeTitle:Kn,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Kn,beforeBody:Kn,beforeLabel:Kn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return zt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Kn,afterBody:Kn,beforeFooter:Kn,footer:Kn,afterFooter:Kn};function Oe(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?xp[t].call(e,i):s}class Nd extends Yi{static positioners=Qr;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,a=new ip(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=_M(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=Oe(i,"beforeTitle",this,t),a=Oe(i,"title",this,t),l=Oe(i,"afterTitle",this,t);let u=[];return u=Tn(u,jn(s)),u=Tn(u,jn(a)),u=Tn(u,jn(l)),u}getBeforeBody(t,e){return Wd(Oe(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return Et(t,a=>{const l={before:[],lines:[],after:[]},u=zd(i,a);Tn(l.before,jn(Oe(u,"beforeLabel",this,a))),Tn(l.lines,Oe(u,"label",this,a)),Tn(l.after,jn(Oe(u,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,e){return Wd(Oe(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Oe(i,"beforeFooter",this,t),a=Oe(i,"footer",this,t),l=Oe(i,"afterFooter",this,t);let u=[];return u=Tn(u,jn(s)),u=Tn(u,jn(a)),u=Tn(u,jn(l)),u}_createItems(t){const e=this._active,i=this.chart.data,s=[],a=[],l=[];let u=[],f,h;for(f=0,h=e.length;f<h;++f)u.push(fM(this.chart,e[f]));return t.filter&&(u=u.filter((g,m,p)=>t.filter(g,m,p,i))),t.itemSort&&(u=u.sort((g,m)=>t.itemSort(g,m,i))),Et(u,g=>{const m=zd(t.callbacks,g);s.push(Oe(m,"labelColor",this,g)),a.push(Oe(m,"labelPointStyle",this,g)),l.push(Oe(m,"labelTextColor",this,g))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const u=Qr[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=Rd(this,i),h=Object.assign({},u,f),g=Fd(this.chart,i,h),m=Bd(i,h,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:m.x,y:m.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const a=this.getCaretPosition(t,i,s);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:m}=cs(u),{x:p,y:v}=t,{width:S,height:y}=e;let w,k,O,I,E,M;return a==="center"?(E=v+y/2,s==="left"?(w=p,k=w-l,I=E+l,M=E-l):(w=p+S,k=w+l,I=E-l,M=E+l),O=w):(s==="left"?k=p+Math.max(f,g)+l:s==="right"?k=p+S-Math.max(h,m)-l:k=this.caretX,a==="top"?(I=v,E=I-l,w=k-l,O=k+l):(I=v+y,E=I+l,w=k+l,O=k-l),M=I),{x1:w,x2:k,x3:O,y1:I,y2:E,y3:M}}drawTitle(t,e,i){const s=this.title,a=s.length;let l,u,f;if(a){const h=pr(i.rtl,this.x,this.width);for(t.x=Po(this,i.titleAlign,i),e.textAlign=h.textAlign(i.titleAlign),e.textBaseline="middle",l=xe(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,f=0;f<a;++f)e.fillText(s[f],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,f+1===a&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,s,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:h}=a,g=xe(a.bodyFont),m=Po(this,"left",a),p=s.x(m),v=f<g.lineHeight?(g.lineHeight-f)/2:0,S=e.y+v;if(a.usePointStyle){const y={radius:Math.min(h,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},w=s.leftForLtr(p,h)+h/2,k=S+f/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,vc(t,y,w,k),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,vc(t,y,w,k)}else{t.lineWidth=Mt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const y=s.leftForLtr(p,h),w=s.leftForLtr(s.xPlus(p,1),h-2),k=cs(l.borderRadius);Object.values(k).some(O=>O!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,bc(t,{x:y,y:S,w:h,h:f,radius:k}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),bc(t,{x:w,y:S+1,w:h-2,h:f-2,radius:k}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(y,S,h,f),t.strokeRect(y,S,h,f),t.fillStyle=l.backgroundColor,t.fillRect(w,S+1,h-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:h,boxPadding:g}=i,m=xe(i.bodyFont);let p=m.lineHeight,v=0;const S=pr(i.rtl,this.x,this.width),y=function(L){e.fillText(L,S.x(t.x+v),t.y+p/2),t.y+=p+a},w=S.textAlign(l);let k,O,I,E,M,R,B;for(e.textAlign=l,e.textBaseline="middle",e.font=m.string,t.x=Po(this,w,i),e.fillStyle=i.bodyColor,Et(this.beforeBody,y),v=u&&w!=="right"?l==="center"?h/2+g:h+2+g:0,E=0,R=s.length;E<R;++E){for(k=s[E],O=this.labelTextColors[E],e.fillStyle=O,Et(k.before,y),I=k.lines,u&&I.length&&(this._drawColorBox(e,t,E,S,i),p=Math.max(m.lineHeight,f)),M=0,B=I.length;M<B;++M)y(I[M]),p=m.lineHeight;Et(k.after,y)}v=0,p=m.lineHeight,Et(this.afterBody,y),t.y-=a}drawFooter(t,e,i){const s=this.footer,a=s.length;let l,u;if(a){const f=pr(i.rtl,this.x,this.width);for(t.x=Po(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",l=xe(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<a;++u)e.fillText(s[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:a,yAlign:l}=this,{x:u,y:f}=t,{width:h,height:g}=i,{topLeft:m,topRight:p,bottomLeft:v,bottomRight:S}=cs(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(u+m,f),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(u+h-p,f),e.quadraticCurveTo(u+h,f,u+h,f+p),l==="center"&&a==="right"&&this.drawCaret(t,e,i,s),e.lineTo(u+h,f+g-S),e.quadraticCurveTo(u+h,f+g,u+h-S,f+g),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(u+v,f+g),e.quadraticCurveTo(u,f+g,u,f+g-v),l==="center"&&a==="left"&&this.drawCaret(t,e,i,s),e.lineTo(u,f+m),e.quadraticCurveTo(u,f,u+m,f),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=Qr[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Rd(this,t),f=Object.assign({},l,this._size),h=Fd(e,t,f),g=Bd(t,f,h,e);(s._to!==g.x||a._to!==g.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=hn(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,e),tp(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),ep(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:u,index:f})=>{const h=this.chart.getDatasetMeta(u);if(!h)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:h.data[f],index:f}}),a=!ea(i,s),l=this._positionChanged(s,e);(a||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,i),u=this._positionChanged(l,t),f=e||!ea(l,a)||u;return f&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:a}=this,l=Qr[a.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}var vM={id:"tooltip",_element:Nd,positioners:Qr,afterInit(n,t,e){e&&(n.tooltip=new Nd({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const bM=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function xM(n,t,e,i){const s=n.indexOf(t);if(s===-1)return bM(n,t,e,i);const a=n.lastIndexOf(t);return s!==a?e:s}const yM=(n,t)=>n===null?null:cn(Math.round(n),0,t);function Hd(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class wM extends Sr{static id="category";static defaults={ticks:{callback:Hd}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:a}of e)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(zt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:xM(i,t,wt(e,t),this._addedLabels),yM(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return Hd.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function SM(n,t){const e=[],{bounds:s,step:a,min:l,max:u,precision:f,count:h,maxTicks:g,maxDigits:m,includeBounds:p}=n,v=a||1,S=g-1,{min:y,max:w}=t,k=!zt(l),O=!zt(u),I=!zt(h),E=(w-y)/(m+1);let M=Vh((w-y)/S/v)*v,R,B,L,$;if(M<1e-14&&!k&&!O)return[{value:y},{value:w}];$=Math.ceil(w/M)-Math.floor(y/M),$>S&&(M=Vh($*M/S/v)*v),zt(f)||(R=Math.pow(10,f),M=Math.ceil(M*R)/R),s==="ticks"?(B=Math.floor(y/M)*M,L=Math.ceil(w/M)*M):(B=y,L=w),k&&O&&a&&sC((u-l)/a,M/1e3)?($=Math.round(Math.min((u-l)/M,g)),M=(u-l)/$,B=l,L=u):I?(B=k?l:B,L=O?u:L,$=h-1,M=(L-B)/$):($=(L-B)/M,os($,Math.round($),M/1e3)?$=Math.round($):$=Math.ceil($));const G=Math.max(Xh(M),Xh(B));R=Math.pow(10,zt(f)?G:f),B=Math.round(B*R)/R,L=Math.round(L*R)/R;let q=0;for(k&&(p&&B!==l?(e.push({value:l}),B<l&&q++,os(Math.round((B+q*M)*R)/R,l,$d(l,E,n))&&q++):B<l&&q++);q<$;++q){const j=Math.round((B+q*M)*R)/R;if(O&&j>u)break;e.push({value:j})}return O&&p&&L!==u?e.length&&os(e[e.length-1].value,u,$d(u,E,n))?e[e.length-1].value=u:e.push({value:u}):(!O||L===u)&&e.push({value:L}),e}function $d(n,t,{horizontal:e,minRotation:i}){const s=Fi(i),a=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class CM extends Sr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return zt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=f=>s=e?s:f,u=f=>a=i?a:f;if(t){const f=br(s),h=br(a);f<0&&h<0?u(0):f>0&&h>0&&l(0)}if(s===a){let f=a===0?1:Math.abs(a*.05);u(a+f),t||l(s-f)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=SM(s,a);return t.bounds==="ticks"&&oC(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Vg(t,this.chart.options.locale,this.options.ticks.format)}}class kM extends CM{static id="linear";static defaults={ticks:{callback:Xg.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=fn(t)?t:0,this.max=fn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Fi(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const _a={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Re=Object.keys(_a);function Yd(n,t){return n-t}function Ud(n,t){if(zt(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:a}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),fn(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(vs(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,s)),+l)}function Vd(n,t,e,i){const s=Re.length;for(let a=Re.indexOf(n);a<s-1;++a){const l=_a[Re[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Re[a]}return Re[s-1]}function DM(n,t,e,i,s){for(let a=Re.length-1;a>=Re.indexOf(e);a--){const l=Re[a];if(_a[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return Re[e?Re.indexOf(e):0]}function MM(n){for(let t=Re.indexOf(n)+1,e=Re.length;t<e;++t)if(_a[Re[t]].common)return Re[t]}function Xd(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=zc(e,t),a=e[i]>=t?e[i]:e[s];n[a]=!0}}function TM(n,t,e,i){const s=n._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let u,f;for(u=a;u<=l;u=+s.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}function qd(n,t,e){const i=[],s={},a=t.length;let l,u;for(l=0;l<a;++l)u=t[l],s[u]=l,i.push({value:u,major:!1});return a===0||!e?i:TM(n,i,s,e)}class Sc extends Sr{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new op._date(t.adapters.date);s.init(e),ss(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Ud(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function f(h){!l&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!u&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!l||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),s=fn(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),a=fn(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,u=hC(s,a,l);return this._unit=e.unit||(i.autoSkip?Vd(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):DM(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:MM(this._unit),this.initOffsets(s),t.reverse&&u.reverse(),qd(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=cn(e,0,l),i=cn(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||Vd(a.minUnit,e,i,this._getLabelCapacity(e)),u=wt(s.ticks.stepSize,1),f=l==="week"?a.isoWeekday:!1,h=vs(f)||f===!0,g={};let m=e,p,v;if(h&&(m=+t.startOf(m,"isoWeek",f)),m=+t.startOf(m,h?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=s.ticks.source==="data"&&this.getDataTimestamps();for(p=m,v=0;p<i;p=+t.add(p,u,l),v++)Xd(g,p,S);return(p===i||s.bounds==="ticks"||v===1)&&Xd(g,p,S),Object.keys(g).sort(Yd).map(y=>+y)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,a=this._unit,l=e||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const a=this.options,l=a.ticks.callback;if(l)return $t(l,[t,e,i],this);const u=a.time.displayFormats,f=this._unit,h=this._majorUnit,g=f&&u[f],m=h&&u[h],p=i[e],v=h&&m&&p&&p.major;return this._adapter.format(t,s||(v?m:g))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=Fi(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,qd(this,[t],this._majorUnit),s),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(Ud(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return gC(t.sort(Yd))}}function Lo(n,t,e){let i=0,s=n.length-1,a,l,u,f;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=Bi(n,"pos",t)),{pos:a,time:u}=n[i],{pos:l,time:f}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=Bi(n,"time",t)),{time:a,pos:u}=n[i],{time:l,pos:f}=n[s]);const h=l-a;return h?u+(f-u)*(t-a)/h:u}class kA extends Sc{static id="timeseries";static defaults=Sc.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Lo(e,this.min),this._tableRange=Lo(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],a=[];let l,u,f,h,g;for(l=0,u=t.length;l<u;++l)h=t[l],h>=e&&h<=i&&s.push(h);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)g=s[l+1],f=s[l-1],h=s[l],Math.round((g+f)/2)!==h&&a.push({time:h,pos:l/(u-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Lo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Lo(this._table,i*this._tableRange+this._minPos,!0)}}const yp={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},AM={ariaLabel:{type:String},ariaDescribedby:{type:String}},OM={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...yp,...AM},EM=Zw[0]==="2"?(n,t)=>Object.assign(n,{attrs:t}):(n,t)=>Object.assign(n,t);function ur(n){return Og(n)?dc(n):n}function IM(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n;return Og(t)?new Proxy(n,{}):n}function PM(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function wp(n,t){n.labels=t}function Sp(n,t,e){const i=[];n.datasets=t.map(s=>{const a=n.datasets.find(l=>l[e]===s[e]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function LM(n,t){const e={labels:[],datasets:[]};return wp(e,n.labels),Sp(e,n.datasets,t),e}const RM=qe({props:OM,setup(n,t){let{expose:e,slots:i}=t;const s=Yt(null),a=Ag(null);e({chart:a});const l=()=>{if(!s.value)return;const{type:h,data:g,options:m,plugins:p,datasetIdKey:v}=n,S=LM(g,v),y=IM(S,g);a.value=new ws(s.value,{type:h,data:y,options:{...m},plugins:p})},u=()=>{const h=dc(a.value);h&&(n.destroyDelay>0?setTimeout(()=>{h.destroy(),a.value=null},n.destroyDelay):(h.destroy(),a.value=null))},f=h=>{h.update(n.updateMode)};return mi(l),Dg(u),En([()=>n.options,()=>n.data],(h,g)=>{let[m,p]=h,[v,S]=g;const y=dc(a.value);if(!y)return;let w=!1;if(m){const k=ur(m),O=ur(v);k&&k!==O&&(PM(y,k),w=!0)}if(p){const k=ur(p.labels),O=ur(S.labels),I=ur(p.datasets),E=ur(S.datasets);k!==O&&(wp(y.config.data,k),w=!0),I&&I!==E&&(Sp(y.config.data,I,n.datasetIdKey),w=!0)}w&&Xe(()=>{f(y)})},{deep:!0}),()=>ps("canvas",{role:"img",ariaLabel:n.ariaLabel,ariaDescribedby:n.ariaDescribedby,ref:s},[ps("p",{},[i.default?i.default():""])])}});function FM(n,t){return ws.register(t),qe({props:yp,setup(e,i){let{expose:s}=i;const a=Ag(null),l=u=>{a.value=u?.chart};return s({chart:a}),()=>ps(RM,EM({ref:l},{type:n,...e}))}})}const BM=FM("line",Bk);var Uo={exports:{}},WM=Uo.exports,Kd;function zM(){return Kd||(Kd=1,function(n,t){(function(e,i){n.exports=i()})(WM,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,a=/\d\d/,l=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,f={},h=function(w){return(w=+w)+(w>68?1900:2e3)},g=function(w){return function(k){this[w]=+k}},m=[/[+-]\d\d:?(\d\d)?|Z/,function(w){(this.zone||(this.zone={})).offset=function(k){if(!k||k==="Z")return 0;var O=k.match(/([+-]|\d\d)/g),I=60*O[1]+(+O[2]||0);return I===0?0:O[0]==="+"?-I:I}(w)}],p=function(w){var k=f[w];return k&&(k.indexOf?k:k.s.concat(k.f))},v=function(w,k){var O,I=f.meridiem;if(I){for(var E=1;E<=24;E+=1)if(w.indexOf(I(E,0,k))>-1){O=E>12;break}}else O=w===(k?"pm":"PM");return O},S={A:[u,function(w){this.afternoon=v(w,!1)}],a:[u,function(w){this.afternoon=v(w,!0)}],Q:[s,function(w){this.month=3*(w-1)+1}],S:[s,function(w){this.milliseconds=100*+w}],SS:[a,function(w){this.milliseconds=10*+w}],SSS:[/\d{3}/,function(w){this.milliseconds=+w}],s:[l,g("seconds")],ss:[l,g("seconds")],m:[l,g("minutes")],mm:[l,g("minutes")],H:[l,g("hours")],h:[l,g("hours")],HH:[l,g("hours")],hh:[l,g("hours")],D:[l,g("day")],DD:[a,g("day")],Do:[u,function(w){var k=f.ordinal,O=w.match(/\d+/);if(this.day=O[0],k)for(var I=1;I<=31;I+=1)k(I).replace(/\[|\]/g,"")===w&&(this.day=I)}],w:[l,g("week")],ww:[a,g("week")],M:[l,g("month")],MM:[a,g("month")],MMM:[u,function(w){var k=p("months"),O=(p("monthsShort")||k.map(function(I){return I.slice(0,3)})).indexOf(w)+1;if(O<1)throw new Error;this.month=O%12||O}],MMMM:[u,function(w){var k=p("months").indexOf(w)+1;if(k<1)throw new Error;this.month=k%12||k}],Y:[/[+-]?\d+/,g("year")],YY:[a,function(w){this.year=h(w)}],YYYY:[/\d{4}/,g("year")],Z:m,ZZ:m};function y(w){var k,O;k=w,O=f&&f.formats;for(var I=(w=k.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(G,q,j){var rt=j&&j.toUpperCase();return q||O[j]||e[j]||O[rt].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(vt,st,ft){return st||ft.slice(1)})})).match(i),E=I.length,M=0;M<E;M+=1){var R=I[M],B=S[R],L=B&&B[0],$=B&&B[1];I[M]=$?{regex:L,parser:$}:R.replace(/^\[|\]$/g,"")}return function(G){for(var q={},j=0,rt=0;j<E;j+=1){var vt=I[j];if(typeof vt=="string")rt+=vt.length;else{var st=vt.regex,ft=vt.parser,bt=G.slice(rt),Ct=st.exec(bt)[0];ft.call(q,Ct),G=G.replace(Ct,"")}}return function(ne){var Jt=ne.afternoon;if(Jt!==void 0){var V=ne.hours;Jt?V<12&&(ne.hours+=12):V===12&&(ne.hours=0),delete ne.afternoon}}(q),q}}return function(w,k,O){O.p.customParseFormat=!0,w&&w.parseTwoDigitYear&&(h=w.parseTwoDigitYear);var I=k.prototype,E=I.parse;I.parse=function(M){var R=M.date,B=M.utc,L=M.args;this.$u=B;var $=L[1];if(typeof $=="string"){var G=L[2]===!0,q=L[3]===!0,j=G||q,rt=L[2];q&&(rt=L[2]),f=this.$locale(),!G&&rt&&(f=O.Ls[rt]),this.$d=function(bt,Ct,ne,Jt){try{if(["x","X"].indexOf(Ct)>-1)return new Date((Ct==="X"?1e3:1)*bt);var V=y(Ct)(bt),mt=V.year,xt=V.month,Rt=V.day,Tt=V.hours,qt=V.minutes,N=V.seconds,ot=V.milliseconds,at=V.zone,Ft=V.week,Nt=new Date,de=Rt||(mt||xt?1:Nt.getDate()),ke=mt||Nt.getFullYear(),Pt=0;mt&&!xt||(Pt=xt>0?xt-1:Nt.getMonth());var Kt,Sn=Tt||0,ge=qt||0,Ui=N||0,Cr=ot||0;return at?new Date(Date.UTC(ke,Pt,de,Sn,ge,Ui,Cr+60*at.offset*1e3)):ne?new Date(Date.UTC(ke,Pt,de,Sn,ge,Ui,Cr)):(Kt=new Date(ke,Pt,de,Sn,ge,Ui,Cr),Ft&&(Kt=Jt(Kt).week(Ft).toDate()),Kt)}catch{return new Date("")}}(R,$,B,O),this.init(),rt&&rt!==!0&&(this.$L=this.locale(rt).$L),j&&R!=this.format($)&&(this.$d=new Date("")),f={}}else if($ instanceof Array)for(var vt=$.length,st=1;st<=vt;st+=1){L[1]=$[st-1];var ft=O.apply(this,L);if(ft.isValid()){this.$d=ft.$d,this.$L=ft.$L,this.init();break}st===vt&&(this.$d=new Date(""))}else E.call(this,M)}}})}(Uo)),Uo.exports}var NM=zM();const HM=Cs(NM);var Vo={exports:{}},$M=Vo.exports,Gd;function YM(){return Gd||(Gd=1,function(n,t){(function(e,i){n.exports=i()})($M,function(){return function(e,i){var s=i.prototype,a=s.format;s.format=function(l){var u=this,f=this.$locale();if(!this.isValid())return a.bind(this)(l);var h=this.$utils(),g=(l||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(m){switch(m){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return f.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return f.ordinal(u.week(),"W");case"w":case"ww":return h.s(u.week(),m==="w"?1:2,"0");case"W":case"WW":return h.s(u.isoWeek(),m==="W"?1:2,"0");case"k":case"kk":return h.s(String(u.$H===0?24:u.$H),m==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return m}});return a.bind(this)(g)}}})}(Vo)),Vo.exports}var UM=YM();const VM=Cs(UM);var Xo={exports:{}},XM=Xo.exports,jd;function qM(){return jd||(jd=1,function(n,t){(function(e,i){n.exports=i()})(XM,function(){var e="month",i="quarter";return function(s,a){var l=a.prototype;l.quarter=function(h){return this.$utils().u(h)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(h-1))};var u=l.add;l.add=function(h,g){return h=Number(h),this.$utils().p(g)===i?this.add(3*h,e):u.bind(this)(h,g)};var f=l.startOf;l.startOf=function(h,g){var m=this.$utils(),p=!!m.u(g)||g;if(m.p(h)===i){var v=this.quarter()-1;return p?this.month(3*v).startOf(e).startOf("day"):this.month(3*v+2).endOf(e).endOf("day")}return f.bind(this)(h,g)}}})}(Xo)),Xo.exports}var KM=qM();const GM=Cs(KM);var qo={exports:{}},jM=qo.exports,Zd;function ZM(){return Zd||(Zd=1,function(n,t){(function(e,i){n.exports=i()})(jM,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(i,s,a){var l=s.prototype,u=l.format;a.en.formats=e,l.format=function(f){f===void 0&&(f="YYYY-MM-DDTHH:mm:ssZ");var h=this.$locale().formats,g=function(m,p){return m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(v,S,y){var w=y&&y.toUpperCase();return S||p[y]||e[y]||p[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(k,O,I){return O||I.slice(1)})})}(f,h===void 0?{}:h);return u.call(this,g)}}})}(qo)),qo.exports}var JM=ZM();const QM=Cs(JM);var Ko={exports:{}},tT=Ko.exports,Jd;function eT(){return Jd||(Jd=1,function(n,t){(function(e,i){n.exports=i()})(tT,function(){var e="day";return function(i,s,a){var l=function(h){return h.add(4-h.isoWeekday(),e)},u=s.prototype;u.isoWeekYear=function(){return l(this).year()},u.isoWeek=function(h){if(!this.$utils().u(h))return this.add(7*(h-this.isoWeek()),e);var g,m,p,v,S=l(this),y=(g=this.isoWeekYear(),m=this.$u,p=(m?a.utc:a)().year(g).startOf("year"),v=4-p.isoWeekday(),p.isoWeekday()>4&&(v+=7),p.add(v,e));return S.diff(y,"week")+1},u.isoWeekday=function(h){return this.$utils().u(h)?this.day()||7:this.day(this.day()%7?h:h-7)};var f=u.startOf;u.startOf=function(h,g){var m=this.$utils(),p=!!m.u(g)||g;return m.p(h)==="isoweek"?p?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):f.bind(this)(h,g)}}})}(Ko)),Ko.exports}var nT=eT();const iT=Cs(nT);Wt.extend(VM);Wt.extend(GM);Wt.extend(QM);Wt.extend(HM);Wt.extend(iT);var rT={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};op._date.override({formats:function(){return rT},parse:function(t,e){var i=typeof t;return t===null||i==="undefined"?null:i==="string"&&typeof e=="string"?Wt(t,e).isValid()?Wt(t,e).valueOf():null:t instanceof Wt?null:Wt(t).isValid()?Wt(t).valueOf():null},format:function(t,e){return Wt(t).format(e)},add:function(t,e,i){return Wt(t).add(e,i).valueOf()},diff:function(t,e,i){return Wt(t).diff(Wt(e),i)},startOf:function(t,e,i){if(e==="isoWeek"){var s=typeof i=="number"&&i>0&&i<7?i:1;return Wt(t).isoWeekday(s).startOf("day").valueOf()}return Wt(t).startOf(e).valueOf()},endOf:function(t,e){return Wt(t).endOf(e).valueOf()}});const sT={key:1,class:"error-placeholder"},oT={__name:"KdjChart",props:{stockId:{type:String,required:!0},width:{type:Number,default:200},height:{type:Number,default:100}},emits:["kdjClick"],setup(n,{emit:t}){ws.register(wM,kM,nM,eM,uM,vM,lM,Sc);const e={id:"kdjDisplay",afterDatasetsDraw:(m,p,v)=>{if(!v.enabled||!v.lastKdj)return;const{ctx:S,chartArea:y}=m,{lastKdj:w}=v,k=y.right-75,O=y.bottom-15;S.save(),S.fillStyle="rgba(255, 255, 255, 0.95)",S.strokeStyle="rgba(0, 0, 0, 0.15)",S.lineWidth=1;const I=k-5,E=O-12,M=70,R=20;S.fillRect(I,E,M,R),S.strokeRect(I,E,M,R),S.font="bold 11px Arial",S.textAlign="left",S.fillStyle="#4286f5",S.fillText(`K: ${w.k}`,k,O),S.fillStyle="#e75c9a",S.fillText(`D: ${w.d}`,k+35,O),S.restore()}};ws.register(e);const i=n,s=t,a=Lc(),l=Yt(null),u=It(()=>{const m=a.userStockList.find(p=>p.id===i.stockId);return m?.data?.weeklyKdj?m.data.weeklyKdj.filter(p=>p&&Array.isArray(p)&&p.length>=4&&typeof p[1]=="number"&&!isNaN(p[1])&&typeof p[2]=="number"&&!isNaN(p[2])&&typeof p[3]=="number"&&!isNaN(p[3])).map(p=>({x:Wt(p[0],"YYYYMMDD").toDate(),k:p[1],d:p[2],j:p[3]})):[]}),f=It(()=>{const m=u.value;if(!m||m.length===0)return{datasets:[]};const p=m.map(S=>({x:S.x,y:S.k})),v=m.map(S=>({x:S.x,y:S.d}));return{datasets:[{label:"K",data:p,borderColor:"#4286f5",backgroundColor:"rgba(66, 134, 245, 0.1)",borderWidth:2,fill:!1,tension:0,pointRadius:0,pointHoverRadius:4,pointBackgroundColor:"#4286f5",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBorderWidth:2},{label:"D",data:v,borderColor:"#e75c9a",backgroundColor:"rgba(231, 92, 154, 0.1)",borderWidth:2,fill:!1,tension:0,pointRadius:0,pointHoverRadius:4,pointBackgroundColor:"#e75c9a",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBorderWidth:2}]}}),h=It(()=>{const m=u.value;return m&&m.length>0?m[m.length-1]:null}),g=It(()=>{const m=h.value;return{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"nearest",intersect:!1,backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#333",bodyColor:"#333",borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,cornerRadius:6,displayColors:!1,padding:8,titleFont:{size:12,weight:"bold"},bodyFont:{size:11},callbacks:{title:function(p){const v=p[0].parsed.x;return Wt(v).format("YYYY-MM-DD(dd)")},label:function(p){const v=p.dataset.label,S=p.parsed.y.toFixed(2);return`${v}: ${S}`},afterLabel:function(p){const v=p.dataIndex,S=u.value;if(S&&S[v]){const y=S[v];if(p.datasetIndex===0)return[`K: ${y.k.toFixed(2)}`,`D: ${y.d.toFixed(2)}`,`J: ${y.j.toFixed(2)}`]}return[]}}},kdjDisplay:{enabled:!!m,lastKdj:m?{k:m.k.toFixed(2),d:m.d.toFixed(2),j:m.j.toFixed(2),date:Wt(m.x).format("YYYY/MM/DD")}:null}},scales:{x:{type:"time",time:{unit:"week",displayFormats:{week:"MM/DD"}},display:!1,grid:{display:!1},ticks:{display:!1},offset:!1,bounds:"data"},y:{type:"linear",position:"right",display:!0,min:0,max:100,border:{display:!1},grid:{display:!0,drawTicks:!1,color:"rgba(200, 200, 200, 0.2)",lineWidth:1},ticks:{stepSize:10,autoSkip:!1,color:"#888",font:{size:12},padding:-15,callback:p=>p===20||p===50||p===80?p:""}}},animation:!1,interaction:{mode:"nearest",intersect:!1,includeInvisible:!1},hover:{mode:"nearest",intersect:!1,animationDuration:200},onClick:(p,v,S)=>{console.log("Chart onClick triggered"),console.log("Event object:",p);const y=S.canvas.getBoundingClientRect();let w,k;if(p.native)w=p.native.offsetX||p.native.clientX-y.left,k=p.native.offsetY||p.native.clientY-y.top;else if(p.offsetX!==void 0)w=p.offsetX,k=p.offsetY;else if(p.clientX!==void 0)w=p.clientX-y.left,k=p.clientY-y.top;else{console.log("Cannot determine click position");return}console.log("Click position:",{x:w,y:k}),console.log("Canvas rect:",y);const O=S.chartArea,I={left:O.right-80,right:O.right-5,top:O.bottom-25,bottom:O.bottom-5};if(console.log("KDJ area:",I),w>=I.left&&w<=I.right&&k>=I.top&&k<=I.bottom){console.log("Clicked in KDJ area");const E=h.value;E&&(console.log("Emitting kdjClick event:",E),s("kdjClick",{k:E.k.toFixed(2),d:E.d.toFixed(2),j:E.j.toFixed(2),date:Wt(E.x).format("YYYY/MM/DD")}))}else console.log("Clicked outside KDJ area")}}});return(m,p)=>(Ie(),ln("div",{ref_key:"chartContainer",ref:l,class:"kdj-chart",style:{width:"100%",height:"100%"}},[f.value.datasets.length>0?(Ie(),Mg(ve(BM),{key:0,data:f.value,options:g.value},null,8,["data","options"])):(Ie(),ln("div",sT,"KDJ 圖表暫不可用"))],512))}},aT=Ec(oT,[["__scopeId","data-v-d8fa3383"]]),lT={class:"stock-name"},cT={class:"stock-name-main"},uT={class:"stock-name-left"},fT={class:"name highlight"},hT={class:"code"},dT={class:"stock-name-right"},gT={class:"stock-progress-bar"},pT={class:"progress-text"},mT={__name:"StockName",props:{name:String,code:String,price:[String,Number],change:[String,Number],changePercent:[String,Number],priceClass:String,progress:Number,progressText:String},setup(n){return(t,e)=>(Ie(),ln("div",lT,[gt("div",cT,[gt("div",uT,[gt("div",fT,Pe(n.name),1),gt("div",hT,Pe(n.code),1),e[0]||(e[0]=gt("div",{class:"star-area"},[gt("span",{class:"star"},"★")],-1))]),gt("div",dT,[gt("div",{class:gc(["price",n.priceClass])},Pe(n.price),3),gt("div",{class:gc(["change",n.priceClass])},Pe(n.change>0?"+":"")+Pe(n.change)+" ("+Pe(n.changePercent)+"%) ",3)])]),gt("div",gT,[gt("div",{class:"stock-progress-inner",style:Tg({width:(n.progress||0)+"%"})},[gt("span",pT,Pe(n.progressText||(n.progress||0)+"%"),1)],4)])]))}},_T=Ec(mT,[["__scopeId","data-v-c759bb7e"]]);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Qd(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,i)}return e}function Rn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Qd(Object(e),!0).forEach(function(i){vT(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Qd(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Go(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Go=function(t){return typeof t}:Go=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(n)}function vT(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Qn(){return Qn=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Qn.apply(this,arguments)}function bT(n,t){if(n==null)return{};var e={},i=Object.keys(n),s,a;for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&(e[s]=n[s]);return e}function xT(n,t){if(n==null)return{};var e=bT(n,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}var yT="1.14.0";function Jn(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var ti=Jn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ds=Jn(/Edge/i),tg=Jn(/firefox/i),us=Jn(/safari/i)&&!Jn(/chrome/i)&&!Jn(/android/i),Cp=Jn(/iP(ad|od|hone)/i),wT=Jn(/chrome/i)&&Jn(/android/i),kp={capture:!1,passive:!1};function Dt(n,t,e){n.addEventListener(t,e,!ti&&kp)}function St(n,t,e){n.removeEventListener(t,e,!ti&&kp)}function la(n,t){if(t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch{return!1}return!1}}function ST(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function On(n,t,e,i){if(n){e=e||document;do{if(t!=null&&(t[0]===">"?n.parentNode===e&&la(n,t):la(n,t))||i&&n===e)return n;if(n===e)break}while(n=ST(n))}return null}var eg=/\s+/g;function $e(n,t,e){if(n&&t)if(n.classList)n.classList[e?"add":"remove"](t);else{var i=(" "+n.className+" ").replace(eg," ").replace(" "+t+" "," ");n.className=(i+(e?" "+t:"")).replace(eg," ")}}function et(n,t,e){var i=n&&n.style;if(i){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(e=n.currentStyle),t===void 0?e:e[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=e+(typeof e=="string"?"":"px")}}function mr(n,t){var e="";if(typeof n=="string")e=n;else do{var i=et(n,"transform");i&&i!=="none"&&(e=i+" "+e)}while(!t&&(n=n.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(e)}function Dp(n,t,e){if(n){var i=n.getElementsByTagName(t),s=0,a=i.length;if(e)for(;s<a;s++)e(i[s],s);return i}return[]}function Ln(){var n=document.scrollingElement;return n||document.documentElement}function oe(n,t,e,i,s){if(!(!n.getBoundingClientRect&&n!==window)){var a,l,u,f,h,g,m;if(n!==window&&n.parentNode&&n!==Ln()?(a=n.getBoundingClientRect(),l=a.top,u=a.left,f=a.bottom,h=a.right,g=a.height,m=a.width):(l=0,u=0,f=window.innerHeight,h=window.innerWidth,g=window.innerHeight,m=window.innerWidth),(t||e)&&n!==window&&(s=s||n.parentNode,!ti))do if(s&&s.getBoundingClientRect&&(et(s,"transform")!=="none"||e&&et(s,"position")!=="static")){var p=s.getBoundingClientRect();l-=p.top+parseInt(et(s,"border-top-width")),u-=p.left+parseInt(et(s,"border-left-width")),f=l+a.height,h=u+a.width;break}while(s=s.parentNode);if(i&&n!==window){var v=mr(s||n),S=v&&v.a,y=v&&v.d;v&&(l/=y,u/=S,m/=S,g/=y,f=l+g,h=u+m)}return{top:l,left:u,bottom:f,right:h,width:m,height:g}}}function ng(n,t,e){for(var i=gi(n,!0),s=oe(n)[t];i;){var a=oe(i)[e],l=void 0;if(l=s>=a,!l)return i;if(i===Ln())break;i=gi(i,!1)}return!1}function wr(n,t,e,i){for(var s=0,a=0,l=n.children;a<l.length;){if(l[a].style.display!=="none"&&l[a]!==nt.ghost&&(i||l[a]!==nt.dragged)&&On(l[a],e.draggable,n,!1)){if(s===t)return l[a];s++}a++}return null}function jc(n,t){for(var e=n.lastElementChild;e&&(e===nt.ghost||et(e,"display")==="none"||t&&!la(e,t));)e=e.previousElementSibling;return e||null}function an(n,t){var e=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==nt.clone&&(!t||la(n,t))&&e++;return e}function ig(n){var t=0,e=0,i=Ln();if(n)do{var s=mr(n),a=s.a,l=s.d;t+=n.scrollLeft*a,e+=n.scrollTop*l}while(n!==i&&(n=n.parentNode));return[t,e]}function CT(n,t){for(var e in n)if(n.hasOwnProperty(e)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===n[e][i])return Number(e)}return-1}function gi(n,t){if(!n||!n.getBoundingClientRect)return Ln();var e=n,i=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var s=et(e);if(e.clientWidth<e.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return Ln();if(i||t)return e;i=!0}}while(e=e.parentNode);return Ln()}function kT(n,t){if(n&&t)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function tc(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}var fs;function Mp(n,t){return function(){if(!fs){var e=arguments,i=this;e.length===1?n.call(i,e[0]):n.apply(i,e),fs=setTimeout(function(){fs=void 0},t)}}}function DT(){clearTimeout(fs),fs=void 0}function Tp(n,t,e){n.scrollLeft+=t,n.scrollTop+=e}function Ap(n){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):e?e(n).clone(!0)[0]:n.cloneNode(!0)}var Ue="Sortable"+new Date().getTime();function MT(){var n=[],t;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(s){if(!(et(s,"display")==="none"||s===nt.ghost)){n.push({target:s,rect:oe(s)});var a=Rn({},n[n.length-1].rect);if(s.thisAnimationDuration){var l=mr(s,!0);l&&(a.top-=l.f,a.left-=l.e)}s.fromRect=a}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(CT(n,{target:i}),1)},animateAll:function(i){var s=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var a=!1,l=0;n.forEach(function(u){var f=0,h=u.target,g=h.fromRect,m=oe(h),p=h.prevFromRect,v=h.prevToRect,S=u.rect,y=mr(h,!0);y&&(m.top-=y.f,m.left-=y.e),h.toRect=m,h.thisAnimationDuration&&tc(p,m)&&!tc(g,m)&&(S.top-m.top)/(S.left-m.left)===(g.top-m.top)/(g.left-m.left)&&(f=AT(S,p,v,s.options)),tc(m,g)||(h.prevFromRect=g,h.prevToRect=m,f||(f=s.options.animation),s.animate(h,S,m,f)),f&&(a=!0,l=Math.max(l,f),clearTimeout(h.animationResetTimer),h.animationResetTimer=setTimeout(function(){h.animationTime=0,h.prevFromRect=null,h.fromRect=null,h.prevToRect=null,h.thisAnimationDuration=null},f),h.thisAnimationDuration=f)}),clearTimeout(t),a?t=setTimeout(function(){typeof i=="function"&&i()},l):typeof i=="function"&&i(),n=[]},animate:function(i,s,a,l){if(l){et(i,"transition",""),et(i,"transform","");var u=mr(this.el),f=u&&u.a,h=u&&u.d,g=(s.left-a.left)/(f||1),m=(s.top-a.top)/(h||1);i.animatingX=!!g,i.animatingY=!!m,et(i,"transform","translate3d("+g+"px,"+m+"px,0)"),this.forRepaintDummy=TT(i),et(i,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),et(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){et(i,"transition",""),et(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},l)}}}}function TT(n){return n.offsetWidth}function AT(n,t,e,i){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*i.animation}var fr=[],ec={initializeByDefault:!0},Ms={mount:function(t){for(var e in ec)ec.hasOwnProperty(e)&&!(e in t)&&(t[e]=ec[e]);fr.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),fr.push(t)},pluginEvent:function(t,e,i){var s=this;this.eventCanceled=!1,i.cancel=function(){s.eventCanceled=!0};var a=t+"Global";fr.forEach(function(l){e[l.pluginName]&&(e[l.pluginName][a]&&e[l.pluginName][a](Rn({sortable:e},i)),e.options[l.pluginName]&&e[l.pluginName][t]&&e[l.pluginName][t](Rn({sortable:e},i)))})},initializePlugins:function(t,e,i,s){fr.forEach(function(u){var f=u.pluginName;if(!(!t.options[f]&&!u.initializeByDefault)){var h=new u(t,e,t.options);h.sortable=t,h.options=t.options,t[f]=h,Qn(i,h.defaults)}});for(var a in t.options)if(t.options.hasOwnProperty(a)){var l=this.modifyOption(t,a,t.options[a]);typeof l<"u"&&(t.options[a]=l)}},getEventProperties:function(t,e){var i={};return fr.forEach(function(s){typeof s.eventProperties=="function"&&Qn(i,s.eventProperties.call(e[s.pluginName],t))}),i},modifyOption:function(t,e,i){var s;return fr.forEach(function(a){t[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[e]=="function"&&(s=a.optionListeners[e].call(t[a.pluginName],i))}),s}};function OT(n){var t=n.sortable,e=n.rootEl,i=n.name,s=n.targetEl,a=n.cloneEl,l=n.toEl,u=n.fromEl,f=n.oldIndex,h=n.newIndex,g=n.oldDraggableIndex,m=n.newDraggableIndex,p=n.originalEvent,v=n.putSortable,S=n.extraEventProperties;if(t=t||e&&e[Ue],!!t){var y,w=t.options,k="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!ti&&!Ds?y=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(i,!0,!0)),y.to=l||e,y.from=u||e,y.item=s||e,y.clone=a,y.oldIndex=f,y.newIndex=h,y.oldDraggableIndex=g,y.newDraggableIndex=m,y.originalEvent=p,y.pullMode=v?v.lastPutMode:void 0;var O=Rn(Rn({},S),Ms.getEventProperties(i,t));for(var I in O)y[I]=O[I];e&&e.dispatchEvent(y),w[k]&&w[k].call(t,y)}}var ET=["evt"],Ee=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.evt,a=xT(i,ET);Ms.pluginEvent.bind(nt)(t,e,Rn({dragEl:U,parentEl:jt,ghostEl:ct,rootEl:Vt,nextEl:Ri,lastDownEl:jo,cloneEl:Zt,cloneHidden:hi,dragStarted:ts,putSortable:he,activeSortable:nt.active,originalEvent:s,oldIndex:gr,oldDraggableIndex:hs,newIndex:Ye,newDraggableIndex:fi,hideGhostForTarget:Pp,unhideGhostForTarget:Lp,cloneNowHidden:function(){hi=!0},cloneNowShown:function(){hi=!1},dispatchSortableEvent:function(u){Ce({sortable:e,name:u,originalEvent:s})}},a))};function Ce(n){OT(Rn({putSortable:he,cloneEl:Zt,targetEl:U,rootEl:Vt,oldIndex:gr,oldDraggableIndex:hs,newIndex:Ye,newDraggableIndex:fi},n))}var U,jt,ct,Vt,Ri,jo,Zt,hi,gr,Ye,hs,fi,Ro,he,dr=!1,ca=!1,ua=[],Oi,bn,nc,ic,rg,sg,ts,hr,ds,gs=!1,Fo=!1,Zo,_e,rc=[],Cc=!1,fa=[],va=typeof document<"u",Bo=Cp,og=Ds||ti?"cssFloat":"float",IT=va&&!wT&&!Cp&&"draggable"in document.createElement("div"),Op=function(){if(va){if(ti)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Ep=function(t,e){var i=et(t),s=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),a=wr(t,0,e),l=wr(t,1,e),u=a&&et(a),f=l&&et(l),h=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+oe(a).width,g=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+oe(l).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&u.float&&u.float!=="none"){var m=u.float==="left"?"left":"right";return l&&(f.clear==="both"||f.clear===m)?"vertical":"horizontal"}return a&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||h>=s&&i[og]==="none"||l&&i[og]==="none"&&h+g>s)?"vertical":"horizontal"},PT=function(t,e,i){var s=i?t.left:t.top,a=i?t.right:t.bottom,l=i?t.width:t.height,u=i?e.left:e.top,f=i?e.right:e.bottom,h=i?e.width:e.height;return s===u||a===f||s+l/2===u+h/2},LT=function(t,e){var i;return ua.some(function(s){var a=s[Ue].options.emptyInsertThreshold;if(!(!a||jc(s))){var l=oe(s),u=t>=l.left-a&&t<=l.right+a,f=e>=l.top-a&&e<=l.bottom+a;if(u&&f)return i=s}}),i},Ip=function(t){function e(a,l){return function(u,f,h,g){var m=u.options.group.name&&f.options.group.name&&u.options.group.name===f.options.group.name;if(a==null&&(l||m))return!0;if(a==null||a===!1)return!1;if(l&&a==="clone")return a;if(typeof a=="function")return e(a(u,f,h,g),l)(u,f,h,g);var p=(l?u:f).options.group.name;return a===!0||typeof a=="string"&&a===p||a.join&&a.indexOf(p)>-1}}var i={},s=t.group;(!s||Go(s)!="object")&&(s={name:s}),i.name=s.name,i.checkPull=e(s.pull,!0),i.checkPut=e(s.put),i.revertClone=s.revertClone,t.group=i},Pp=function(){!Op&&ct&&et(ct,"display","none")},Lp=function(){!Op&&ct&&et(ct,"display","")};va&&document.addEventListener("click",function(n){if(ca)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),ca=!1,!1},!0);var Ei=function(t){if(U){t=t.touches?t.touches[0]:t;var e=LT(t.clientX,t.clientY);if(e){var i={};for(var s in t)t.hasOwnProperty(s)&&(i[s]=t[s]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[Ue]._onDragOver(i)}}},RT=function(t){U&&U.parentNode[Ue]._isOutsideThisEl(t.target)};function nt(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=Qn({},t),n[Ue]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ep(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,u){l.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:nt.supportPointer!==!1&&"PointerEvent"in window&&!us,emptyInsertThreshold:5};Ms.initializePlugins(this,n,e);for(var i in e)!(i in t)&&(t[i]=e[i]);Ip(t);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=t.forceFallback?!1:IT,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Dt(n,"pointerdown",this._onTapStart):(Dt(n,"mousedown",this._onTapStart),Dt(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(Dt(n,"dragover",this),Dt(n,"dragenter",this)),ua.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Qn(this,MT())}nt.prototype={constructor:nt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(hr=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,U):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,i=this.el,s=this.options,a=s.preventOnFilter,l=t.type,u=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,f=(u||t).target,h=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||f,g=s.filter;if(YT(i),!U&&!(/mousedown|pointerdown/.test(l)&&t.button!==0||s.disabled)&&!h.isContentEditable&&!(!this.nativeDraggable&&us&&f&&f.tagName.toUpperCase()==="SELECT")&&(f=On(f,s.draggable,i,!1),!(f&&f.animated)&&jo!==f)){if(gr=an(f),hs=an(f,s.draggable),typeof g=="function"){if(g.call(this,t,f,this)){Ce({sortable:e,rootEl:h,name:"filter",targetEl:f,toEl:i,fromEl:i}),Ee("filter",e,{evt:t}),a&&t.cancelable&&t.preventDefault();return}}else if(g&&(g=g.split(",").some(function(m){if(m=On(h,m.trim(),i,!1),m)return Ce({sortable:e,rootEl:m,name:"filter",targetEl:f,fromEl:i,toEl:i}),Ee("filter",e,{evt:t}),!0}),g)){a&&t.cancelable&&t.preventDefault();return}s.handle&&!On(h,s.handle,i,!1)||this._prepareDragStart(t,u,f)}}},_prepareDragStart:function(t,e,i){var s=this,a=s.el,l=s.options,u=a.ownerDocument,f;if(i&&!U&&i.parentNode===a){var h=oe(i);if(Vt=a,U=i,jt=U.parentNode,Ri=U.nextSibling,jo=i,Ro=l.group,nt.dragged=U,Oi={target:U,clientX:(e||t).clientX,clientY:(e||t).clientY},rg=Oi.clientX-h.left,sg=Oi.clientY-h.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,U.style["will-change"]="all",f=function(){if(Ee("delayEnded",s,{evt:t}),nt.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!tg&&s.nativeDraggable&&(U.draggable=!0),s._triggerDragStart(t,e),Ce({sortable:s,name:"choose",originalEvent:t}),$e(U,l.chosenClass,!0)},l.ignore.split(",").forEach(function(g){Dp(U,g.trim(),sc)}),Dt(u,"dragover",Ei),Dt(u,"mousemove",Ei),Dt(u,"touchmove",Ei),Dt(u,"mouseup",s._onDrop),Dt(u,"touchend",s._onDrop),Dt(u,"touchcancel",s._onDrop),tg&&this.nativeDraggable&&(this.options.touchStartThreshold=4,U.draggable=!0),Ee("delayStart",this,{evt:t}),l.delay&&(!l.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(Ds||ti))){if(nt.eventCanceled){this._onDrop();return}Dt(u,"mouseup",s._disableDelayedDrag),Dt(u,"touchend",s._disableDelayedDrag),Dt(u,"touchcancel",s._disableDelayedDrag),Dt(u,"mousemove",s._delayedDragTouchMoveHandler),Dt(u,"touchmove",s._delayedDragTouchMoveHandler),l.supportPointer&&Dt(u,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(f,l.delay)}else f()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){U&&sc(U),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;St(t,"mouseup",this._disableDelayedDrag),St(t,"touchend",this._disableDelayedDrag),St(t,"touchcancel",this._disableDelayedDrag),St(t,"mousemove",this._delayedDragTouchMoveHandler),St(t,"touchmove",this._delayedDragTouchMoveHandler),St(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?Dt(document,"pointermove",this._onTouchMove):e?Dt(document,"touchmove",this._onTouchMove):Dt(document,"mousemove",this._onTouchMove):(Dt(U,"dragend",this),Dt(Vt,"dragstart",this._onDragStart));try{document.selection?Jo(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(dr=!1,Vt&&U){Ee("dragStarted",this,{evt:e}),this.nativeDraggable&&Dt(document,"dragover",RT);var i=this.options;!t&&$e(U,i.dragClass,!1),$e(U,i.ghostClass,!0),nt.active=this,t&&this._appendGhost(),Ce({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(bn){this._lastX=bn.clientX,this._lastY=bn.clientY,Pp();for(var t=document.elementFromPoint(bn.clientX,bn.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(bn.clientX,bn.clientY),t!==e);)e=t;if(U.parentNode[Ue]._isOutsideThisEl(t),e)do{if(e[Ue]){var i=void 0;if(i=e[Ue]._onDragOver({clientX:bn.clientX,clientY:bn.clientY,target:t,rootEl:e}),i&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Lp()}},_onTouchMove:function(t){if(Oi){var e=this.options,i=e.fallbackTolerance,s=e.fallbackOffset,a=t.touches?t.touches[0]:t,l=ct&&mr(ct,!0),u=ct&&l&&l.a,f=ct&&l&&l.d,h=Bo&&_e&&ig(_e),g=(a.clientX-Oi.clientX+s.x)/(u||1)+(h?h[0]-rc[0]:0)/(u||1),m=(a.clientY-Oi.clientY+s.y)/(f||1)+(h?h[1]-rc[1]:0)/(f||1);if(!nt.active&&!dr){if(i&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(ct){l?(l.e+=g-(nc||0),l.f+=m-(ic||0)):l={a:1,b:0,c:0,d:1,e:g,f:m};var p="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");et(ct,"webkitTransform",p),et(ct,"mozTransform",p),et(ct,"msTransform",p),et(ct,"transform",p),nc=g,ic=m,bn=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ct){var t=this.options.fallbackOnBody?document.body:Vt,e=oe(U,!0,Bo,!0,t),i=this.options;if(Bo){for(_e=t;et(_e,"position")==="static"&&et(_e,"transform")==="none"&&_e!==document;)_e=_e.parentNode;_e!==document.body&&_e!==document.documentElement?(_e===document&&(_e=Ln()),e.top+=_e.scrollTop,e.left+=_e.scrollLeft):_e=Ln(),rc=ig(_e)}ct=U.cloneNode(!0),$e(ct,i.ghostClass,!1),$e(ct,i.fallbackClass,!0),$e(ct,i.dragClass,!0),et(ct,"transition",""),et(ct,"transform",""),et(ct,"box-sizing","border-box"),et(ct,"margin",0),et(ct,"top",e.top),et(ct,"left",e.left),et(ct,"width",e.width),et(ct,"height",e.height),et(ct,"opacity","0.8"),et(ct,"position",Bo?"absolute":"fixed"),et(ct,"zIndex","100000"),et(ct,"pointerEvents","none"),nt.ghost=ct,t.appendChild(ct),et(ct,"transform-origin",rg/parseInt(ct.style.width)*100+"% "+sg/parseInt(ct.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,s=t.dataTransfer,a=i.options;if(Ee("dragStart",this,{evt:t}),nt.eventCanceled){this._onDrop();return}Ee("setupClone",this),nt.eventCanceled||(Zt=Ap(U),Zt.draggable=!1,Zt.style["will-change"]="",this._hideClone(),$e(Zt,this.options.chosenClass,!1),nt.clone=Zt),i.cloneId=Jo(function(){Ee("clone",i),!nt.eventCanceled&&(i.options.removeCloneOnHide||Vt.insertBefore(Zt,U),i._hideClone(),Ce({sortable:i,name:"clone"}))}),!e&&$e(U,a.dragClass,!0),e?(ca=!0,i._loopId=setInterval(i._emulateDragOver,50)):(St(document,"mouseup",i._onDrop),St(document,"touchend",i._onDrop),St(document,"touchcancel",i._onDrop),s&&(s.effectAllowed="move",a.setData&&a.setData.call(i,s,U)),Dt(document,"drop",i),et(U,"transform","translateZ(0)")),dr=!0,i._dragStartId=Jo(i._dragStarted.bind(i,e,t)),Dt(document,"selectstart",i),ts=!0,us&&et(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,i=t.target,s,a,l,u=this.options,f=u.group,h=nt.active,g=Ro===f,m=u.sort,p=he||h,v,S=this,y=!1;if(Cc)return;function w(Ct,ne){Ee(Ct,S,Rn({evt:t,isOwner:g,axis:v?"vertical":"horizontal",revert:l,dragRect:s,targetRect:a,canSort:m,fromSortable:p,target:i,completed:O,onMove:function(V,mt){return Wo(Vt,e,U,s,V,oe(V),t,mt)},changed:I},ne))}function k(){w("dragOverAnimationCapture"),S.captureAnimationState(),S!==p&&p.captureAnimationState()}function O(Ct){return w("dragOverCompleted",{insertion:Ct}),Ct&&(g?h._hideClone():h._showClone(S),S!==p&&($e(U,he?he.options.ghostClass:h.options.ghostClass,!1),$e(U,u.ghostClass,!0)),he!==S&&S!==nt.active?he=S:S===nt.active&&he&&(he=null),p===S&&(S._ignoreWhileAnimating=i),S.animateAll(function(){w("dragOverAnimationComplete"),S._ignoreWhileAnimating=null}),S!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(i===U&&!U.animated||i===e&&!i.animated)&&(hr=null),!u.dragoverBubble&&!t.rootEl&&i!==document&&(U.parentNode[Ue]._isOutsideThisEl(t.target),!Ct&&Ei(t)),!u.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),y=!0}function I(){Ye=an(U),fi=an(U,u.draggable),Ce({sortable:S,name:"change",toEl:e,newIndex:Ye,newDraggableIndex:fi,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=On(i,u.draggable,e,!0),w("dragOver"),nt.eventCanceled)return y;if(U.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||S._ignoreWhileAnimating===i)return O(!1);if(ca=!1,h&&!u.disabled&&(g?m||(l=jt!==Vt):he===this||(this.lastPutMode=Ro.checkPull(this,h,U,t))&&f.checkPut(this,h,U,t))){if(v=this._getDirection(t,i)==="vertical",s=oe(U),w("dragOverValid"),nt.eventCanceled)return y;if(l)return jt=Vt,k(),this._hideClone(),w("revert"),nt.eventCanceled||(Ri?Vt.insertBefore(U,Ri):Vt.appendChild(U)),O(!0);var E=jc(e,u.draggable);if(!E||zT(t,v,this)&&!E.animated){if(E===U)return O(!1);if(E&&e===t.target&&(i=E),i&&(a=oe(i)),Wo(Vt,e,U,s,i,a,t,!!i)!==!1)return k(),e.appendChild(U),jt=e,I(),O(!0)}else if(E&&WT(t,v,this)){var M=wr(e,0,u,!0);if(M===U)return O(!1);if(i=M,a=oe(i),Wo(Vt,e,U,s,i,a,t,!1)!==!1)return k(),e.insertBefore(U,M),jt=e,I(),O(!0)}else if(i.parentNode===e){a=oe(i);var R=0,B,L=U.parentNode!==e,$=!PT(U.animated&&U.toRect||s,i.animated&&i.toRect||a,v),G=v?"top":"left",q=ng(i,"top","top")||ng(U,"top","top"),j=q?q.scrollTop:void 0;hr!==i&&(B=a[G],gs=!1,Fo=!$&&u.invertSwap||L),R=NT(t,i,a,v,$?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,Fo,hr===i);var rt;if(R!==0){var vt=an(U);do vt-=R,rt=jt.children[vt];while(rt&&(et(rt,"display")==="none"||rt===ct))}if(R===0||rt===i)return O(!1);hr=i,ds=R;var st=i.nextElementSibling,ft=!1;ft=R===1;var bt=Wo(Vt,e,U,s,i,a,t,ft);if(bt!==!1)return(bt===1||bt===-1)&&(ft=bt===1),Cc=!0,setTimeout(BT,30),k(),ft&&!st?e.appendChild(U):i.parentNode.insertBefore(U,ft?st:i),q&&Tp(q,0,j-q.scrollTop),jt=U.parentNode,B!==void 0&&!Fo&&(Zo=Math.abs(B-oe(i)[G])),I(),O(!0)}if(e.contains(U))return O(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){St(document,"mousemove",this._onTouchMove),St(document,"touchmove",this._onTouchMove),St(document,"pointermove",this._onTouchMove),St(document,"dragover",Ei),St(document,"mousemove",Ei),St(document,"touchmove",Ei)},_offUpEvents:function(){var t=this.el.ownerDocument;St(t,"mouseup",this._onDrop),St(t,"touchend",this._onDrop),St(t,"pointerup",this._onDrop),St(t,"touchcancel",this._onDrop),St(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;if(Ye=an(U),fi=an(U,i.draggable),Ee("drop",this,{evt:t}),jt=U&&U.parentNode,Ye=an(U),fi=an(U,i.draggable),nt.eventCanceled){this._nulling();return}dr=!1,Fo=!1,gs=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),kc(this.cloneId),kc(this._dragStartId),this.nativeDraggable&&(St(document,"drop",this),St(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),us&&et(document.body,"user-select",""),et(U,"transform",""),t&&(ts&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),ct&&ct.parentNode&&ct.parentNode.removeChild(ct),(Vt===jt||he&&he.lastPutMode!=="clone")&&Zt&&Zt.parentNode&&Zt.parentNode.removeChild(Zt),U&&(this.nativeDraggable&&St(U,"dragend",this),sc(U),U.style["will-change"]="",ts&&!dr&&$e(U,he?he.options.ghostClass:this.options.ghostClass,!1),$e(U,this.options.chosenClass,!1),Ce({sortable:this,name:"unchoose",toEl:jt,newIndex:null,newDraggableIndex:null,originalEvent:t}),Vt!==jt?(Ye>=0&&(Ce({rootEl:jt,name:"add",toEl:jt,fromEl:Vt,originalEvent:t}),Ce({sortable:this,name:"remove",toEl:jt,originalEvent:t}),Ce({rootEl:jt,name:"sort",toEl:jt,fromEl:Vt,originalEvent:t}),Ce({sortable:this,name:"sort",toEl:jt,originalEvent:t})),he&&he.save()):Ye!==gr&&Ye>=0&&(Ce({sortable:this,name:"update",toEl:jt,originalEvent:t}),Ce({sortable:this,name:"sort",toEl:jt,originalEvent:t})),nt.active&&((Ye==null||Ye===-1)&&(Ye=gr,fi=hs),Ce({sortable:this,name:"end",toEl:jt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ee("nulling",this),Vt=U=jt=ct=Ri=Zt=jo=hi=Oi=bn=ts=Ye=fi=gr=hs=hr=ds=he=Ro=nt.dragged=nt.ghost=nt.clone=nt.active=null,fa.forEach(function(t){t.checked=!0}),fa.length=nc=ic=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":U&&(this._onDragOver(t),FT(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,i=this.el.children,s=0,a=i.length,l=this.options;s<a;s++)e=i[s],On(e,l.draggable,this.el,!1)&&t.push(e.getAttribute(l.dataIdAttr)||$T(e));return t},sort:function(t,e){var i={},s=this.el;this.toArray().forEach(function(a,l){var u=s.children[l];On(u,this.options.draggable,s,!1)&&(i[a]=u)},this),e&&this.captureAnimationState(),t.forEach(function(a){i[a]&&(s.removeChild(i[a]),s.appendChild(i[a]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return On(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(e===void 0)return i[t];var s=Ms.modifyOption(this,t,e);typeof s<"u"?i[t]=s:i[t]=e,t==="group"&&Ip(i)},destroy:function(){Ee("destroy",this);var t=this.el;t[Ue]=null,St(t,"mousedown",this._onTapStart),St(t,"touchstart",this._onTapStart),St(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(St(t,"dragover",this),St(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ua.splice(ua.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!hi){if(Ee("hideClone",this),nt.eventCanceled)return;et(Zt,"display","none"),this.options.removeCloneOnHide&&Zt.parentNode&&Zt.parentNode.removeChild(Zt),hi=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(hi){if(Ee("showClone",this),nt.eventCanceled)return;U.parentNode==Vt&&!this.options.group.revertClone?Vt.insertBefore(Zt,U):Ri?Vt.insertBefore(Zt,Ri):Vt.appendChild(Zt),this.options.group.revertClone&&this.animate(U,Zt),et(Zt,"display",""),hi=!1}}};function FT(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Wo(n,t,e,i,s,a,l,u){var f,h=n[Ue],g=h.options.onMove,m;return window.CustomEvent&&!ti&&!Ds?f=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent("move",!0,!0)),f.to=t,f.from=n,f.dragged=e,f.draggedRect=i,f.related=s||t,f.relatedRect=a||oe(t),f.willInsertAfter=u,f.originalEvent=l,n.dispatchEvent(f),g&&(m=g.call(h,f,l)),m}function sc(n){n.draggable=!1}function BT(){Cc=!1}function WT(n,t,e){var i=oe(wr(e.el,0,e.options,!0)),s=10;return t?n.clientX<i.left-s||n.clientY<i.top&&n.clientX<i.right:n.clientY<i.top-s||n.clientY<i.bottom&&n.clientX<i.left}function zT(n,t,e){var i=oe(jc(e.el,e.options.draggable)),s=10;return t?n.clientX>i.right+s||n.clientX<=i.right&&n.clientY>i.bottom&&n.clientX>=i.left:n.clientX>i.right&&n.clientY>i.top||n.clientX<=i.right&&n.clientY>i.bottom+s}function NT(n,t,e,i,s,a,l,u){var f=i?n.clientY:n.clientX,h=i?e.height:e.width,g=i?e.top:e.left,m=i?e.bottom:e.right,p=!1;if(!l){if(u&&Zo<h*s){if(!gs&&(ds===1?f>g+h*a/2:f<m-h*a/2)&&(gs=!0),gs)p=!0;else if(ds===1?f<g+Zo:f>m-Zo)return-ds}else if(f>g+h*(1-s)/2&&f<m-h*(1-s)/2)return HT(t)}return p=p||l,p&&(f<g+h*a/2||f>m-h*a/2)?f>g+h/2?1:-1:0}function HT(n){return an(U)<an(n)?1:-1}function $T(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,e=t.length,i=0;e--;)i+=t.charCodeAt(e);return i.toString(36)}function YT(n){fa.length=0;for(var t=n.getElementsByTagName("input"),e=t.length;e--;){var i=t[e];i.checked&&fa.push(i)}}function Jo(n){return setTimeout(n,0)}function kc(n){return clearTimeout(n)}va&&Dt(document,"touchmove",function(n){(nt.active||dr)&&n.cancelable&&n.preventDefault()});nt.utils={on:Dt,off:St,css:et,find:Dp,is:function(t,e){return!!On(t,e,t,!1)},extend:kT,throttle:Mp,closest:On,toggleClass:$e,clone:Ap,index:an,nextTick:Jo,cancelNextTick:kc,detectDirection:Ep,getChild:wr};nt.get=function(n){return n[Ue]};nt.mount=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(nt.utils=Rn(Rn({},nt.utils),i.utils)),Ms.mount(i)})};nt.create=function(n,t){return new nt(n,t)};nt.version=yT;var ie=[],es,Dc,Mc=!1,oc,ac,ha,ns;function UT(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return n.prototype={dragStarted:function(e){var i=e.originalEvent;this.sortable.nativeDraggable?Dt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Dt(document,"pointermove",this._handleFallbackAutoScroll):i.touches?Dt(document,"touchmove",this._handleFallbackAutoScroll):Dt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var i=e.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?St(document,"dragover",this._handleAutoScroll):(St(document,"pointermove",this._handleFallbackAutoScroll),St(document,"touchmove",this._handleFallbackAutoScroll),St(document,"mousemove",this._handleFallbackAutoScroll)),ag(),Qo(),DT()},nulling:function(){ha=Dc=es=Mc=ns=oc=ac=null,ie.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,i){var s=this,a=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,u=document.elementFromPoint(a,l);if(ha=e,i||this.options.forceAutoScrollFallback||Ds||ti||us){lc(e,this.options,u,i);var f=gi(u,!0);Mc&&(!ns||a!==oc||l!==ac)&&(ns&&ag(),ns=setInterval(function(){var h=gi(document.elementFromPoint(a,l),!0);h!==f&&(f=h,Qo()),lc(e,s.options,h,i)},10),oc=a,ac=l)}else{if(!this.options.bubbleScroll||gi(u,!0)===Ln()){Qo();return}lc(e,this.options,gi(u,!1),!1)}}},Qn(n,{pluginName:"scroll",initializeByDefault:!0})}function Qo(){ie.forEach(function(n){clearInterval(n.pid)}),ie=[]}function ag(){clearInterval(ns)}var lc=Mp(function(n,t,e,i){if(t.scroll){var s=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=t.scrollSensitivity,u=t.scrollSpeed,f=Ln(),h=!1,g;Dc!==e&&(Dc=e,Qo(),es=t.scroll,g=t.scrollFn,es===!0&&(es=gi(e,!0)));var m=0,p=es;do{var v=p,S=oe(v),y=S.top,w=S.bottom,k=S.left,O=S.right,I=S.width,E=S.height,M=void 0,R=void 0,B=v.scrollWidth,L=v.scrollHeight,$=et(v),G=v.scrollLeft,q=v.scrollTop;v===f?(M=I<B&&($.overflowX==="auto"||$.overflowX==="scroll"||$.overflowX==="visible"),R=E<L&&($.overflowY==="auto"||$.overflowY==="scroll"||$.overflowY==="visible")):(M=I<B&&($.overflowX==="auto"||$.overflowX==="scroll"),R=E<L&&($.overflowY==="auto"||$.overflowY==="scroll"));var j=M&&(Math.abs(O-s)<=l&&G+I<B)-(Math.abs(k-s)<=l&&!!G),rt=R&&(Math.abs(w-a)<=l&&q+E<L)-(Math.abs(y-a)<=l&&!!q);if(!ie[m])for(var vt=0;vt<=m;vt++)ie[vt]||(ie[vt]={});(ie[m].vx!=j||ie[m].vy!=rt||ie[m].el!==v)&&(ie[m].el=v,ie[m].vx=j,ie[m].vy=rt,clearInterval(ie[m].pid),(j!=0||rt!=0)&&(h=!0,ie[m].pid=setInterval((function(){i&&this.layer===0&&nt.active._onTouchMove(ha);var st=ie[this.layer].vy?ie[this.layer].vy*u:0,ft=ie[this.layer].vx?ie[this.layer].vx*u:0;typeof g=="function"&&g.call(nt.dragged.parentNode[Ue],ft,st,n,ha,ie[this.layer].el)!=="continue"||Tp(ie[this.layer].el,ft,st)}).bind({layer:m}),24))),m++}while(t.bubbleScroll&&p!==f&&(p=gi(p,!1)));Mc=h}},30),Rp=function(t){var e=t.originalEvent,i=t.putSortable,s=t.dragEl,a=t.activeSortable,l=t.dispatchSortableEvent,u=t.hideGhostForTarget,f=t.unhideGhostForTarget;if(e){var h=i||a;u();var g=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,m=document.elementFromPoint(g.clientX,g.clientY);f(),h&&!h.el.contains(m)&&(l("spill"),this.onSpill({dragEl:s,putSortable:i}))}};function Zc(){}Zc.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var s=wr(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(e,s):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:Rp};Qn(Zc,{pluginName:"revertOnSpill"});function Jc(){}Jc.prototype={onSpill:function(t){var e=t.dragEl,i=t.putSortable,s=i||this.sortable;s.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),s.animateAll()},drop:Rp};Qn(Jc,{pluginName:"removeOnSpill"});nt.mount(new UT);nt.mount(Jc,Zc);function cc(n){n.parentElement!==null&&n.parentElement.removeChild(n)}function lg(n,t,e){const i=e===0?n.children[0]:n.children[e-1].nextSibling;n.insertBefore(t,i)}function VT(){return typeof window<"u"?window.console:global.console}const XT=VT();function qT(n){const t=Object.create(null);return function(i){return t[i]||(t[i]=n(i))}}const KT=/-(\w)/g,GT=qT(n=>n.replace(KT,(t,e)=>e.toUpperCase())),Fp=["Start","Add","Remove","Update","End"],Bp=["Choose","Unchoose","Sort","Filter","Clone"],Wp=["Move"],jT=[Wp,Fp,Bp].flatMap(n=>n).map(n=>`on${n}`),Tc={manage:Wp,manageAndEmit:Fp,emit:Bp};function ZT(n){return jT.indexOf(n)!==-1}const JT=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function QT(n){return JT.includes(n)}function tA(n){return["transition-group","TransitionGroup"].includes(n)}function zp(n){return["id","class","role","style"].includes(n)||n.startsWith("data-")||n.startsWith("aria-")||n.startsWith("on")}function Np(n){return n.reduce((t,[e,i])=>(t[e]=i,t),{})}function eA({$attrs:n,componentData:t={}}){return{...Np(Object.entries(n).filter(([i,s])=>zp(i))),...t}}function nA({$attrs:n,callBackBuilder:t}){const e=Np(Hp(n));Object.entries(t).forEach(([s,a])=>{Tc[s].forEach(l=>{e[`on${l}`]=a(l)})});const i=`[data-draggable]${e.draggable||""}`;return{...e,draggable:i}}function Hp(n){return Object.entries(n).filter(([t,e])=>!zp(t)).map(([t,e])=>[GT(t),e]).filter(([t,e])=>!ZT(t))}const cg=({el:n})=>n,iA=(n,t)=>n.__draggable_context=t,ug=n=>n.__draggable_context;class rA{constructor({nodes:{header:t,default:e,footer:i},root:s,realList:a}){this.defaultNodes=e,this.children=[...t,...e,...i],this.externalComponent=s.externalComponent,this.rootTransition=s.transition,this.tag=s.tag,this.realList=a}get _isRootComponent(){return this.externalComponent||this.rootTransition}render(t,e){const{tag:i,children:s,_isRootComponent:a}=this;return t(i,e,a?{default:()=>s}:s)}updated(){const{defaultNodes:t,realList:e}=this;t.forEach((i,s)=>{iA(cg(i),{element:e[s],index:s})})}getUnderlyingVm(t){return ug(t)}getVmIndexFromDomIndex(t,e){const{defaultNodes:i}=this,{length:s}=i,a=e.children,l=a.item(t);if(l===null)return s;const u=ug(l);if(u)return u.index;if(s===0)return 0;const f=cg(i[0]),h=[...a].findIndex(g=>g===f);return t<h?0:s}}function sA(n,t){const e=n[t];return e?e():[]}function oA({$slots:n,realList:t,getKey:e}){const i=t||[],[s,a]=["header","footer"].map(f=>sA(n,f)),{item:l}=n;if(!l)throw new Error("draggable element must have an item slot");const u=i.flatMap((f,h)=>l({element:f,index:h}).map(g=>(g.key=e(f),g.props={...g.props||{},"data-draggable":!0},g)));if(u.length!==i.length)throw new Error("Item slot must have only one child");return{header:s,footer:a,default:u}}function aA(n){const t=tA(n),e=!QT(n)&&!t;return{transition:t,externalComponent:e,tag:e?Jw(n):t?Qw:n}}function lA({$slots:n,tag:t,realList:e,getKey:i}){const s=oA({$slots:n,realList:e,getKey:i}),a=aA(t);return new rA({nodes:s,root:a,realList:e})}function $p(n,t){Xe(()=>this.$emit(n.toLowerCase(),t))}function Yp(n){return(t,e)=>{if(this.realList!==null)return this[`onDrag${n}`](t,e)}}function cA(n){const t=Yp.call(this,n);return(e,i)=>{t.call(this,e,i),$p.call(this,n,e)}}let uc=null;const uA={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:n=>n},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},fA=["update:modelValue","change",...[...Tc.manageAndEmit,...Tc.emit].map(n=>n.toLowerCase())],hA=qe({name:"draggable",inheritAttrs:!1,props:uA,emits:fA,data(){return{error:!1}},render(){try{this.error=!1;const{$slots:n,$attrs:t,tag:e,componentData:i,realList:s,getKey:a}=this,l=lA({$slots:n,tag:e,realList:s,getKey:a});this.componentStructure=l;const u=eA({$attrs:t,componentData:i});return l.render(ps,u)}catch(n){return this.error=!0,ps("pre",{style:{color:"red"}},n.stack)}},created(){this.list!==null&&this.modelValue!==null&&XT.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted(){if(this.error)return;const{$attrs:n,$el:t,componentStructure:e}=this;e.updated();const i=nA({$attrs:n,callBackBuilder:{manageAndEmit:a=>cA.call(this,a),emit:a=>$p.bind(this,a),manage:a=>Yp.call(this,a)}}),s=t.nodeType===1?t:t.parentElement;this._sortable=new nt(s,i),this.targetDomElement=s,s.__draggable_component__=this},updated(){this.componentStructure.updated()},beforeUnmount(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList(){const{list:n}=this;return n||this.modelValue},getKey(){const{itemKey:n}=this;return typeof n=="function"?n:t=>t[n]}},watch:{$attrs:{handler(n){const{_sortable:t}=this;t&&Hp(n).forEach(([e,i])=>{t.option(e,i)})},deep:!0}},methods:{getUnderlyingVm(n){return this.componentStructure.getUnderlyingVm(n)||null},getUnderlyingPotencialDraggableComponent(n){return n.__draggable_component__},emitChanges(n){Xe(()=>this.$emit("change",n))},alterList(n){if(this.list){n(this.list);return}const t=[...this.modelValue];n(t),this.$emit("update:modelValue",t)},spliceList(){const n=t=>t.splice(...arguments);this.alterList(n)},updatePosition(n,t){const e=i=>i.splice(t,0,i.splice(n,1)[0]);this.alterList(e)},getRelatedContextFromMoveEvent({to:n,related:t}){const e=this.getUnderlyingPotencialDraggableComponent(n);if(!e)return{component:e};const i=e.realList,s={list:i,component:e};return n!==t&&i?{...e.getUnderlyingVm(t)||{},...s}:s},getVmIndexFromDomIndex(n){return this.componentStructure.getVmIndexFromDomIndex(n,this.targetDomElement)},onDragStart(n){this.context=this.getUnderlyingVm(n.item),n.item._underlying_vm_=this.clone(this.context.element),uc=n.item},onDragAdd(n){const t=n.item._underlying_vm_;if(t===void 0)return;cc(n.item);const e=this.getVmIndexFromDomIndex(n.newIndex);this.spliceList(e,0,t);const i={element:t,newIndex:e};this.emitChanges({added:i})},onDragRemove(n){if(lg(this.$el,n.item,n.oldIndex),n.pullMode==="clone"){cc(n.clone);return}const{index:t,element:e}=this.context;this.spliceList(t,1);const i={element:e,oldIndex:t};this.emitChanges({removed:i})},onDragUpdate(n){cc(n.item),lg(n.from,n.item,n.oldIndex);const t=this.context.index,e=this.getVmIndexFromDomIndex(n.newIndex);this.updatePosition(t,e);const i={element:this.context.element,oldIndex:t,newIndex:e};this.emitChanges({moved:i})},computeFutureIndex(n,t){if(!n.element)return 0;const e=[...t.to.children].filter(l=>l.style.display!=="none"),i=e.indexOf(t.related),s=n.component.getVmIndexFromDomIndex(i);return e.indexOf(uc)!==-1||!t.willInsertAfter?s:s+1},onDragMove(n,t){const{move:e,realList:i}=this;if(!e||!i)return!0;const s=this.getRelatedContextFromMoveEvent(n),a=this.computeFutureIndex(s,n),l={...this.context,futureIndex:a},u={...n,relatedContext:s,draggedContext:l};return e(u,t)},onDragEnd(){uc=null}}}),dA={class:"stock-page"},gA={class:"action-buttons"},pA={class:"stock-content"},mA={class:"stock-indicator"},_A={class:"kd-indicator"},vA={class:"rsi-indicator"},bA={class:"rsi-value"},xA={class:"bubble-content",style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},yA={__name:"Stock",setup(n){const t=Lc(),e=kg("stock-search");Yt(null),Yt(null),Yt(0);const i=Yt(!1),s=Yt(null);mi(async()=>{try{t.loadUserStockList()}catch(E){console.error("初始化資料庫失敗:",E)}});const a=It({get(){return t.userStockList},set(E){t.reorderStockList(E)}});function l(){e.emit(!0)}function u(E,M){console.log(`Stock ${M} indicator changed to ${E}`)}function f(E){return E>0?"price-up":E<0?"price-down":"price-flat"}const h=It(()=>s.value?[{name:`K 值: ${s.value.k}`,subname:"快線指標 (敏感度高)",color:"#4286f5"},{name:`D 值: ${s.value.d}`,subname:"慢線指標 (敏感度低)",color:"#e75c9a"},{name:`J 值: ${s.value.j}`,subname:"超買超賣指標",color:"#666"},{name:`更新時間: ${s.value.date}`,subname:"週線資料最後更新",color:"#999"}]:[]);function g(E){s.value=E,i.value=!0}function m(E){console.log("KDJ ActionSheet 選擇:",E.name),i.value=!1,E.name.includes("K 值")?Ii("K 值反映股價短期波動"):E.name.includes("D 值")?Ii("D 值是 K 值的移動平均"):E.name.includes("J 值")&&Ii("J 值 > 80 超買，< 20 超賣")}function p(E){return E>70?"rsi-overbought":E<30?"rsi-oversold":"rsi-normal"}function v(E){return E>70?"超買":E<30?"超賣":"正常"}function S(){}function y(E){Ii(`買賣 ${E.name}`)}function w(E){Ii(`${E.name} 策略設定`)}function k(E){Ii(`${E.name} 其他功能`)}function O(E){setTimeout(()=>{const M=document.querySelector(".stock-row.sortable-chosen");if(M){const R=M.querySelector("canvas"),B=document.querySelector(".stock-row.sortable-drag");if(R&&B){const L=B.querySelector("canvas");if(L&&R.width&&R.height){L.width=R.width,L.height=R.height;const $=L.getContext("2d");$.clearRect(0,0,L.width,L.height),$.drawImage(R,0,0)}}}},0)}function I(E){console.log("拖曳結束",E)}return t1(document,"visibilitychange",()=>{}),mi(()=>{}),(E,M)=>(Ie(),ln("div",dA,[Y(ve(hA),{modelValue:a.value,"onUpdate:modelValue":M[1]||(M[1]=R=>a.value=R),"item-key":"id",delay:200,animation:200,"ghost-class":"stock-row-ghost",onStart:O,onEnd:I},{item:on(({element:R,index:B})=>[gt("div",{class:"stock-row",onContextmenu:M[0]||(M[0]=e1(()=>{},["prevent"]))},[Y(ve(j1),{"left-width":200,onClickLeft:S},{left:on(()=>[gt("div",gA,[Y(ve(Hl),{type:"primary",size:"small",class:"action-btn buy-btn",onClick:L=>y(R)},{default:on(()=>M[3]||(M[3]=[gt("div",null,"交 易",-1),gt("div",null,"記 錄",-1)])),_:2,__:[3]},1032,["onClick"]),Y(ve(Hl),{type:"warning",size:"small",class:"action-btn strategy-btn",onClick:L=>w(R)},{default:on(()=>M[4]||(M[4]=[hc("策 略",-1)])),_:2,__:[4]},1032,["onClick"]),Y(ve(Hl),{type:"default",size:"small",class:"action-btn other-btn",onClick:L=>k(R)},{default:on(()=>M[5]||(M[5]=[hc("更 多",-1)])),_:2,__:[5]},1032,["onClick"])])]),default:on(()=>[gt("div",pA,[Y(_T,{name:R.name,code:R.code,price:R.price,change:R.change,"change-percent":R.changePercent,"price-class":f(R.change),progress:R.progress,"progress-text":R.progressText},null,8,["name","code","price","change","change-percent","price-class","progress","progress-text"]),gt("div",mA,[Y(ve(d1),{"show-indicators":!1,loop:!1,autoplay:0,onChange:L=>u(L,B)},{default:on(()=>[Y(ve(Ph),{class:"indicator-content"},{default:on(()=>[gt("div",_A,[Y(aT,{width:120,height:60,"stock-id":R.id,onKdjClick:g},null,8,["stock-id"])])]),_:2},1024),Y(ve(Ph),{class:"indicator-content"},{default:on(()=>[gt("div",vA,[gt("div",bA,Pe(R.rsi),1),gt("div",{class:gc(["rsi-trend",p(R.rsi)])},Pe(v(R.rsi)),3)])]),_:2},1024)]),_:2},1032,["onChange"])])])]),_:2},1024)],32)]),_:1},8,["modelValue"]),Y(ve(P1),{axis:"xy",magnetic:"x",gap:{x:20,y:80},style:{"--van-floating-bubble-size":"56px","--van-floating-bubble-background":"rgba(255, 224, 102, 0.9)","--van-floating-bubble-icon-size":"22px","--van-floating-bubble-color":"#322b0d"},onClick:l},{default:on(()=>[gt("div",xA,[Y(ve(In),{name:"plus",size:"22",color:"#322b0d",style:{"margin-bottom":"2px"}}),M[6]||(M[6]=gt("span",{class:"bubble-label",style:{color:"#322b0d","font-size":"14px"}},"新增",-1))])]),_:1}),Y(kS),Y(ve(c1),{show:i.value,"onUpdate:show":M[2]||(M[2]=R=>i.value=R),actions:h.value,"cancel-text":"取消",title:"KDJ 指標詳情",onSelect:m},null,8,["show","actions"])]))}},DA=Ec(yA,[["__scopeId","data-v-5b8a9319"]]);export{DA as default};
