import{d as xn,e as Wi,c as gi,u as rg,B as _w,a as U,r as sg,m as Pe,n as Kn,I as An,p as hr,L as og,w as pi,b as pr,f as mr,P as ag,g as lg,t as qn,h as cg,i as ug,H as fg,j as bn,k as Lo,l as _n,o as bw,q as rc,s as vw,v as xw,x as yw,y as hg,z as dg,A as Ht,C as ww,F as Sw,D as ne,E as qo,G as wc,J as Cw,K as hs,M as _r,N as Sc,O as Sh,Q as kw,R as gg,S as sc,T as Dw,U as Mw,V as El,W as Il,X as pg,Y as Tw,Z as Aw,_ as Ow,$ as Ew,a0 as Iw,a1 as Pw,a2 as mg,a3 as Lw,a4 as Rw,a5 as Cc,a6 as _g,a7 as bg,a8 as po,a9 as Fw,aa as Pt,ab as Bw,ac as Ww,ad as zw,ae as vg,af as xg,ag as yg,ah as Ee,ai as nn,aj as dt,ak as me,al as sn,am as Nw,an as Pl,ao as Ch,ap as wg,aq as Ie,ar as Oi,as as Sg,at as ds,au as Hw,av as oc,aw as Cg,ax as ys,ay as kc,az as ac,aA as $w,aB as Yw,aC as Uw,aD as Vw}from"./index-DixrNoHE.js";import{w as Dc}from"./worker-pool-Vr2Seoof.js";import{u as kg,S as Xw,a as kh}from"./index-tOPyV5ay.js";function Dh(n,t){return n.reduce((e,i)=>Math.abs(e-t)<Math.abs(i-t)?e:i)}const[qw,rr]=gi("button"),Kw=Wi({},sg,{tag:Pe("button"),text:String,icon:String,type:Pe("default"),size:Pe("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Pe("button"),loadingSize:Kn,loadingText:String,loadingType:String,iconPosition:Pe("left")});var jw=xn({name:qw,props:Kw,emits:["click"],setup(n,{emit:t,slots:e}){const i=rg(),s=()=>e.loading?e.loading():U(og,{size:n.loadingSize,type:n.loadingType,class:rr("loading")},null),a=()=>{if(n.loading)return s();if(e.icon)return U("div",{class:rr("icon")},[e.icon()]);if(n.icon)return U(An,{name:n.icon,class:rr("icon"),classPrefix:n.iconPrefix},null)},l=()=>{let h;if(n.loading?h=n.loadingText:h=e.default?e.default():n.text,h)return U("span",{class:rr("text")},[h])},u=()=>{const{color:h,plain:g}=n;if(h){const m={color:g?h:"white"};return g||(m.background=h),h.includes("gradient")?m.border=0:m.borderColor=h,m}},f=h=>{n.loading?hr(h):n.disabled||(t("click",h),i())};return()=>{const{tag:h,type:g,size:m,block:p,round:v,plain:S,square:y,loading:w,disabled:k,hairline:O,nativeType:P,iconPosition:E}=n,M=[rr([g,m,{plain:S,block:p,round:v,square:y,loading:w,disabled:k,hairline:O}]),{[_w]:O}];return U(h,{type:P,class:M,style:u(),disabled:k,onClick:f},{default:()=>[U("div",{class:rr("content")},[E==="left"&&a(),l(),E==="right"&&a()])]})}}});const Ll=pi(jw),[Gw,Qe]=gi("action-sheet"),Zw=Wi({},lg,{title:String,round:qn,actions:cg(),closeIcon:Pe("cross"),closeable:qn,cancelText:String,description:String,closeOnPopstate:qn,closeOnClickAction:Boolean,safeAreaInsetBottom:qn}),Jw=[...ug,"round","closeOnPopstate","safeAreaInsetBottom"];var Qw=xn({name:Gw,props:Zw,emits:["select","cancel","update:show"],setup(n,{slots:t,emit:e}){const i=m=>e("update:show",m),s=()=>{i(!1),e("cancel")},a=()=>{if(n.title)return U("div",{class:Qe("header")},[n.title,n.closeable&&U(An,{name:n.closeIcon,class:[Qe("close"),fg],onClick:s},null)])},l=()=>{if(t.cancel||n.cancelText)return[U("div",{class:Qe("gap")},null),U("button",{type:"button",class:Qe("cancel"),onClick:s},[t.cancel?t.cancel():n.cancelText])]},u=m=>{if(m.icon)return U(An,{class:Qe("item-icon"),name:m.icon},null)},f=(m,p)=>m.loading?U(og,{class:Qe("loading-icon")},null):t.action?t.action({action:m,index:p}):[U("span",{class:Qe("name")},[m.name]),m.subname&&U("div",{class:Qe("subname")},[m.subname])],h=(m,p)=>{const{color:v,loading:S,callback:y,disabled:w,className:k}=m,O=()=>{w||S||(y&&y(m),n.closeOnClickAction&&i(!1),bn(()=>e("select",m,p)))};return U("button",{type:"button",style:{color:v},class:[Qe("item",{loading:S,disabled:w}),k],onClick:O},[u(m),f(m,p)])},g=()=>{if(n.description||t.description){const m=t.description?t.description():n.description;return U("div",{class:Qe("description")},[m])}};return()=>U(ag,pr({class:Qe(),position:"bottom","onUpdate:show":i},mr(n,Jw)),{default:()=>{var m;return[a(),g(),U("div",{class:Qe("content")},[n.actions.map(h),(m=t.default)==null?void 0:m.call(t)]),l()]}})}});const t1=pi(Qw),[e1,sr]=gi("cell"),Dg={tag:Pe("div"),icon:String,size:String,title:Kn,value:Kn,label:Kn,center:Boolean,isLink:Boolean,border:qn,iconPrefix:String,valueClass:Lo,labelClass:Lo,titleClass:Lo,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},n1=Wi({},Dg,sg);var i1=xn({name:e1,props:n1,setup(n,{slots:t}){const e=rg(),i=()=>{if(t.label||_n(n.label))return U("div",{class:[sr("label"),n.labelClass]},[t.label?t.label():n.label])},s=()=>{var f;if(t.title||_n(n.title)){const h=(f=t.title)==null?void 0:f.call(t);return Array.isArray(h)&&h.length===0?void 0:U("div",{class:[sr("title"),n.titleClass],style:n.titleStyle},[h||U("span",null,[n.title]),i()])}},a=()=>{const f=t.value||t.default;if(f||_n(n.value))return U("div",{class:[sr("value"),n.valueClass]},[f?f():U("span",null,[n.value])])},l=()=>{if(t.icon)return t.icon();if(n.icon)return U(An,{name:n.icon,class:sr("left-icon"),classPrefix:n.iconPrefix},null)},u=()=>{if(t["right-icon"])return t["right-icon"]();if(n.isLink){const f=n.arrowDirection&&n.arrowDirection!=="right"?`arrow-${n.arrowDirection}`:"arrow";return U(An,{name:f,class:sr("right-icon")},null)}};return()=>{var f;const{tag:h,size:g,center:m,border:p,isLink:v,required:S}=n,y=(f=n.clickable)!=null?f:v,w={center:m,required:!!S,clickable:y,borderless:!p};return g&&(w[g]=!!g),U(h,{class:sr(w),role:y?"button":void 0,tabindex:y?0:void 0,onClick:e},{default:()=>{var k;return[l(),s(),a(),u(),(k=t.extra)==null?void 0:k.call(t)]}})}}});const r1=pi(i1);function Mg(n){return Array.isArray(n)?!n.length:n===0?!1:!n}function s1(n,t){if(Mg(n)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(n)))}function o1(n,t){return new Promise(e=>{const i=t.validator(n,t);if(yw(i)){i.then(e);return}e(i)})}function Mh(n,t){const{message:e}=t;return xw(e)?e(n,t):e||""}function a1({target:n}){n.composing=!0}function Th({target:n}){n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}function l1(n,t){const e=bw();n.style.height="auto";let i=n.scrollHeight;if(rc(t)){const{maxHeight:s,minHeight:a}=t;s!==void 0&&(i=Math.min(i,s)),a!==void 0&&(i=Math.max(i,a))}i&&(n.style.height=`${i}px`,vw(e))}function c1(n,t){return n==="number"&&(n="text",t??(t="decimal")),n==="digit"&&(n="tel",t??(t="numeric")),{type:n,inputmode:t}}function $n(n){return[...n].length}function Rl(n,t){return[...n].slice(0,t).join("")}const[u1,tn]=gi("field"),Mc={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:Kn,max:Number,min:Number,formatter:Function,clearIcon:Pe("clear"),modelValue:hg(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:Pe("focus"),formatTrigger:Pe("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},f1=Wi({},Dg,Mc,{rows:Kn,type:Pe("text"),rules:Array,autosize:[Boolean,Object],labelWidth:Kn,labelClass:Lo,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var h1=xn({name:u1,props:f1,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(n,{emit:t,slots:e}){const i=kg(),s=dg({status:"unvalidated",focused:!1,validateMessage:""}),a=Ht(),l=Ht(),u=Ht(),{parent:f}=ww(Sw),h=()=>{var N;return String((N=n.modelValue)!=null?N:"")},g=N=>{if(_n(n[N]))return n[N];if(f&&_n(f.props[N]))return f.props[N]},m=ne(()=>{const N=g("readonly");if(n.clearable&&!N){const it=h()!=="",rt=n.clearTrigger==="always"||n.clearTrigger==="focus"&&s.focused;return it&&rt}return!1}),p=ne(()=>u.value&&e.input?u.value():n.modelValue),v=ne(()=>{var N;const it=g("required");return it==="auto"?(N=n.rules)==null?void 0:N.some(rt=>rt.required):it}),S=N=>N.reduce((it,rt)=>it.then(()=>{if(s.status==="failed")return;let{value:Et}=p;if(rt.formatter&&(Et=rt.formatter(Et,rt)),!s1(Et,rt)){s.status="failed",s.validateMessage=Mh(Et,rt);return}if(rt.validator)return Mg(Et)&&rt.validateEmpty===!1?void 0:o1(Et,rt).then(Rt=>{Rt&&typeof Rt=="string"?(s.status="failed",s.validateMessage=Rt):Rt===!1&&(s.status="failed",s.validateMessage=Mh(Et,rt))})}),Promise.resolve()),y=()=>{s.status="unvalidated",s.validateMessage=""},w=()=>t("endValidate",{status:s.status,message:s.validateMessage}),k=(N=n.rules)=>new Promise(it=>{y(),N?(t("startValidate"),S(N).then(()=>{s.status==="failed"?(it({name:n.name,message:s.validateMessage}),w()):(s.status="passed",it(),w())})):it()}),O=N=>{if(f&&n.rules){const{validateTrigger:it}=f.props,rt=Sh(it).includes(N),Et=n.rules.filter(Rt=>Rt.trigger?Sh(Rt.trigger).includes(N):rt);Et.length&&k(Et)}},P=N=>{var it;const{maxlength:rt}=n;if(_n(rt)&&$n(N)>+rt){const Et=h();if(Et&&$n(Et)===+rt)return Et;const Rt=(it=a.value)==null?void 0:it.selectionEnd;if(s.focused&&Rt){const fe=[...N],Ce=fe.length-+rt;return fe.splice(Rt-Ce,Ce),fe.join("")}return Rl(N,+rt)}return N},E=(N,it="onChange")=>{var rt,Et;const Rt=N;N=P(N);const fe=$n(Rt)-$n(N);if(n.type==="number"||n.type==="digit"){const At=n.type==="number";if(N=kw(N,At,At),it==="onBlur"&&N!==""&&(n.min!==void 0||n.max!==void 0)){const $t=gg(+N,(rt=n.min)!=null?rt:-1/0,(Et=n.max)!=null?Et:1/0);+N!==$t&&(N=$t.toString())}}let Ce=0;if(n.formatter&&it===n.formatTrigger){const{formatter:At,maxlength:$t}=n;if(N=At(N),_n($t)&&$n(N)>+$t&&(N=Rl(N,+$t)),a.value&&s.focused){const{selectionEnd:yn}=a.value,he=Rl(Rt,yn);Ce=$n(At(he))-$n(he)}}if(a.value&&a.value.value!==N)if(s.focused){let{selectionStart:At,selectionEnd:$t}=a.value;if(a.value.value=N,_n(At)&&_n($t)){const yn=$n(N);fe?(At-=fe,$t-=fe):Ce&&(At+=Ce,$t+=Ce),a.value.setSelectionRange(Math.min(At,yn),Math.min($t,yn))}}else a.value.value=N;N!==n.modelValue&&t("update:modelValue",N)},M=N=>{N.target.composing||E(N.target.value)},R=()=>{var N;return(N=a.value)==null?void 0:N.blur()},B=()=>{var N;return(N=a.value)==null?void 0:N.focus()},L=()=>{const N=a.value;n.type==="textarea"&&n.autosize&&N&&l1(N,n.autosize)},$=N=>{s.focused=!0,t("focus",N),bn(L),g("readonly")&&R()},j=N=>{s.focused=!1,E(h(),"onBlur"),t("blur",N),!g("readonly")&&(O("onBlur"),bn(L),Dw())},q=N=>t("clickInput",N),G=N=>t("clickLeftIcon",N),ct=N=>t("clickRightIcon",N),xt=N=>{hr(N),t("update:modelValue",""),t("clear",N)},at=ne(()=>{if(typeof n.error=="boolean")return n.error;if(f&&f.props.showError&&s.status==="failed")return!0}),ht=ne(()=>{const N=g("labelWidth"),it=g("labelAlign");if(N&&it!=="top")return{width:qo(N)}}),yt=N=>{N.keyCode===13&&(!(f&&f.props.submitOnEnter)&&n.type!=="textarea"&&hr(N),n.type==="search"&&R()),t("keypress",N)},Dt=()=>n.id||`${i}-input`,te=()=>s.status,Gt=()=>{const N=tn("control",[g("inputAlign"),{error:at.value,custom:!!e.input,"min-height":n.type==="textarea"&&!n.autosize}]);if(e.input)return U("div",{class:N,onClick:q},[e.input()]);const it={id:Dt(),ref:a,name:n.name,rows:n.rows!==void 0?+n.rows:void 0,class:N,disabled:g("disabled"),readonly:g("readonly"),autofocus:n.autofocus,placeholder:n.placeholder,autocomplete:n.autocomplete,autocapitalize:n.autocapitalize,autocorrect:n.autocorrect,enterkeyhint:n.enterkeyhint,spellcheck:n.spellcheck,"aria-labelledby":n.label?`${i}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:j,onFocus:$,onInput:M,onClick:q,onChange:Th,onKeypress:yt,onCompositionend:Th,onCompositionstart:a1};return n.type==="textarea"?U("textarea",pr(it,{inputmode:n.inputmode}),null):U("input",pr(c1(n.type,n.inputmode),it),null)},bt=()=>{const N=e["left-icon"];if(n.leftIcon||N)return U("div",{class:tn("left-icon"),onClick:G},[N?N():U(An,{name:n.leftIcon,classPrefix:n.iconPrefix},null)])},le=()=>{const N=e["right-icon"];if(n.rightIcon||N)return U("div",{class:tn("right-icon"),onClick:ct},[N?N():U(An,{name:n.rightIcon,classPrefix:n.iconPrefix},null)])},Se=()=>{if(n.showWordLimit&&n.maxlength){const N=$n(h());return U("div",{class:tn("word-limit")},[U("span",{class:tn("word-num")},[N]),sc("/"),n.maxlength])}},Re=()=>{if(f&&f.props.showErrorMessage===!1)return;const N=n.errorMessage||s.validateMessage;if(N){const it=e["error-message"],rt=g("errorMessageAlign");return U("div",{class:tn("error-message",rt)},[it?it({message:N}):N])}},ce=()=>{const N=g("labelWidth"),it=g("labelAlign"),rt=g("colon")?":":"";if(e.label)return[e.label(),rt];if(n.label)return U("label",{id:`${i}-label`,for:e.input?void 0:Dt(),"data-allow-mismatch":"attribute",onClick:Et=>{hr(Et),B()},style:it==="top"&&N?{width:qo(N)}:void 0},[n.label+rt])},ue=()=>[U("div",{class:tn("body")},[Gt(),m.value&&U(An,{ref:l,name:n.clearIcon,class:tn("clear")},null),le(),e.button&&U("div",{class:tn("button")},[e.button()])]),Se(),Re()];return wc({blur:R,focus:B,validate:k,formValue:p,resetValidation:y,getValidationStatus:te}),Cw(Mw,{customValue:u,resetValidation:y,validateWithTrigger:O}),hs(()=>n.modelValue,()=>{E(h()),y(),O("onChange"),bn(L)}),_r(()=>{E(h(),n.formatTrigger),bn(L)}),Sc("touchstart",xt,{target:ne(()=>{var N;return(N=l.value)==null?void 0:N.$el})}),()=>{const N=g("disabled"),it=g("labelAlign"),rt=bt(),Et=()=>{const Rt=ce();return it==="top"?[rt,Rt].filter(Boolean):Rt||[]};return U(r1,{size:n.size,class:tn({error:at.value,disabled:N,[`label-${it}`]:it}),center:n.center,border:n.border,isLink:n.isLink,clickable:n.clickable,titleStyle:ht.value,valueClass:tn("value"),titleClass:[tn("label",[it,{required:v.value}]),n.labelClass],arrowDirection:n.arrowDirection},{icon:rt&&it!=="top"?()=>rt:null,title:Et,value:ue,extra:e.extra})}}});const d1=pi(h1),g1={gap:{type:[Number,Object],default:24},icon:String,axis:Pe("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[p1,Ah]=gi("floating-bubble");var m1=xn({name:p1,inheritAttrs:!1,props:g1,emits:["click","update:offset","offsetChange"],setup(n,{slots:t,emit:e,attrs:i}){const s=Ht(),a=Ht({x:0,y:0,width:0,height:0}),l=ne(()=>rc(n.gap)?n.gap.x:n.gap),u=ne(()=>rc(n.gap)?n.gap.y:n.gap),f=ne(()=>({top:u.value,right:Il.value-a.value.width-l.value,bottom:El.value-a.value.height-u.value,left:l.value})),h=Ht(!1);let g=!1;const m=ne(()=>{const M={},R=qo(a.value.x),B=qo(a.value.y);return M.transform=`translate3d(${R}, ${B}, 0)`,(h.value||!g)&&(M.transition="none"),M}),p=()=>{if(!E.value)return;const{width:M,height:R}=mg(s.value),{offset:B}=n;a.value={x:B?B.x:Il.value-M-l.value,y:B?B.y:El.value-R-u.value,width:M,height:R}},v=pg();let S=0,y=0;const w=M=>{v.start(M),h.value=!0,S=a.value.x,y=a.value.y};Sc("touchmove",M=>{if(M.preventDefault(),v.move(M),n.axis!=="lock"&&!v.isTap.value){if(n.axis==="x"||n.axis==="xy"){let B=S+v.deltaX.value;B<f.value.left&&(B=f.value.left),B>f.value.right&&(B=f.value.right),a.value.x=B}if(n.axis==="y"||n.axis==="xy"){let B=y+v.deltaY.value;B<f.value.top&&(B=f.value.top),B>f.value.bottom&&(B=f.value.bottom),a.value.y=B}const R=mr(a.value,["x","y"]);e("update:offset",R)}},{target:s});const O=()=>{h.value=!1,bn(()=>{if(n.magnetic==="x"){const M=Dh([f.value.left,f.value.right],a.value.x);a.value.x=M}if(n.magnetic==="y"){const M=Dh([f.value.top,f.value.bottom],a.value.y);a.value.y=M}if(!v.isTap.value){const M=mr(a.value,["x","y"]);e("update:offset",M),(S!==M.x||y!==M.y)&&e("offsetChange",M)}})},P=M=>{v.isTap.value?e("click",M):M.stopPropagation()};_r(()=>{p(),bn(()=>{g=!0})}),hs([Il,El,l,u,()=>n.offset],p,{deep:!0});const E=Ht(!0);return Tw(()=>{E.value=!0}),Aw(()=>{n.teleport&&(E.value=!1)}),()=>{const M=Ow(U("div",pr({class:Ah(),ref:s,onTouchstartPassive:w,onTouchend:O,onTouchcancel:O,onClickCapture:P,style:m.value},i),[t.default?t.default():U(Iw,{name:n.icon,class:Ah("icon")},null)]),[[Ew,E.value]]);return n.teleport?U(Pw,{to:n.teleport},{default:()=>[M]}):M}}});const _1=pi(m1),[b1,$r,v1]=gi("search"),x1=Wi({},Mc,{label:String,shape:Pe("square"),leftIcon:Pe("search"),clearable:qn,actionText:String,background:String,showAction:Boolean});var y1=xn({name:b1,props:x1,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(n,{emit:t,slots:e,attrs:i}){const s=kg(),a=Ht(),l=()=>{e.action||(t("update:modelValue",""),t("cancel"))},u=M=>{M.keyCode===13&&(hr(M),t("search",n.modelValue))},f=()=>n.id||`${s}-input`,h=()=>{if(e.label||n.label)return U("label",{class:$r("label"),for:f(),"data-allow-mismatch":"attribute"},[e.label?e.label():n.label])},g=()=>{if(n.showAction){const M=n.actionText||v1("cancel");return U("div",{class:$r("action"),role:"button",tabindex:0,onClick:l},[e.action?e.action():M])}},m=()=>{var M;return(M=a.value)==null?void 0:M.blur()},p=()=>{var M;return(M=a.value)==null?void 0:M.focus()},v=M=>t("blur",M),S=M=>t("focus",M),y=M=>t("clear",M),w=M=>t("clickInput",M),k=M=>t("clickLeftIcon",M),O=M=>t("clickRightIcon",M),P=Object.keys(Mc),E=()=>{const M=Wi({},i,mr(n,P),{id:f()}),R=B=>t("update:modelValue",B);return U(d1,pr({ref:a,type:"search",class:$r("field",{"with-message":M.errorMessage}),border:!1,onBlur:v,onFocus:S,onClear:y,onKeypress:u,onClickInput:w,onClickLeftIcon:k,onClickRightIcon:O,"onUpdate:modelValue":R},M),mr(e,["left-icon","right-icon"]))};return wc({focus:p,blur:m}),()=>{var M;return U("div",{class:$r({"show-action":n.showAction}),style:{background:n.background}},[(M=e.left)==null?void 0:M.call(e),U("div",{class:$r("content",n.shape)},[h(),E()]),g()])}}});const w1=pi(y1),S1=n=>n?.includes("/"),C1=[...ug,"round","closeOnPopstate","safeAreaInsetBottom"],k1={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[D1,pn,M1]=gi("share-sheet"),T1=Wi({},lg,{title:String,round:qn,options:cg(),cancelText:String,description:String,closeOnPopstate:qn,safeAreaInsetBottom:qn});var A1=xn({name:D1,props:T1,emits:["cancel","select","update:show"],setup(n,{emit:t,slots:e}){const i=p=>t("update:show",p),s=()=>{i(!1),t("cancel")},a=(p,v)=>t("select",p,v),l=()=>{const p=e.title?e.title():n.title,v=e.description?e.description():n.description;if(p||v)return U("div",{class:pn("header")},[p&&U("h2",{class:pn("title")},[p]),v&&U("span",{class:pn("description")},[v])])},u=p=>S1(p)?U("img",{src:p,class:pn("image-icon")},null):U("div",{class:pn("icon",[p])},[U(An,{name:k1[p]||p},null)]),f=(p,v)=>{const{name:S,icon:y,className:w,description:k}=p;return U("div",{role:"button",tabindex:0,class:[pn("option"),w,fg],onClick:()=>a(p,v)},[u(y),S&&U("span",{class:pn("name")},[S]),k&&U("span",{class:pn("option-description")},[k])])},h=(p,v)=>U("div",{class:pn("options",{border:v})},[p.map(f)]),g=()=>{const{options:p}=n;return Array.isArray(p[0])?p.map((v,S)=>h(v,S!==0)):h(p)},m=()=>{var p;const v=(p=n.cancelText)!=null?p:M1("cancel");if(e.cancel||v)return U("button",{type:"button",class:pn("cancel"),onClick:s},[e.cancel?e.cancel():v])};return()=>U(ag,pr({class:pn(),position:"bottom","onUpdate:show":i},mr(n,C1)),{default:()=>[l(),g(),m()]})}});const O1=pi(A1),[E1,Fl]=gi("swipe-cell"),I1={name:hg(""),disabled:Boolean,leftWidth:Kn,rightWidth:Kn,beforeClose:Function,stopPropagation:Boolean};var P1=xn({name:E1,props:I1,emits:["open","close","click"],setup(n,{emit:t,slots:e}){let i,s,a,l;const u=Ht(),f=Ht(),h=Ht(),g=dg({offset:0,dragging:!1}),m=pg(),p=L=>L.value?mg(L).width:0,v=ne(()=>_n(n.leftWidth)?+n.leftWidth:p(f)),S=ne(()=>_n(n.rightWidth)?+n.rightWidth:p(h)),y=L=>{g.offset=L==="left"?v.value:-S.value,i||(i=!0,t("open",{name:n.name,position:L}))},w=L=>{g.offset=0,i&&(i=!1,t("close",{name:n.name,position:L}))},k=L=>{const $=Math.abs(g.offset),j=.15,q=i?1-j:j,G=L==="left"?v.value:S.value;G&&$>G*q?y(L):w(L)},O=L=>{n.disabled||(a=g.offset,m.start(L))},P=L=>{if(n.disabled)return;const{deltaX:$}=m;m.move(L),m.isHorizontal()&&(s=!0,g.dragging=!0,(!i||$.value*a<0)&&hr(L,n.stopPropagation),g.offset=gg($.value+a,-S.value,v.value))},E=()=>{g.dragging&&(g.dragging=!1,k(g.offset>0?"left":"right"),setTimeout(()=>{s=!1},0))},M=(L="outside",$)=>{l||(t("click",L),i&&!s&&(l=!0,Rw(n.beforeClose,{args:[{event:$,name:n.name,position:L}],done:()=>{l=!1,w(L)},canceled:()=>l=!1,error:()=>l=!1})))},R=L=>$=>{(s||i)&&$.stopPropagation(),!s&&M(L,$)},B=(L,$)=>{const j=e[L];if(j)return U("div",{ref:$,class:Fl(L),onClick:R(L)},[j()])};return wc({open:y,close:w}),Lw(u,L=>M("outside",L),{eventName:"touchstart"}),Sc("touchmove",P,{target:u}),()=>{var L;const $={transform:`translate3d(${g.offset}px, 0, 0)`,transitionDuration:g.dragging?"0s":".6s"};return U("div",{ref:u,class:Fl(),onClick:R("cell"),onTouchstartPassive:O,onTouchend:E,onTouchcancel:E},[U("div",{class:Fl("wrapper"),style:$},[B("left",f),(L=e.default)==null?void 0:L.call(e),B("right",h)])])}}});const L1=pi(P1);async function R1(){console.log("開始執行 getAllStocks");const n=await _g("all-stocks");if(n&&n.length>0)return console.log("從 IndexedDB 獲取的股票資料:",n),n;{console.log("all-stocks store 無資料，開始從 stock_list.json 獲取");const e=(await bg.get("stocks/stock_list.json")).data;for(const i of e)await Cc("all-stocks",i);return console.log("股票資料已快取到 IndexedDB:",e),e}}async function F1(n){return await getFromStore("all-stocks",n)}async function B1(n){return await Cc("all-stocks",n)}var Kr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var W1=Kr.exports,Oh;function z1(){return Oh||(Oh=1,function(n,t){(function(){var e,i="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,g="__lodash_placeholder__",m=1,p=2,v=4,S=1,y=2,w=1,k=2,O=4,P=8,E=16,M=32,R=64,B=128,L=256,$=512,j=30,q="...",G=800,ct=16,xt=1,at=2,ht=3,yt=1/0,Dt=9007199254740991,te=17976931348623157e292,Gt=NaN,bt=4294967295,le=bt-1,Se=bt>>>1,Re=[["ary",B],["bind",w],["bindKey",k],["curry",P],["curryRight",E],["flip",$],["partial",M],["partialRight",R],["rearg",L]],ce="[object Arguments]",ue="[object Array]",N="[object AsyncFunction]",it="[object Boolean]",rt="[object Date]",Et="[object DOMException]",Rt="[object Error]",fe="[object Function]",Ce="[object GeneratorFunction]",At="[object Map]",$t="[object Number]",yn="[object Null]",he="[object Object]",Hi="[object Promise]",Sr="[object Proxy]",$i="[object RegExp]",un="[object Set]",Cr="[object String]",ks="[object Symbol]",Fp="[object Undefined]",kr="[object WeakMap]",Bp="[object WeakSet]",Dr="[object ArrayBuffer]",Yi="[object DataView]",ua="[object Float32Array]",fa="[object Float64Array]",ha="[object Int8Array]",da="[object Int16Array]",ga="[object Int32Array]",pa="[object Uint8Array]",ma="[object Uint8ClampedArray]",_a="[object Uint16Array]",ba="[object Uint32Array]",Wp=/\b__p \+= '';/g,zp=/\b(__p \+=) '' \+/g,Np=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qc=/&(?:amp|lt|gt|quot|#39);/g,Kc=/[&<>"']/g,Hp=RegExp(qc.source),$p=RegExp(Kc.source),Yp=/<%-([\s\S]+?)%>/g,Up=/<%([\s\S]+?)%>/g,jc=/<%=([\s\S]+?)%>/g,Vp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xp=/^\w*$/,qp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,va=/[\\^$.*+?()[\]{}|]/g,Kp=RegExp(va.source),xa=/^\s+/,jp=/\s/,Gp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zp=/\{\n\/\* \[wrapped with (.+)\] \*/,Jp=/,? & /,Qp=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tm=/[()=,{}\[\]\/\s]/,em=/\\(\\)?/g,nm=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gc=/\w*$/,im=/^[-+]0x[0-9a-f]+$/i,rm=/^0b[01]+$/i,sm=/^\[object .+?Constructor\]$/,om=/^0o[0-7]+$/i,am=/^(?:0|[1-9]\d*)$/,lm=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ds=/($^)/,cm=/['\n\r\u2028\u2029\\]/g,Ms="\\ud800-\\udfff",um="\\u0300-\\u036f",fm="\\ufe20-\\ufe2f",hm="\\u20d0-\\u20ff",Zc=um+fm+hm,Jc="\\u2700-\\u27bf",Qc="a-z\\xdf-\\xf6\\xf8-\\xff",dm="\\xac\\xb1\\xd7\\xf7",gm="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pm="\\u2000-\\u206f",mm=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tu="A-Z\\xc0-\\xd6\\xd8-\\xde",eu="\\ufe0e\\ufe0f",nu=dm+gm+pm+mm,ya="['’]",_m="["+Ms+"]",iu="["+nu+"]",Ts="["+Zc+"]",ru="\\d+",bm="["+Jc+"]",su="["+Qc+"]",ou="[^"+Ms+nu+ru+Jc+Qc+tu+"]",wa="\\ud83c[\\udffb-\\udfff]",vm="(?:"+Ts+"|"+wa+")",au="[^"+Ms+"]",Sa="(?:\\ud83c[\\udde6-\\uddff]){2}",Ca="[\\ud800-\\udbff][\\udc00-\\udfff]",Ui="["+tu+"]",lu="\\u200d",cu="(?:"+su+"|"+ou+")",xm="(?:"+Ui+"|"+ou+")",uu="(?:"+ya+"(?:d|ll|m|re|s|t|ve))?",fu="(?:"+ya+"(?:D|LL|M|RE|S|T|VE))?",hu=vm+"?",du="["+eu+"]?",ym="(?:"+lu+"(?:"+[au,Sa,Ca].join("|")+")"+du+hu+")*",wm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Sm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",gu=du+hu+ym,Cm="(?:"+[bm,Sa,Ca].join("|")+")"+gu,km="(?:"+[au+Ts+"?",Ts,Sa,Ca,_m].join("|")+")",Dm=RegExp(ya,"g"),Mm=RegExp(Ts,"g"),ka=RegExp(wa+"(?="+wa+")|"+km+gu,"g"),Tm=RegExp([Ui+"?"+su+"+"+uu+"(?="+[iu,Ui,"$"].join("|")+")",xm+"+"+fu+"(?="+[iu,Ui+cu,"$"].join("|")+")",Ui+"?"+cu+"+"+uu,Ui+"+"+fu,Sm,wm,ru,Cm].join("|"),"g"),Am=RegExp("["+lu+Ms+Zc+eu+"]"),Om=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Em=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Im=-1,Ft={};Ft[ua]=Ft[fa]=Ft[ha]=Ft[da]=Ft[ga]=Ft[pa]=Ft[ma]=Ft[_a]=Ft[ba]=!0,Ft[ce]=Ft[ue]=Ft[Dr]=Ft[it]=Ft[Yi]=Ft[rt]=Ft[Rt]=Ft[fe]=Ft[At]=Ft[$t]=Ft[he]=Ft[$i]=Ft[un]=Ft[Cr]=Ft[kr]=!1;var It={};It[ce]=It[ue]=It[Dr]=It[Yi]=It[it]=It[rt]=It[ua]=It[fa]=It[ha]=It[da]=It[ga]=It[At]=It[$t]=It[he]=It[$i]=It[un]=It[Cr]=It[ks]=It[pa]=It[ma]=It[_a]=It[ba]=!0,It[Rt]=It[fe]=It[kr]=!1;var Pm={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Lm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Rm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Fm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bm=parseFloat,Wm=parseInt,pu=typeof po=="object"&&po&&po.Object===Object&&po,zm=typeof self=="object"&&self&&self.Object===Object&&self,se=pu||zm||Function("return this")(),Da=t&&!t.nodeType&&t,mi=Da&&!0&&n&&!n.nodeType&&n,mu=mi&&mi.exports===Da,Ma=mu&&pu.process,Ve=function(){try{var T=mi&&mi.require&&mi.require("util").types;return T||Ma&&Ma.binding&&Ma.binding("util")}catch{}}(),_u=Ve&&Ve.isArrayBuffer,bu=Ve&&Ve.isDate,vu=Ve&&Ve.isMap,xu=Ve&&Ve.isRegExp,yu=Ve&&Ve.isSet,wu=Ve&&Ve.isTypedArray;function Fe(T,F,I){switch(I.length){case 0:return T.call(F);case 1:return T.call(F,I[0]);case 2:return T.call(F,I[0],I[1]);case 3:return T.call(F,I[0],I[1],I[2])}return T.apply(F,I)}function Nm(T,F,I,X){for(var nt=-1,wt=T==null?0:T.length;++nt<wt;){var Zt=T[nt];F(X,Zt,I(Zt),T)}return X}function Xe(T,F){for(var I=-1,X=T==null?0:T.length;++I<X&&F(T[I],I,T)!==!1;);return T}function Hm(T,F){for(var I=T==null?0:T.length;I--&&F(T[I],I,T)!==!1;);return T}function Su(T,F){for(var I=-1,X=T==null?0:T.length;++I<X;)if(!F(T[I],I,T))return!1;return!0}function Jn(T,F){for(var I=-1,X=T==null?0:T.length,nt=0,wt=[];++I<X;){var Zt=T[I];F(Zt,I,T)&&(wt[nt++]=Zt)}return wt}function As(T,F){var I=T==null?0:T.length;return!!I&&Vi(T,F,0)>-1}function Ta(T,F,I){for(var X=-1,nt=T==null?0:T.length;++X<nt;)if(I(F,T[X]))return!0;return!1}function Wt(T,F){for(var I=-1,X=T==null?0:T.length,nt=Array(X);++I<X;)nt[I]=F(T[I],I,T);return nt}function Qn(T,F){for(var I=-1,X=F.length,nt=T.length;++I<X;)T[nt+I]=F[I];return T}function Aa(T,F,I,X){var nt=-1,wt=T==null?0:T.length;for(X&&wt&&(I=T[++nt]);++nt<wt;)I=F(I,T[nt],nt,T);return I}function $m(T,F,I,X){var nt=T==null?0:T.length;for(X&&nt&&(I=T[--nt]);nt--;)I=F(I,T[nt],nt,T);return I}function Oa(T,F){for(var I=-1,X=T==null?0:T.length;++I<X;)if(F(T[I],I,T))return!0;return!1}var Ym=Ea("length");function Um(T){return T.split("")}function Vm(T){return T.match(Qp)||[]}function Cu(T,F,I){var X;return I(T,function(nt,wt,Zt){if(F(nt,wt,Zt))return X=wt,!1}),X}function Os(T,F,I,X){for(var nt=T.length,wt=I+(X?1:-1);X?wt--:++wt<nt;)if(F(T[wt],wt,T))return wt;return-1}function Vi(T,F,I){return F===F?i_(T,F,I):Os(T,ku,I)}function Xm(T,F,I,X){for(var nt=I-1,wt=T.length;++nt<wt;)if(X(T[nt],F))return nt;return-1}function ku(T){return T!==T}function Du(T,F){var I=T==null?0:T.length;return I?Pa(T,F)/I:Gt}function Ea(T){return function(F){return F==null?e:F[T]}}function Ia(T){return function(F){return T==null?e:T[F]}}function Mu(T,F,I,X,nt){return nt(T,function(wt,Zt,Ot){I=X?(X=!1,wt):F(I,wt,Zt,Ot)}),I}function qm(T,F){var I=T.length;for(T.sort(F);I--;)T[I]=T[I].value;return T}function Pa(T,F){for(var I,X=-1,nt=T.length;++X<nt;){var wt=F(T[X]);wt!==e&&(I=I===e?wt:I+wt)}return I}function La(T,F){for(var I=-1,X=Array(T);++I<T;)X[I]=F(I);return X}function Km(T,F){return Wt(F,function(I){return[I,T[I]]})}function Tu(T){return T&&T.slice(0,Iu(T)+1).replace(xa,"")}function Be(T){return function(F){return T(F)}}function Ra(T,F){return Wt(F,function(I){return T[I]})}function Mr(T,F){return T.has(F)}function Au(T,F){for(var I=-1,X=T.length;++I<X&&Vi(F,T[I],0)>-1;);return I}function Ou(T,F){for(var I=T.length;I--&&Vi(F,T[I],0)>-1;);return I}function jm(T,F){for(var I=T.length,X=0;I--;)T[I]===F&&++X;return X}var Gm=Ia(Pm),Zm=Ia(Lm);function Jm(T){return"\\"+Fm[T]}function Qm(T,F){return T==null?e:T[F]}function Xi(T){return Am.test(T)}function t_(T){return Om.test(T)}function e_(T){for(var F,I=[];!(F=T.next()).done;)I.push(F.value);return I}function Fa(T){var F=-1,I=Array(T.size);return T.forEach(function(X,nt){I[++F]=[nt,X]}),I}function Eu(T,F){return function(I){return T(F(I))}}function ti(T,F){for(var I=-1,X=T.length,nt=0,wt=[];++I<X;){var Zt=T[I];(Zt===F||Zt===g)&&(T[I]=g,wt[nt++]=I)}return wt}function Es(T){var F=-1,I=Array(T.size);return T.forEach(function(X){I[++F]=X}),I}function n_(T){var F=-1,I=Array(T.size);return T.forEach(function(X){I[++F]=[X,X]}),I}function i_(T,F,I){for(var X=I-1,nt=T.length;++X<nt;)if(T[X]===F)return X;return-1}function r_(T,F,I){for(var X=I+1;X--;)if(T[X]===F)return X;return X}function qi(T){return Xi(T)?o_(T):Ym(T)}function fn(T){return Xi(T)?a_(T):Um(T)}function Iu(T){for(var F=T.length;F--&&jp.test(T.charAt(F)););return F}var s_=Ia(Rm);function o_(T){for(var F=ka.lastIndex=0;ka.test(T);)++F;return F}function a_(T){return T.match(ka)||[]}function l_(T){return T.match(Tm)||[]}var c_=function T(F){F=F==null?se:Ki.defaults(se.Object(),F,Ki.pick(se,Em));var I=F.Array,X=F.Date,nt=F.Error,wt=F.Function,Zt=F.Math,Ot=F.Object,Ba=F.RegExp,u_=F.String,qe=F.TypeError,Is=I.prototype,f_=wt.prototype,ji=Ot.prototype,Ps=F["__core-js_shared__"],Ls=f_.toString,Mt=ji.hasOwnProperty,h_=0,Pu=function(){var r=/[^.]+$/.exec(Ps&&Ps.keys&&Ps.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Rs=ji.toString,d_=Ls.call(Ot),g_=se._,p_=Ba("^"+Ls.call(Mt).replace(va,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fs=mu?F.Buffer:e,ei=F.Symbol,Bs=F.Uint8Array,Lu=Fs?Fs.allocUnsafe:e,Ws=Eu(Ot.getPrototypeOf,Ot),Ru=Ot.create,Fu=ji.propertyIsEnumerable,zs=Is.splice,Bu=ei?ei.isConcatSpreadable:e,Tr=ei?ei.iterator:e,_i=ei?ei.toStringTag:e,Ns=function(){try{var r=wi(Ot,"defineProperty");return r({},"",{}),r}catch{}}(),m_=F.clearTimeout!==se.clearTimeout&&F.clearTimeout,__=X&&X.now!==se.Date.now&&X.now,b_=F.setTimeout!==se.setTimeout&&F.setTimeout,Hs=Zt.ceil,$s=Zt.floor,Wa=Ot.getOwnPropertySymbols,v_=Fs?Fs.isBuffer:e,Wu=F.isFinite,x_=Is.join,y_=Eu(Ot.keys,Ot),Jt=Zt.max,de=Zt.min,w_=X.now,S_=F.parseInt,zu=Zt.random,C_=Is.reverse,za=wi(F,"DataView"),Ar=wi(F,"Map"),Na=wi(F,"Promise"),Gi=wi(F,"Set"),Or=wi(F,"WeakMap"),Er=wi(Ot,"create"),Ys=Or&&new Or,Zi={},k_=Si(za),D_=Si(Ar),M_=Si(Na),T_=Si(Gi),A_=Si(Or),Us=ei?ei.prototype:e,Ir=Us?Us.valueOf:e,Nu=Us?Us.toString:e;function b(r){if(Yt(r)&&!st(r)&&!(r instanceof pt)){if(r instanceof Ke)return r;if(Mt.call(r,"__wrapped__"))return $f(r)}return new Ke(r)}var Ji=function(){function r(){}return function(o){if(!Nt(o))return{};if(Ru)return Ru(o);r.prototype=o;var c=new r;return r.prototype=e,c}}();function Vs(){}function Ke(r,o){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=e}b.templateSettings={escape:Yp,evaluate:Up,interpolate:jc,variable:"",imports:{_:b}},b.prototype=Vs.prototype,b.prototype.constructor=b,Ke.prototype=Ji(Vs.prototype),Ke.prototype.constructor=Ke;function pt(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=bt,this.__views__=[]}function O_(){var r=new pt(this.__wrapped__);return r.__actions__=ke(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=ke(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=ke(this.__views__),r}function E_(){if(this.__filtered__){var r=new pt(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function I_(){var r=this.__wrapped__.value(),o=this.__dir__,c=st(r),d=o<0,_=c?r.length:0,x=Ub(0,_,this.__views__),C=x.start,D=x.end,A=D-C,W=d?D:C-1,z=this.__iteratees__,H=z.length,V=0,K=de(A,this.__takeCount__);if(!c||!d&&_==A&&K==A)return ff(r,this.__actions__);var J=[];t:for(;A--&&V<K;){W+=o;for(var ut=-1,Q=r[W];++ut<H;){var gt=z[ut],mt=gt.iteratee,Ne=gt.type,ye=mt(Q);if(Ne==at)Q=ye;else if(!ye){if(Ne==xt)continue t;break t}}J[V++]=Q}return J}pt.prototype=Ji(Vs.prototype),pt.prototype.constructor=pt;function bi(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var d=r[o];this.set(d[0],d[1])}}function P_(){this.__data__=Er?Er(null):{},this.size=0}function L_(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o}function R_(r){var o=this.__data__;if(Er){var c=o[r];return c===f?e:c}return Mt.call(o,r)?o[r]:e}function F_(r){var o=this.__data__;return Er?o[r]!==e:Mt.call(o,r)}function B_(r,o){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=Er&&o===e?f:o,this}bi.prototype.clear=P_,bi.prototype.delete=L_,bi.prototype.get=R_,bi.prototype.has=F_,bi.prototype.set=B_;function Pn(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var d=r[o];this.set(d[0],d[1])}}function W_(){this.__data__=[],this.size=0}function z_(r){var o=this.__data__,c=Xs(o,r);if(c<0)return!1;var d=o.length-1;return c==d?o.pop():zs.call(o,c,1),--this.size,!0}function N_(r){var o=this.__data__,c=Xs(o,r);return c<0?e:o[c][1]}function H_(r){return Xs(this.__data__,r)>-1}function $_(r,o){var c=this.__data__,d=Xs(c,r);return d<0?(++this.size,c.push([r,o])):c[d][1]=o,this}Pn.prototype.clear=W_,Pn.prototype.delete=z_,Pn.prototype.get=N_,Pn.prototype.has=H_,Pn.prototype.set=$_;function Ln(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var d=r[o];this.set(d[0],d[1])}}function Y_(){this.size=0,this.__data__={hash:new bi,map:new(Ar||Pn),string:new bi}}function U_(r){var o=ro(this,r).delete(r);return this.size-=o?1:0,o}function V_(r){return ro(this,r).get(r)}function X_(r){return ro(this,r).has(r)}function q_(r,o){var c=ro(this,r),d=c.size;return c.set(r,o),this.size+=c.size==d?0:1,this}Ln.prototype.clear=Y_,Ln.prototype.delete=U_,Ln.prototype.get=V_,Ln.prototype.has=X_,Ln.prototype.set=q_;function vi(r){var o=-1,c=r==null?0:r.length;for(this.__data__=new Ln;++o<c;)this.add(r[o])}function K_(r){return this.__data__.set(r,f),this}function j_(r){return this.__data__.has(r)}vi.prototype.add=vi.prototype.push=K_,vi.prototype.has=j_;function hn(r){var o=this.__data__=new Pn(r);this.size=o.size}function G_(){this.__data__=new Pn,this.size=0}function Z_(r){var o=this.__data__,c=o.delete(r);return this.size=o.size,c}function J_(r){return this.__data__.get(r)}function Q_(r){return this.__data__.has(r)}function tb(r,o){var c=this.__data__;if(c instanceof Pn){var d=c.__data__;if(!Ar||d.length<s-1)return d.push([r,o]),this.size=++c.size,this;c=this.__data__=new Ln(d)}return c.set(r,o),this.size=c.size,this}hn.prototype.clear=G_,hn.prototype.delete=Z_,hn.prototype.get=J_,hn.prototype.has=Q_,hn.prototype.set=tb;function Hu(r,o){var c=st(r),d=!c&&Ci(r),_=!c&&!d&&oi(r),x=!c&&!d&&!_&&nr(r),C=c||d||_||x,D=C?La(r.length,u_):[],A=D.length;for(var W in r)(o||Mt.call(r,W))&&!(C&&(W=="length"||_&&(W=="offset"||W=="parent")||x&&(W=="buffer"||W=="byteLength"||W=="byteOffset")||Wn(W,A)))&&D.push(W);return D}function $u(r){var o=r.length;return o?r[Za(0,o-1)]:e}function eb(r,o){return so(ke(r),xi(o,0,r.length))}function nb(r){return so(ke(r))}function Ha(r,o,c){(c!==e&&!dn(r[o],c)||c===e&&!(o in r))&&Rn(r,o,c)}function Pr(r,o,c){var d=r[o];(!(Mt.call(r,o)&&dn(d,c))||c===e&&!(o in r))&&Rn(r,o,c)}function Xs(r,o){for(var c=r.length;c--;)if(dn(r[c][0],o))return c;return-1}function ib(r,o,c,d){return ni(r,function(_,x,C){o(d,_,c(_),C)}),d}function Yu(r,o){return r&&Sn(o,ee(o),r)}function rb(r,o){return r&&Sn(o,Me(o),r)}function Rn(r,o,c){o=="__proto__"&&Ns?Ns(r,o,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[o]=c}function $a(r,o){for(var c=-1,d=o.length,_=I(d),x=r==null;++c<d;)_[c]=x?e:wl(r,o[c]);return _}function xi(r,o,c){return r===r&&(c!==e&&(r=r<=c?r:c),o!==e&&(r=r>=o?r:o)),r}function je(r,o,c,d,_,x){var C,D=o&m,A=o&p,W=o&v;if(c&&(C=_?c(r,d,_,x):c(r)),C!==e)return C;if(!Nt(r))return r;var z=st(r);if(z){if(C=Xb(r),!D)return ke(r,C)}else{var H=ge(r),V=H==fe||H==Ce;if(oi(r))return gf(r,D);if(H==he||H==ce||V&&!_){if(C=A||V?{}:Pf(r),!D)return A?Rb(r,rb(C,r)):Lb(r,Yu(C,r))}else{if(!It[H])return _?r:{};C=qb(r,H,D)}}x||(x=new hn);var K=x.get(r);if(K)return K;x.set(r,C),lh(r)?r.forEach(function(Q){C.add(je(Q,o,c,Q,r,x))}):oh(r)&&r.forEach(function(Q,gt){C.set(gt,je(Q,o,c,gt,r,x))});var J=W?A?ll:al:A?Me:ee,ut=z?e:J(r);return Xe(ut||r,function(Q,gt){ut&&(gt=Q,Q=r[gt]),Pr(C,gt,je(Q,o,c,gt,r,x))}),C}function sb(r){var o=ee(r);return function(c){return Uu(c,r,o)}}function Uu(r,o,c){var d=c.length;if(r==null)return!d;for(r=Ot(r);d--;){var _=c[d],x=o[_],C=r[_];if(C===e&&!(_ in r)||!x(C))return!1}return!0}function Vu(r,o,c){if(typeof r!="function")throw new qe(l);return Nr(function(){r.apply(e,c)},o)}function Lr(r,o,c,d){var _=-1,x=As,C=!0,D=r.length,A=[],W=o.length;if(!D)return A;c&&(o=Wt(o,Be(c))),d?(x=Ta,C=!1):o.length>=s&&(x=Mr,C=!1,o=new vi(o));t:for(;++_<D;){var z=r[_],H=c==null?z:c(z);if(z=d||z!==0?z:0,C&&H===H){for(var V=W;V--;)if(o[V]===H)continue t;A.push(z)}else x(o,H,d)||A.push(z)}return A}var ni=vf(wn),Xu=vf(Ua,!0);function ob(r,o){var c=!0;return ni(r,function(d,_,x){return c=!!o(d,_,x),c}),c}function qs(r,o,c){for(var d=-1,_=r.length;++d<_;){var x=r[d],C=o(x);if(C!=null&&(D===e?C===C&&!ze(C):c(C,D)))var D=C,A=x}return A}function ab(r,o,c,d){var _=r.length;for(c=lt(c),c<0&&(c=-c>_?0:_+c),d=d===e||d>_?_:lt(d),d<0&&(d+=_),d=c>d?0:uh(d);c<d;)r[c++]=o;return r}function qu(r,o){var c=[];return ni(r,function(d,_,x){o(d,_,x)&&c.push(d)}),c}function oe(r,o,c,d,_){var x=-1,C=r.length;for(c||(c=jb),_||(_=[]);++x<C;){var D=r[x];o>0&&c(D)?o>1?oe(D,o-1,c,d,_):Qn(_,D):d||(_[_.length]=D)}return _}var Ya=xf(),Ku=xf(!0);function wn(r,o){return r&&Ya(r,o,ee)}function Ua(r,o){return r&&Ku(r,o,ee)}function Ks(r,o){return Jn(o,function(c){return zn(r[c])})}function yi(r,o){o=ri(o,r);for(var c=0,d=o.length;r!=null&&c<d;)r=r[Cn(o[c++])];return c&&c==d?r:e}function ju(r,o,c){var d=o(r);return st(r)?d:Qn(d,c(r))}function ve(r){return r==null?r===e?Fp:yn:_i&&_i in Ot(r)?Yb(r):n0(r)}function Va(r,o){return r>o}function lb(r,o){return r!=null&&Mt.call(r,o)}function cb(r,o){return r!=null&&o in Ot(r)}function ub(r,o,c){return r>=de(o,c)&&r<Jt(o,c)}function Xa(r,o,c){for(var d=c?Ta:As,_=r[0].length,x=r.length,C=x,D=I(x),A=1/0,W=[];C--;){var z=r[C];C&&o&&(z=Wt(z,Be(o))),A=de(z.length,A),D[C]=!c&&(o||_>=120&&z.length>=120)?new vi(C&&z):e}z=r[0];var H=-1,V=D[0];t:for(;++H<_&&W.length<A;){var K=z[H],J=o?o(K):K;if(K=c||K!==0?K:0,!(V?Mr(V,J):d(W,J,c))){for(C=x;--C;){var ut=D[C];if(!(ut?Mr(ut,J):d(r[C],J,c)))continue t}V&&V.push(J),W.push(K)}}return W}function fb(r,o,c,d){return wn(r,function(_,x,C){o(d,c(_),x,C)}),d}function Rr(r,o,c){o=ri(o,r),r=Bf(r,o);var d=r==null?r:r[Cn(Ze(o))];return d==null?e:Fe(d,r,c)}function Gu(r){return Yt(r)&&ve(r)==ce}function hb(r){return Yt(r)&&ve(r)==Dr}function db(r){return Yt(r)&&ve(r)==rt}function Fr(r,o,c,d,_){return r===o?!0:r==null||o==null||!Yt(r)&&!Yt(o)?r!==r&&o!==o:gb(r,o,c,d,Fr,_)}function gb(r,o,c,d,_,x){var C=st(r),D=st(o),A=C?ue:ge(r),W=D?ue:ge(o);A=A==ce?he:A,W=W==ce?he:W;var z=A==he,H=W==he,V=A==W;if(V&&oi(r)){if(!oi(o))return!1;C=!0,z=!1}if(V&&!z)return x||(x=new hn),C||nr(r)?Of(r,o,c,d,_,x):Hb(r,o,A,c,d,_,x);if(!(c&S)){var K=z&&Mt.call(r,"__wrapped__"),J=H&&Mt.call(o,"__wrapped__");if(K||J){var ut=K?r.value():r,Q=J?o.value():o;return x||(x=new hn),_(ut,Q,c,d,x)}}return V?(x||(x=new hn),$b(r,o,c,d,_,x)):!1}function pb(r){return Yt(r)&&ge(r)==At}function qa(r,o,c,d){var _=c.length,x=_,C=!d;if(r==null)return!x;for(r=Ot(r);_--;){var D=c[_];if(C&&D[2]?D[1]!==r[D[0]]:!(D[0]in r))return!1}for(;++_<x;){D=c[_];var A=D[0],W=r[A],z=D[1];if(C&&D[2]){if(W===e&&!(A in r))return!1}else{var H=new hn;if(d)var V=d(W,z,A,r,o,H);if(!(V===e?Fr(z,W,S|y,d,H):V))return!1}}return!0}function Zu(r){if(!Nt(r)||Zb(r))return!1;var o=zn(r)?p_:sm;return o.test(Si(r))}function mb(r){return Yt(r)&&ve(r)==$i}function _b(r){return Yt(r)&&ge(r)==un}function bb(r){return Yt(r)&&fo(r.length)&&!!Ft[ve(r)]}function Ju(r){return typeof r=="function"?r:r==null?Te:typeof r=="object"?st(r)?ef(r[0],r[1]):tf(r):yh(r)}function Ka(r){if(!zr(r))return y_(r);var o=[];for(var c in Ot(r))Mt.call(r,c)&&c!="constructor"&&o.push(c);return o}function vb(r){if(!Nt(r))return e0(r);var o=zr(r),c=[];for(var d in r)d=="constructor"&&(o||!Mt.call(r,d))||c.push(d);return c}function ja(r,o){return r<o}function Qu(r,o){var c=-1,d=De(r)?I(r.length):[];return ni(r,function(_,x,C){d[++c]=o(_,x,C)}),d}function tf(r){var o=ul(r);return o.length==1&&o[0][2]?Rf(o[0][0],o[0][1]):function(c){return c===r||qa(c,r,o)}}function ef(r,o){return hl(r)&&Lf(o)?Rf(Cn(r),o):function(c){var d=wl(c,r);return d===e&&d===o?Sl(c,r):Fr(o,d,S|y)}}function js(r,o,c,d,_){r!==o&&Ya(o,function(x,C){if(_||(_=new hn),Nt(x))xb(r,o,C,c,js,d,_);else{var D=d?d(gl(r,C),x,C+"",r,o,_):e;D===e&&(D=x),Ha(r,C,D)}},Me)}function xb(r,o,c,d,_,x,C){var D=gl(r,c),A=gl(o,c),W=C.get(A);if(W){Ha(r,c,W);return}var z=x?x(D,A,c+"",r,o,C):e,H=z===e;if(H){var V=st(A),K=!V&&oi(A),J=!V&&!K&&nr(A);z=A,V||K||J?st(D)?z=D:Xt(D)?z=ke(D):K?(H=!1,z=gf(A,!0)):J?(H=!1,z=pf(A,!0)):z=[]:Hr(A)||Ci(A)?(z=D,Ci(D)?z=fh(D):(!Nt(D)||zn(D))&&(z=Pf(A))):H=!1}H&&(C.set(A,z),_(z,A,d,x,C),C.delete(A)),Ha(r,c,z)}function nf(r,o){var c=r.length;if(c)return o+=o<0?c:0,Wn(o,c)?r[o]:e}function rf(r,o,c){o.length?o=Wt(o,function(x){return st(x)?function(C){return yi(C,x.length===1?x[0]:x)}:x}):o=[Te];var d=-1;o=Wt(o,Be(Z()));var _=Qu(r,function(x,C,D){var A=Wt(o,function(W){return W(x)});return{criteria:A,index:++d,value:x}});return qm(_,function(x,C){return Pb(x,C,c)})}function yb(r,o){return sf(r,o,function(c,d){return Sl(r,d)})}function sf(r,o,c){for(var d=-1,_=o.length,x={};++d<_;){var C=o[d],D=yi(r,C);c(D,C)&&Br(x,ri(C,r),D)}return x}function wb(r){return function(o){return yi(o,r)}}function Ga(r,o,c,d){var _=d?Xm:Vi,x=-1,C=o.length,D=r;for(r===o&&(o=ke(o)),c&&(D=Wt(r,Be(c)));++x<C;)for(var A=0,W=o[x],z=c?c(W):W;(A=_(D,z,A,d))>-1;)D!==r&&zs.call(D,A,1),zs.call(r,A,1);return r}function of(r,o){for(var c=r?o.length:0,d=c-1;c--;){var _=o[c];if(c==d||_!==x){var x=_;Wn(_)?zs.call(r,_,1):tl(r,_)}}return r}function Za(r,o){return r+$s(zu()*(o-r+1))}function Sb(r,o,c,d){for(var _=-1,x=Jt(Hs((o-r)/(c||1)),0),C=I(x);x--;)C[d?x:++_]=r,r+=c;return C}function Ja(r,o){var c="";if(!r||o<1||o>Dt)return c;do o%2&&(c+=r),o=$s(o/2),o&&(r+=r);while(o);return c}function ft(r,o){return pl(Ff(r,o,Te),r+"")}function Cb(r){return $u(ir(r))}function kb(r,o){var c=ir(r);return so(c,xi(o,0,c.length))}function Br(r,o,c,d){if(!Nt(r))return r;o=ri(o,r);for(var _=-1,x=o.length,C=x-1,D=r;D!=null&&++_<x;){var A=Cn(o[_]),W=c;if(A==="__proto__"||A==="constructor"||A==="prototype")return r;if(_!=C){var z=D[A];W=d?d(z,A,D):e,W===e&&(W=Nt(z)?z:Wn(o[_+1])?[]:{})}Pr(D,A,W),D=D[A]}return r}var af=Ys?function(r,o){return Ys.set(r,o),r}:Te,Db=Ns?function(r,o){return Ns(r,"toString",{configurable:!0,enumerable:!1,value:kl(o),writable:!0})}:Te;function Mb(r){return so(ir(r))}function Ge(r,o,c){var d=-1,_=r.length;o<0&&(o=-o>_?0:_+o),c=c>_?_:c,c<0&&(c+=_),_=o>c?0:c-o>>>0,o>>>=0;for(var x=I(_);++d<_;)x[d]=r[d+o];return x}function Tb(r,o){var c;return ni(r,function(d,_,x){return c=o(d,_,x),!c}),!!c}function Gs(r,o,c){var d=0,_=r==null?d:r.length;if(typeof o=="number"&&o===o&&_<=Se){for(;d<_;){var x=d+_>>>1,C=r[x];C!==null&&!ze(C)&&(c?C<=o:C<o)?d=x+1:_=x}return _}return Qa(r,o,Te,c)}function Qa(r,o,c,d){var _=0,x=r==null?0:r.length;if(x===0)return 0;o=c(o);for(var C=o!==o,D=o===null,A=ze(o),W=o===e;_<x;){var z=$s((_+x)/2),H=c(r[z]),V=H!==e,K=H===null,J=H===H,ut=ze(H);if(C)var Q=d||J;else W?Q=J&&(d||V):D?Q=J&&V&&(d||!K):A?Q=J&&V&&!K&&(d||!ut):K||ut?Q=!1:Q=d?H<=o:H<o;Q?_=z+1:x=z}return de(x,le)}function lf(r,o){for(var c=-1,d=r.length,_=0,x=[];++c<d;){var C=r[c],D=o?o(C):C;if(!c||!dn(D,A)){var A=D;x[_++]=C===0?0:C}}return x}function cf(r){return typeof r=="number"?r:ze(r)?Gt:+r}function We(r){if(typeof r=="string")return r;if(st(r))return Wt(r,We)+"";if(ze(r))return Nu?Nu.call(r):"";var o=r+"";return o=="0"&&1/r==-yt?"-0":o}function ii(r,o,c){var d=-1,_=As,x=r.length,C=!0,D=[],A=D;if(c)C=!1,_=Ta;else if(x>=s){var W=o?null:zb(r);if(W)return Es(W);C=!1,_=Mr,A=new vi}else A=o?[]:D;t:for(;++d<x;){var z=r[d],H=o?o(z):z;if(z=c||z!==0?z:0,C&&H===H){for(var V=A.length;V--;)if(A[V]===H)continue t;o&&A.push(H),D.push(z)}else _(A,H,c)||(A!==D&&A.push(H),D.push(z))}return D}function tl(r,o){return o=ri(o,r),r=Bf(r,o),r==null||delete r[Cn(Ze(o))]}function uf(r,o,c,d){return Br(r,o,c(yi(r,o)),d)}function Zs(r,o,c,d){for(var _=r.length,x=d?_:-1;(d?x--:++x<_)&&o(r[x],x,r););return c?Ge(r,d?0:x,d?x+1:_):Ge(r,d?x+1:0,d?_:x)}function ff(r,o){var c=r;return c instanceof pt&&(c=c.value()),Aa(o,function(d,_){return _.func.apply(_.thisArg,Qn([d],_.args))},c)}function el(r,o,c){var d=r.length;if(d<2)return d?ii(r[0]):[];for(var _=-1,x=I(d);++_<d;)for(var C=r[_],D=-1;++D<d;)D!=_&&(x[_]=Lr(x[_]||C,r[D],o,c));return ii(oe(x,1),o,c)}function hf(r,o,c){for(var d=-1,_=r.length,x=o.length,C={};++d<_;){var D=d<x?o[d]:e;c(C,r[d],D)}return C}function nl(r){return Xt(r)?r:[]}function il(r){return typeof r=="function"?r:Te}function ri(r,o){return st(r)?r:hl(r,o)?[r]:Hf(kt(r))}var Ab=ft;function si(r,o,c){var d=r.length;return c=c===e?d:c,!o&&c>=d?r:Ge(r,o,c)}var df=m_||function(r){return se.clearTimeout(r)};function gf(r,o){if(o)return r.slice();var c=r.length,d=Lu?Lu(c):new r.constructor(c);return r.copy(d),d}function rl(r){var o=new r.constructor(r.byteLength);return new Bs(o).set(new Bs(r)),o}function Ob(r,o){var c=o?rl(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function Eb(r){var o=new r.constructor(r.source,Gc.exec(r));return o.lastIndex=r.lastIndex,o}function Ib(r){return Ir?Ot(Ir.call(r)):{}}function pf(r,o){var c=o?rl(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function mf(r,o){if(r!==o){var c=r!==e,d=r===null,_=r===r,x=ze(r),C=o!==e,D=o===null,A=o===o,W=ze(o);if(!D&&!W&&!x&&r>o||x&&C&&A&&!D&&!W||d&&C&&A||!c&&A||!_)return 1;if(!d&&!x&&!W&&r<o||W&&c&&_&&!d&&!x||D&&c&&_||!C&&_||!A)return-1}return 0}function Pb(r,o,c){for(var d=-1,_=r.criteria,x=o.criteria,C=_.length,D=c.length;++d<C;){var A=mf(_[d],x[d]);if(A){if(d>=D)return A;var W=c[d];return A*(W=="desc"?-1:1)}}return r.index-o.index}function _f(r,o,c,d){for(var _=-1,x=r.length,C=c.length,D=-1,A=o.length,W=Jt(x-C,0),z=I(A+W),H=!d;++D<A;)z[D]=o[D];for(;++_<C;)(H||_<x)&&(z[c[_]]=r[_]);for(;W--;)z[D++]=r[_++];return z}function bf(r,o,c,d){for(var _=-1,x=r.length,C=-1,D=c.length,A=-1,W=o.length,z=Jt(x-D,0),H=I(z+W),V=!d;++_<z;)H[_]=r[_];for(var K=_;++A<W;)H[K+A]=o[A];for(;++C<D;)(V||_<x)&&(H[K+c[C]]=r[_++]);return H}function ke(r,o){var c=-1,d=r.length;for(o||(o=I(d));++c<d;)o[c]=r[c];return o}function Sn(r,o,c,d){var _=!c;c||(c={});for(var x=-1,C=o.length;++x<C;){var D=o[x],A=d?d(c[D],r[D],D,c,r):e;A===e&&(A=r[D]),_?Rn(c,D,A):Pr(c,D,A)}return c}function Lb(r,o){return Sn(r,fl(r),o)}function Rb(r,o){return Sn(r,Ef(r),o)}function Js(r,o){return function(c,d){var _=st(c)?Nm:ib,x=o?o():{};return _(c,r,Z(d,2),x)}}function Qi(r){return ft(function(o,c){var d=-1,_=c.length,x=_>1?c[_-1]:e,C=_>2?c[2]:e;for(x=r.length>3&&typeof x=="function"?(_--,x):e,C&&xe(c[0],c[1],C)&&(x=_<3?e:x,_=1),o=Ot(o);++d<_;){var D=c[d];D&&r(o,D,d,x)}return o})}function vf(r,o){return function(c,d){if(c==null)return c;if(!De(c))return r(c,d);for(var _=c.length,x=o?_:-1,C=Ot(c);(o?x--:++x<_)&&d(C[x],x,C)!==!1;);return c}}function xf(r){return function(o,c,d){for(var _=-1,x=Ot(o),C=d(o),D=C.length;D--;){var A=C[r?D:++_];if(c(x[A],A,x)===!1)break}return o}}function Fb(r,o,c){var d=o&w,_=Wr(r);function x(){var C=this&&this!==se&&this instanceof x?_:r;return C.apply(d?c:this,arguments)}return x}function yf(r){return function(o){o=kt(o);var c=Xi(o)?fn(o):e,d=c?c[0]:o.charAt(0),_=c?si(c,1).join(""):o.slice(1);return d[r]()+_}}function tr(r){return function(o){return Aa(vh(bh(o).replace(Dm,"")),r,"")}}function Wr(r){return function(){var o=arguments;switch(o.length){case 0:return new r;case 1:return new r(o[0]);case 2:return new r(o[0],o[1]);case 3:return new r(o[0],o[1],o[2]);case 4:return new r(o[0],o[1],o[2],o[3]);case 5:return new r(o[0],o[1],o[2],o[3],o[4]);case 6:return new r(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new r(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var c=Ji(r.prototype),d=r.apply(c,o);return Nt(d)?d:c}}function Bb(r,o,c){var d=Wr(r);function _(){for(var x=arguments.length,C=I(x),D=x,A=er(_);D--;)C[D]=arguments[D];var W=x<3&&C[0]!==A&&C[x-1]!==A?[]:ti(C,A);if(x-=W.length,x<c)return Df(r,o,Qs,_.placeholder,e,C,W,e,e,c-x);var z=this&&this!==se&&this instanceof _?d:r;return Fe(z,this,C)}return _}function wf(r){return function(o,c,d){var _=Ot(o);if(!De(o)){var x=Z(c,3);o=ee(o),c=function(D){return x(_[D],D,_)}}var C=r(o,c,d);return C>-1?_[x?o[C]:C]:e}}function Sf(r){return Bn(function(o){var c=o.length,d=c,_=Ke.prototype.thru;for(r&&o.reverse();d--;){var x=o[d];if(typeof x!="function")throw new qe(l);if(_&&!C&&io(x)=="wrapper")var C=new Ke([],!0)}for(d=C?d:c;++d<c;){x=o[d];var D=io(x),A=D=="wrapper"?cl(x):e;A&&dl(A[0])&&A[1]==(B|P|M|L)&&!A[4].length&&A[9]==1?C=C[io(A[0])].apply(C,A[3]):C=x.length==1&&dl(x)?C[D]():C.thru(x)}return function(){var W=arguments,z=W[0];if(C&&W.length==1&&st(z))return C.plant(z).value();for(var H=0,V=c?o[H].apply(this,W):z;++H<c;)V=o[H].call(this,V);return V}})}function Qs(r,o,c,d,_,x,C,D,A,W){var z=o&B,H=o&w,V=o&k,K=o&(P|E),J=o&$,ut=V?e:Wr(r);function Q(){for(var gt=arguments.length,mt=I(gt),Ne=gt;Ne--;)mt[Ne]=arguments[Ne];if(K)var ye=er(Q),He=jm(mt,ye);if(d&&(mt=_f(mt,d,_,K)),x&&(mt=bf(mt,x,C,K)),gt-=He,K&&gt<W){var qt=ti(mt,ye);return Df(r,o,Qs,Q.placeholder,c,mt,qt,D,A,W-gt)}var gn=H?c:this,Hn=V?gn[r]:r;return gt=mt.length,D?mt=i0(mt,D):J&&gt>1&&mt.reverse(),z&&A<gt&&(mt.length=A),this&&this!==se&&this instanceof Q&&(Hn=ut||Wr(Hn)),Hn.apply(gn,mt)}return Q}function Cf(r,o){return function(c,d){return fb(c,r,o(d),{})}}function to(r,o){return function(c,d){var _;if(c===e&&d===e)return o;if(c!==e&&(_=c),d!==e){if(_===e)return d;typeof c=="string"||typeof d=="string"?(c=We(c),d=We(d)):(c=cf(c),d=cf(d)),_=r(c,d)}return _}}function sl(r){return Bn(function(o){return o=Wt(o,Be(Z())),ft(function(c){var d=this;return r(o,function(_){return Fe(_,d,c)})})})}function eo(r,o){o=o===e?" ":We(o);var c=o.length;if(c<2)return c?Ja(o,r):o;var d=Ja(o,Hs(r/qi(o)));return Xi(o)?si(fn(d),0,r).join(""):d.slice(0,r)}function Wb(r,o,c,d){var _=o&w,x=Wr(r);function C(){for(var D=-1,A=arguments.length,W=-1,z=d.length,H=I(z+A),V=this&&this!==se&&this instanceof C?x:r;++W<z;)H[W]=d[W];for(;A--;)H[W++]=arguments[++D];return Fe(V,_?c:this,H)}return C}function kf(r){return function(o,c,d){return d&&typeof d!="number"&&xe(o,c,d)&&(c=d=e),o=Nn(o),c===e?(c=o,o=0):c=Nn(c),d=d===e?o<c?1:-1:Nn(d),Sb(o,c,d,r)}}function no(r){return function(o,c){return typeof o=="string"&&typeof c=="string"||(o=Je(o),c=Je(c)),r(o,c)}}function Df(r,o,c,d,_,x,C,D,A,W){var z=o&P,H=z?C:e,V=z?e:C,K=z?x:e,J=z?e:x;o|=z?M:R,o&=~(z?R:M),o&O||(o&=-4);var ut=[r,o,_,K,H,J,V,D,A,W],Q=c.apply(e,ut);return dl(r)&&Wf(Q,ut),Q.placeholder=d,zf(Q,r,o)}function ol(r){var o=Zt[r];return function(c,d){if(c=Je(c),d=d==null?0:de(lt(d),292),d&&Wu(c)){var _=(kt(c)+"e").split("e"),x=o(_[0]+"e"+(+_[1]+d));return _=(kt(x)+"e").split("e"),+(_[0]+"e"+(+_[1]-d))}return o(c)}}var zb=Gi&&1/Es(new Gi([,-0]))[1]==yt?function(r){return new Gi(r)}:Tl;function Mf(r){return function(o){var c=ge(o);return c==At?Fa(o):c==un?n_(o):Km(o,r(o))}}function Fn(r,o,c,d,_,x,C,D){var A=o&k;if(!A&&typeof r!="function")throw new qe(l);var W=d?d.length:0;if(W||(o&=-97,d=_=e),C=C===e?C:Jt(lt(C),0),D=D===e?D:lt(D),W-=_?_.length:0,o&R){var z=d,H=_;d=_=e}var V=A?e:cl(r),K=[r,o,c,d,_,z,H,x,C,D];if(V&&t0(K,V),r=K[0],o=K[1],c=K[2],d=K[3],_=K[4],D=K[9]=K[9]===e?A?0:r.length:Jt(K[9]-W,0),!D&&o&(P|E)&&(o&=-25),!o||o==w)var J=Fb(r,o,c);else o==P||o==E?J=Bb(r,o,D):(o==M||o==(w|M))&&!_.length?J=Wb(r,o,c,d):J=Qs.apply(e,K);var ut=V?af:Wf;return zf(ut(J,K),r,o)}function Tf(r,o,c,d){return r===e||dn(r,ji[c])&&!Mt.call(d,c)?o:r}function Af(r,o,c,d,_,x){return Nt(r)&&Nt(o)&&(x.set(o,r),js(r,o,e,Af,x),x.delete(o)),r}function Nb(r){return Hr(r)?e:r}function Of(r,o,c,d,_,x){var C=c&S,D=r.length,A=o.length;if(D!=A&&!(C&&A>D))return!1;var W=x.get(r),z=x.get(o);if(W&&z)return W==o&&z==r;var H=-1,V=!0,K=c&y?new vi:e;for(x.set(r,o),x.set(o,r);++H<D;){var J=r[H],ut=o[H];if(d)var Q=C?d(ut,J,H,o,r,x):d(J,ut,H,r,o,x);if(Q!==e){if(Q)continue;V=!1;break}if(K){if(!Oa(o,function(gt,mt){if(!Mr(K,mt)&&(J===gt||_(J,gt,c,d,x)))return K.push(mt)})){V=!1;break}}else if(!(J===ut||_(J,ut,c,d,x))){V=!1;break}}return x.delete(r),x.delete(o),V}function Hb(r,o,c,d,_,x,C){switch(c){case Yi:if(r.byteLength!=o.byteLength||r.byteOffset!=o.byteOffset)return!1;r=r.buffer,o=o.buffer;case Dr:return!(r.byteLength!=o.byteLength||!x(new Bs(r),new Bs(o)));case it:case rt:case $t:return dn(+r,+o);case Rt:return r.name==o.name&&r.message==o.message;case $i:case Cr:return r==o+"";case At:var D=Fa;case un:var A=d&S;if(D||(D=Es),r.size!=o.size&&!A)return!1;var W=C.get(r);if(W)return W==o;d|=y,C.set(r,o);var z=Of(D(r),D(o),d,_,x,C);return C.delete(r),z;case ks:if(Ir)return Ir.call(r)==Ir.call(o)}return!1}function $b(r,o,c,d,_,x){var C=c&S,D=al(r),A=D.length,W=al(o),z=W.length;if(A!=z&&!C)return!1;for(var H=A;H--;){var V=D[H];if(!(C?V in o:Mt.call(o,V)))return!1}var K=x.get(r),J=x.get(o);if(K&&J)return K==o&&J==r;var ut=!0;x.set(r,o),x.set(o,r);for(var Q=C;++H<A;){V=D[H];var gt=r[V],mt=o[V];if(d)var Ne=C?d(mt,gt,V,o,r,x):d(gt,mt,V,r,o,x);if(!(Ne===e?gt===mt||_(gt,mt,c,d,x):Ne)){ut=!1;break}Q||(Q=V=="constructor")}if(ut&&!Q){var ye=r.constructor,He=o.constructor;ye!=He&&"constructor"in r&&"constructor"in o&&!(typeof ye=="function"&&ye instanceof ye&&typeof He=="function"&&He instanceof He)&&(ut=!1)}return x.delete(r),x.delete(o),ut}function Bn(r){return pl(Ff(r,e,Vf),r+"")}function al(r){return ju(r,ee,fl)}function ll(r){return ju(r,Me,Ef)}var cl=Ys?function(r){return Ys.get(r)}:Tl;function io(r){for(var o=r.name+"",c=Zi[o],d=Mt.call(Zi,o)?c.length:0;d--;){var _=c[d],x=_.func;if(x==null||x==r)return _.name}return o}function er(r){var o=Mt.call(b,"placeholder")?b:r;return o.placeholder}function Z(){var r=b.iteratee||Dl;return r=r===Dl?Ju:r,arguments.length?r(arguments[0],arguments[1]):r}function ro(r,o){var c=r.__data__;return Gb(o)?c[typeof o=="string"?"string":"hash"]:c.map}function ul(r){for(var o=ee(r),c=o.length;c--;){var d=o[c],_=r[d];o[c]=[d,_,Lf(_)]}return o}function wi(r,o){var c=Qm(r,o);return Zu(c)?c:e}function Yb(r){var o=Mt.call(r,_i),c=r[_i];try{r[_i]=e;var d=!0}catch{}var _=Rs.call(r);return d&&(o?r[_i]=c:delete r[_i]),_}var fl=Wa?function(r){return r==null?[]:(r=Ot(r),Jn(Wa(r),function(o){return Fu.call(r,o)}))}:Al,Ef=Wa?function(r){for(var o=[];r;)Qn(o,fl(r)),r=Ws(r);return o}:Al,ge=ve;(za&&ge(new za(new ArrayBuffer(1)))!=Yi||Ar&&ge(new Ar)!=At||Na&&ge(Na.resolve())!=Hi||Gi&&ge(new Gi)!=un||Or&&ge(new Or)!=kr)&&(ge=function(r){var o=ve(r),c=o==he?r.constructor:e,d=c?Si(c):"";if(d)switch(d){case k_:return Yi;case D_:return At;case M_:return Hi;case T_:return un;case A_:return kr}return o});function Ub(r,o,c){for(var d=-1,_=c.length;++d<_;){var x=c[d],C=x.size;switch(x.type){case"drop":r+=C;break;case"dropRight":o-=C;break;case"take":o=de(o,r+C);break;case"takeRight":r=Jt(r,o-C);break}}return{start:r,end:o}}function Vb(r){var o=r.match(Zp);return o?o[1].split(Jp):[]}function If(r,o,c){o=ri(o,r);for(var d=-1,_=o.length,x=!1;++d<_;){var C=Cn(o[d]);if(!(x=r!=null&&c(r,C)))break;r=r[C]}return x||++d!=_?x:(_=r==null?0:r.length,!!_&&fo(_)&&Wn(C,_)&&(st(r)||Ci(r)))}function Xb(r){var o=r.length,c=new r.constructor(o);return o&&typeof r[0]=="string"&&Mt.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function Pf(r){return typeof r.constructor=="function"&&!zr(r)?Ji(Ws(r)):{}}function qb(r,o,c){var d=r.constructor;switch(o){case Dr:return rl(r);case it:case rt:return new d(+r);case Yi:return Ob(r,c);case ua:case fa:case ha:case da:case ga:case pa:case ma:case _a:case ba:return pf(r,c);case At:return new d;case $t:case Cr:return new d(r);case $i:return Eb(r);case un:return new d;case ks:return Ib(r)}}function Kb(r,o){var c=o.length;if(!c)return r;var d=c-1;return o[d]=(c>1?"& ":"")+o[d],o=o.join(c>2?", ":" "),r.replace(Gp,`{
/* [wrapped with `+o+`] */
`)}function jb(r){return st(r)||Ci(r)||!!(Bu&&r&&r[Bu])}function Wn(r,o){var c=typeof r;return o=o??Dt,!!o&&(c=="number"||c!="symbol"&&am.test(r))&&r>-1&&r%1==0&&r<o}function xe(r,o,c){if(!Nt(c))return!1;var d=typeof o;return(d=="number"?De(c)&&Wn(o,c.length):d=="string"&&o in c)?dn(c[o],r):!1}function hl(r,o){if(st(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||ze(r)?!0:Xp.test(r)||!Vp.test(r)||o!=null&&r in Ot(o)}function Gb(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}function dl(r){var o=io(r),c=b[o];if(typeof c!="function"||!(o in pt.prototype))return!1;if(r===c)return!0;var d=cl(c);return!!d&&r===d[0]}function Zb(r){return!!Pu&&Pu in r}var Jb=Ps?zn:Ol;function zr(r){var o=r&&r.constructor,c=typeof o=="function"&&o.prototype||ji;return r===c}function Lf(r){return r===r&&!Nt(r)}function Rf(r,o){return function(c){return c==null?!1:c[r]===o&&(o!==e||r in Ot(c))}}function Qb(r){var o=co(r,function(d){return c.size===h&&c.clear(),d}),c=o.cache;return o}function t0(r,o){var c=r[1],d=o[1],_=c|d,x=_<(w|k|B),C=d==B&&c==P||d==B&&c==L&&r[7].length<=o[8]||d==(B|L)&&o[7].length<=o[8]&&c==P;if(!(x||C))return r;d&w&&(r[2]=o[2],_|=c&w?0:O);var D=o[3];if(D){var A=r[3];r[3]=A?_f(A,D,o[4]):D,r[4]=A?ti(r[3],g):o[4]}return D=o[5],D&&(A=r[5],r[5]=A?bf(A,D,o[6]):D,r[6]=A?ti(r[5],g):o[6]),D=o[7],D&&(r[7]=D),d&B&&(r[8]=r[8]==null?o[8]:de(r[8],o[8])),r[9]==null&&(r[9]=o[9]),r[0]=o[0],r[1]=_,r}function e0(r){var o=[];if(r!=null)for(var c in Ot(r))o.push(c);return o}function n0(r){return Rs.call(r)}function Ff(r,o,c){return o=Jt(o===e?r.length-1:o,0),function(){for(var d=arguments,_=-1,x=Jt(d.length-o,0),C=I(x);++_<x;)C[_]=d[o+_];_=-1;for(var D=I(o+1);++_<o;)D[_]=d[_];return D[o]=c(C),Fe(r,this,D)}}function Bf(r,o){return o.length<2?r:yi(r,Ge(o,0,-1))}function i0(r,o){for(var c=r.length,d=de(o.length,c),_=ke(r);d--;){var x=o[d];r[d]=Wn(x,c)?_[x]:e}return r}function gl(r,o){if(!(o==="constructor"&&typeof r[o]=="function")&&o!="__proto__")return r[o]}var Wf=Nf(af),Nr=b_||function(r,o){return se.setTimeout(r,o)},pl=Nf(Db);function zf(r,o,c){var d=o+"";return pl(r,Kb(d,r0(Vb(d),c)))}function Nf(r){var o=0,c=0;return function(){var d=w_(),_=ct-(d-c);if(c=d,_>0){if(++o>=G)return arguments[0]}else o=0;return r.apply(e,arguments)}}function so(r,o){var c=-1,d=r.length,_=d-1;for(o=o===e?d:o;++c<o;){var x=Za(c,_),C=r[x];r[x]=r[c],r[c]=C}return r.length=o,r}var Hf=Qb(function(r){var o=[];return r.charCodeAt(0)===46&&o.push(""),r.replace(qp,function(c,d,_,x){o.push(_?x.replace(em,"$1"):d||c)}),o});function Cn(r){if(typeof r=="string"||ze(r))return r;var o=r+"";return o=="0"&&1/r==-yt?"-0":o}function Si(r){if(r!=null){try{return Ls.call(r)}catch{}try{return r+""}catch{}}return""}function r0(r,o){return Xe(Re,function(c){var d="_."+c[0];o&c[1]&&!As(r,d)&&r.push(d)}),r.sort()}function $f(r){if(r instanceof pt)return r.clone();var o=new Ke(r.__wrapped__,r.__chain__);return o.__actions__=ke(r.__actions__),o.__index__=r.__index__,o.__values__=r.__values__,o}function s0(r,o,c){(c?xe(r,o,c):o===e)?o=1:o=Jt(lt(o),0);var d=r==null?0:r.length;if(!d||o<1)return[];for(var _=0,x=0,C=I(Hs(d/o));_<d;)C[x++]=Ge(r,_,_+=o);return C}function o0(r){for(var o=-1,c=r==null?0:r.length,d=0,_=[];++o<c;){var x=r[o];x&&(_[d++]=x)}return _}function a0(){var r=arguments.length;if(!r)return[];for(var o=I(r-1),c=arguments[0],d=r;d--;)o[d-1]=arguments[d];return Qn(st(c)?ke(c):[c],oe(o,1))}var l0=ft(function(r,o){return Xt(r)?Lr(r,oe(o,1,Xt,!0)):[]}),c0=ft(function(r,o){var c=Ze(o);return Xt(c)&&(c=e),Xt(r)?Lr(r,oe(o,1,Xt,!0),Z(c,2)):[]}),u0=ft(function(r,o){var c=Ze(o);return Xt(c)&&(c=e),Xt(r)?Lr(r,oe(o,1,Xt,!0),e,c):[]});function f0(r,o,c){var d=r==null?0:r.length;return d?(o=c||o===e?1:lt(o),Ge(r,o<0?0:o,d)):[]}function h0(r,o,c){var d=r==null?0:r.length;return d?(o=c||o===e?1:lt(o),o=d-o,Ge(r,0,o<0?0:o)):[]}function d0(r,o){return r&&r.length?Zs(r,Z(o,3),!0,!0):[]}function g0(r,o){return r&&r.length?Zs(r,Z(o,3),!0):[]}function p0(r,o,c,d){var _=r==null?0:r.length;return _?(c&&typeof c!="number"&&xe(r,o,c)&&(c=0,d=_),ab(r,o,c,d)):[]}function Yf(r,o,c){var d=r==null?0:r.length;if(!d)return-1;var _=c==null?0:lt(c);return _<0&&(_=Jt(d+_,0)),Os(r,Z(o,3),_)}function Uf(r,o,c){var d=r==null?0:r.length;if(!d)return-1;var _=d-1;return c!==e&&(_=lt(c),_=c<0?Jt(d+_,0):de(_,d-1)),Os(r,Z(o,3),_,!0)}function Vf(r){var o=r==null?0:r.length;return o?oe(r,1):[]}function m0(r){var o=r==null?0:r.length;return o?oe(r,yt):[]}function _0(r,o){var c=r==null?0:r.length;return c?(o=o===e?1:lt(o),oe(r,o)):[]}function b0(r){for(var o=-1,c=r==null?0:r.length,d={};++o<c;){var _=r[o];d[_[0]]=_[1]}return d}function Xf(r){return r&&r.length?r[0]:e}function v0(r,o,c){var d=r==null?0:r.length;if(!d)return-1;var _=c==null?0:lt(c);return _<0&&(_=Jt(d+_,0)),Vi(r,o,_)}function x0(r){var o=r==null?0:r.length;return o?Ge(r,0,-1):[]}var y0=ft(function(r){var o=Wt(r,nl);return o.length&&o[0]===r[0]?Xa(o):[]}),w0=ft(function(r){var o=Ze(r),c=Wt(r,nl);return o===Ze(c)?o=e:c.pop(),c.length&&c[0]===r[0]?Xa(c,Z(o,2)):[]}),S0=ft(function(r){var o=Ze(r),c=Wt(r,nl);return o=typeof o=="function"?o:e,o&&c.pop(),c.length&&c[0]===r[0]?Xa(c,e,o):[]});function C0(r,o){return r==null?"":x_.call(r,o)}function Ze(r){var o=r==null?0:r.length;return o?r[o-1]:e}function k0(r,o,c){var d=r==null?0:r.length;if(!d)return-1;var _=d;return c!==e&&(_=lt(c),_=_<0?Jt(d+_,0):de(_,d-1)),o===o?r_(r,o,_):Os(r,ku,_,!0)}function D0(r,o){return r&&r.length?nf(r,lt(o)):e}var M0=ft(qf);function qf(r,o){return r&&r.length&&o&&o.length?Ga(r,o):r}function T0(r,o,c){return r&&r.length&&o&&o.length?Ga(r,o,Z(c,2)):r}function A0(r,o,c){return r&&r.length&&o&&o.length?Ga(r,o,e,c):r}var O0=Bn(function(r,o){var c=r==null?0:r.length,d=$a(r,o);return of(r,Wt(o,function(_){return Wn(_,c)?+_:_}).sort(mf)),d});function E0(r,o){var c=[];if(!(r&&r.length))return c;var d=-1,_=[],x=r.length;for(o=Z(o,3);++d<x;){var C=r[d];o(C,d,r)&&(c.push(C),_.push(d))}return of(r,_),c}function ml(r){return r==null?r:C_.call(r)}function I0(r,o,c){var d=r==null?0:r.length;return d?(c&&typeof c!="number"&&xe(r,o,c)?(o=0,c=d):(o=o==null?0:lt(o),c=c===e?d:lt(c)),Ge(r,o,c)):[]}function P0(r,o){return Gs(r,o)}function L0(r,o,c){return Qa(r,o,Z(c,2))}function R0(r,o){var c=r==null?0:r.length;if(c){var d=Gs(r,o);if(d<c&&dn(r[d],o))return d}return-1}function F0(r,o){return Gs(r,o,!0)}function B0(r,o,c){return Qa(r,o,Z(c,2),!0)}function W0(r,o){var c=r==null?0:r.length;if(c){var d=Gs(r,o,!0)-1;if(dn(r[d],o))return d}return-1}function z0(r){return r&&r.length?lf(r):[]}function N0(r,o){return r&&r.length?lf(r,Z(o,2)):[]}function H0(r){var o=r==null?0:r.length;return o?Ge(r,1,o):[]}function $0(r,o,c){return r&&r.length?(o=c||o===e?1:lt(o),Ge(r,0,o<0?0:o)):[]}function Y0(r,o,c){var d=r==null?0:r.length;return d?(o=c||o===e?1:lt(o),o=d-o,Ge(r,o<0?0:o,d)):[]}function U0(r,o){return r&&r.length?Zs(r,Z(o,3),!1,!0):[]}function V0(r,o){return r&&r.length?Zs(r,Z(o,3)):[]}var X0=ft(function(r){return ii(oe(r,1,Xt,!0))}),q0=ft(function(r){var o=Ze(r);return Xt(o)&&(o=e),ii(oe(r,1,Xt,!0),Z(o,2))}),K0=ft(function(r){var o=Ze(r);return o=typeof o=="function"?o:e,ii(oe(r,1,Xt,!0),e,o)});function j0(r){return r&&r.length?ii(r):[]}function G0(r,o){return r&&r.length?ii(r,Z(o,2)):[]}function Z0(r,o){return o=typeof o=="function"?o:e,r&&r.length?ii(r,e,o):[]}function _l(r){if(!(r&&r.length))return[];var o=0;return r=Jn(r,function(c){if(Xt(c))return o=Jt(c.length,o),!0}),La(o,function(c){return Wt(r,Ea(c))})}function Kf(r,o){if(!(r&&r.length))return[];var c=_l(r);return o==null?c:Wt(c,function(d){return Fe(o,e,d)})}var J0=ft(function(r,o){return Xt(r)?Lr(r,o):[]}),Q0=ft(function(r){return el(Jn(r,Xt))}),tv=ft(function(r){var o=Ze(r);return Xt(o)&&(o=e),el(Jn(r,Xt),Z(o,2))}),ev=ft(function(r){var o=Ze(r);return o=typeof o=="function"?o:e,el(Jn(r,Xt),e,o)}),nv=ft(_l);function iv(r,o){return hf(r||[],o||[],Pr)}function rv(r,o){return hf(r||[],o||[],Br)}var sv=ft(function(r){var o=r.length,c=o>1?r[o-1]:e;return c=typeof c=="function"?(r.pop(),c):e,Kf(r,c)});function jf(r){var o=b(r);return o.__chain__=!0,o}function ov(r,o){return o(r),r}function oo(r,o){return o(r)}var av=Bn(function(r){var o=r.length,c=o?r[0]:0,d=this.__wrapped__,_=function(x){return $a(x,r)};return o>1||this.__actions__.length||!(d instanceof pt)||!Wn(c)?this.thru(_):(d=d.slice(c,+c+(o?1:0)),d.__actions__.push({func:oo,args:[_],thisArg:e}),new Ke(d,this.__chain__).thru(function(x){return o&&!x.length&&x.push(e),x}))});function lv(){return jf(this)}function cv(){return new Ke(this.value(),this.__chain__)}function uv(){this.__values__===e&&(this.__values__=ch(this.value()));var r=this.__index__>=this.__values__.length,o=r?e:this.__values__[this.__index__++];return{done:r,value:o}}function fv(){return this}function hv(r){for(var o,c=this;c instanceof Vs;){var d=$f(c);d.__index__=0,d.__values__=e,o?_.__wrapped__=d:o=d;var _=d;c=c.__wrapped__}return _.__wrapped__=r,o}function dv(){var r=this.__wrapped__;if(r instanceof pt){var o=r;return this.__actions__.length&&(o=new pt(this)),o=o.reverse(),o.__actions__.push({func:oo,args:[ml],thisArg:e}),new Ke(o,this.__chain__)}return this.thru(ml)}function gv(){return ff(this.__wrapped__,this.__actions__)}var pv=Js(function(r,o,c){Mt.call(r,c)?++r[c]:Rn(r,c,1)});function mv(r,o,c){var d=st(r)?Su:ob;return c&&xe(r,o,c)&&(o=e),d(r,Z(o,3))}function _v(r,o){var c=st(r)?Jn:qu;return c(r,Z(o,3))}var bv=wf(Yf),vv=wf(Uf);function xv(r,o){return oe(ao(r,o),1)}function yv(r,o){return oe(ao(r,o),yt)}function wv(r,o,c){return c=c===e?1:lt(c),oe(ao(r,o),c)}function Gf(r,o){var c=st(r)?Xe:ni;return c(r,Z(o,3))}function Zf(r,o){var c=st(r)?Hm:Xu;return c(r,Z(o,3))}var Sv=Js(function(r,o,c){Mt.call(r,c)?r[c].push(o):Rn(r,c,[o])});function Cv(r,o,c,d){r=De(r)?r:ir(r),c=c&&!d?lt(c):0;var _=r.length;return c<0&&(c=Jt(_+c,0)),ho(r)?c<=_&&r.indexOf(o,c)>-1:!!_&&Vi(r,o,c)>-1}var kv=ft(function(r,o,c){var d=-1,_=typeof o=="function",x=De(r)?I(r.length):[];return ni(r,function(C){x[++d]=_?Fe(o,C,c):Rr(C,o,c)}),x}),Dv=Js(function(r,o,c){Rn(r,c,o)});function ao(r,o){var c=st(r)?Wt:Qu;return c(r,Z(o,3))}function Mv(r,o,c,d){return r==null?[]:(st(o)||(o=o==null?[]:[o]),c=d?e:c,st(c)||(c=c==null?[]:[c]),rf(r,o,c))}var Tv=Js(function(r,o,c){r[c?0:1].push(o)},function(){return[[],[]]});function Av(r,o,c){var d=st(r)?Aa:Mu,_=arguments.length<3;return d(r,Z(o,4),c,_,ni)}function Ov(r,o,c){var d=st(r)?$m:Mu,_=arguments.length<3;return d(r,Z(o,4),c,_,Xu)}function Ev(r,o){var c=st(r)?Jn:qu;return c(r,uo(Z(o,3)))}function Iv(r){var o=st(r)?$u:Cb;return o(r)}function Pv(r,o,c){(c?xe(r,o,c):o===e)?o=1:o=lt(o);var d=st(r)?eb:kb;return d(r,o)}function Lv(r){var o=st(r)?nb:Mb;return o(r)}function Rv(r){if(r==null)return 0;if(De(r))return ho(r)?qi(r):r.length;var o=ge(r);return o==At||o==un?r.size:Ka(r).length}function Fv(r,o,c){var d=st(r)?Oa:Tb;return c&&xe(r,o,c)&&(o=e),d(r,Z(o,3))}var Bv=ft(function(r,o){if(r==null)return[];var c=o.length;return c>1&&xe(r,o[0],o[1])?o=[]:c>2&&xe(o[0],o[1],o[2])&&(o=[o[0]]),rf(r,oe(o,1),[])}),lo=__||function(){return se.Date.now()};function Wv(r,o){if(typeof o!="function")throw new qe(l);return r=lt(r),function(){if(--r<1)return o.apply(this,arguments)}}function Jf(r,o,c){return o=c?e:o,o=r&&o==null?r.length:o,Fn(r,B,e,e,e,e,o)}function Qf(r,o){var c;if(typeof o!="function")throw new qe(l);return r=lt(r),function(){return--r>0&&(c=o.apply(this,arguments)),r<=1&&(o=e),c}}var bl=ft(function(r,o,c){var d=w;if(c.length){var _=ti(c,er(bl));d|=M}return Fn(r,d,o,c,_)}),th=ft(function(r,o,c){var d=w|k;if(c.length){var _=ti(c,er(th));d|=M}return Fn(o,d,r,c,_)});function eh(r,o,c){o=c?e:o;var d=Fn(r,P,e,e,e,e,e,o);return d.placeholder=eh.placeholder,d}function nh(r,o,c){o=c?e:o;var d=Fn(r,E,e,e,e,e,e,o);return d.placeholder=nh.placeholder,d}function ih(r,o,c){var d,_,x,C,D,A,W=0,z=!1,H=!1,V=!0;if(typeof r!="function")throw new qe(l);o=Je(o)||0,Nt(c)&&(z=!!c.leading,H="maxWait"in c,x=H?Jt(Je(c.maxWait)||0,o):x,V="trailing"in c?!!c.trailing:V);function K(qt){var gn=d,Hn=_;return d=_=e,W=qt,C=r.apply(Hn,gn),C}function J(qt){return W=qt,D=Nr(gt,o),z?K(qt):C}function ut(qt){var gn=qt-A,Hn=qt-W,wh=o-gn;return H?de(wh,x-Hn):wh}function Q(qt){var gn=qt-A,Hn=qt-W;return A===e||gn>=o||gn<0||H&&Hn>=x}function gt(){var qt=lo();if(Q(qt))return mt(qt);D=Nr(gt,ut(qt))}function mt(qt){return D=e,V&&d?K(qt):(d=_=e,C)}function Ne(){D!==e&&df(D),W=0,d=A=_=D=e}function ye(){return D===e?C:mt(lo())}function He(){var qt=lo(),gn=Q(qt);if(d=arguments,_=this,A=qt,gn){if(D===e)return J(A);if(H)return df(D),D=Nr(gt,o),K(A)}return D===e&&(D=Nr(gt,o)),C}return He.cancel=Ne,He.flush=ye,He}var zv=ft(function(r,o){return Vu(r,1,o)}),Nv=ft(function(r,o,c){return Vu(r,Je(o)||0,c)});function Hv(r){return Fn(r,$)}function co(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new qe(l);var c=function(){var d=arguments,_=o?o.apply(this,d):d[0],x=c.cache;if(x.has(_))return x.get(_);var C=r.apply(this,d);return c.cache=x.set(_,C)||x,C};return c.cache=new(co.Cache||Ln),c}co.Cache=Ln;function uo(r){if(typeof r!="function")throw new qe(l);return function(){var o=arguments;switch(o.length){case 0:return!r.call(this);case 1:return!r.call(this,o[0]);case 2:return!r.call(this,o[0],o[1]);case 3:return!r.call(this,o[0],o[1],o[2])}return!r.apply(this,o)}}function $v(r){return Qf(2,r)}var Yv=Ab(function(r,o){o=o.length==1&&st(o[0])?Wt(o[0],Be(Z())):Wt(oe(o,1),Be(Z()));var c=o.length;return ft(function(d){for(var _=-1,x=de(d.length,c);++_<x;)d[_]=o[_].call(this,d[_]);return Fe(r,this,d)})}),vl=ft(function(r,o){var c=ti(o,er(vl));return Fn(r,M,e,o,c)}),rh=ft(function(r,o){var c=ti(o,er(rh));return Fn(r,R,e,o,c)}),Uv=Bn(function(r,o){return Fn(r,L,e,e,e,o)});function Vv(r,o){if(typeof r!="function")throw new qe(l);return o=o===e?o:lt(o),ft(r,o)}function Xv(r,o){if(typeof r!="function")throw new qe(l);return o=o==null?0:Jt(lt(o),0),ft(function(c){var d=c[o],_=si(c,0,o);return d&&Qn(_,d),Fe(r,this,_)})}function qv(r,o,c){var d=!0,_=!0;if(typeof r!="function")throw new qe(l);return Nt(c)&&(d="leading"in c?!!c.leading:d,_="trailing"in c?!!c.trailing:_),ih(r,o,{leading:d,maxWait:o,trailing:_})}function Kv(r){return Jf(r,1)}function jv(r,o){return vl(il(o),r)}function Gv(){if(!arguments.length)return[];var r=arguments[0];return st(r)?r:[r]}function Zv(r){return je(r,v)}function Jv(r,o){return o=typeof o=="function"?o:e,je(r,v,o)}function Qv(r){return je(r,m|v)}function tx(r,o){return o=typeof o=="function"?o:e,je(r,m|v,o)}function ex(r,o){return o==null||Uu(r,o,ee(o))}function dn(r,o){return r===o||r!==r&&o!==o}var nx=no(Va),ix=no(function(r,o){return r>=o}),Ci=Gu(function(){return arguments}())?Gu:function(r){return Yt(r)&&Mt.call(r,"callee")&&!Fu.call(r,"callee")},st=I.isArray,rx=_u?Be(_u):hb;function De(r){return r!=null&&fo(r.length)&&!zn(r)}function Xt(r){return Yt(r)&&De(r)}function sx(r){return r===!0||r===!1||Yt(r)&&ve(r)==it}var oi=v_||Ol,ox=bu?Be(bu):db;function ax(r){return Yt(r)&&r.nodeType===1&&!Hr(r)}function lx(r){if(r==null)return!0;if(De(r)&&(st(r)||typeof r=="string"||typeof r.splice=="function"||oi(r)||nr(r)||Ci(r)))return!r.length;var o=ge(r);if(o==At||o==un)return!r.size;if(zr(r))return!Ka(r).length;for(var c in r)if(Mt.call(r,c))return!1;return!0}function cx(r,o){return Fr(r,o)}function ux(r,o,c){c=typeof c=="function"?c:e;var d=c?c(r,o):e;return d===e?Fr(r,o,e,c):!!d}function xl(r){if(!Yt(r))return!1;var o=ve(r);return o==Rt||o==Et||typeof r.message=="string"&&typeof r.name=="string"&&!Hr(r)}function fx(r){return typeof r=="number"&&Wu(r)}function zn(r){if(!Nt(r))return!1;var o=ve(r);return o==fe||o==Ce||o==N||o==Sr}function sh(r){return typeof r=="number"&&r==lt(r)}function fo(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Dt}function Nt(r){var o=typeof r;return r!=null&&(o=="object"||o=="function")}function Yt(r){return r!=null&&typeof r=="object"}var oh=vu?Be(vu):pb;function hx(r,o){return r===o||qa(r,o,ul(o))}function dx(r,o,c){return c=typeof c=="function"?c:e,qa(r,o,ul(o),c)}function gx(r){return ah(r)&&r!=+r}function px(r){if(Jb(r))throw new nt(a);return Zu(r)}function mx(r){return r===null}function _x(r){return r==null}function ah(r){return typeof r=="number"||Yt(r)&&ve(r)==$t}function Hr(r){if(!Yt(r)||ve(r)!=he)return!1;var o=Ws(r);if(o===null)return!0;var c=Mt.call(o,"constructor")&&o.constructor;return typeof c=="function"&&c instanceof c&&Ls.call(c)==d_}var yl=xu?Be(xu):mb;function bx(r){return sh(r)&&r>=-Dt&&r<=Dt}var lh=yu?Be(yu):_b;function ho(r){return typeof r=="string"||!st(r)&&Yt(r)&&ve(r)==Cr}function ze(r){return typeof r=="symbol"||Yt(r)&&ve(r)==ks}var nr=wu?Be(wu):bb;function vx(r){return r===e}function xx(r){return Yt(r)&&ge(r)==kr}function yx(r){return Yt(r)&&ve(r)==Bp}var wx=no(ja),Sx=no(function(r,o){return r<=o});function ch(r){if(!r)return[];if(De(r))return ho(r)?fn(r):ke(r);if(Tr&&r[Tr])return e_(r[Tr]());var o=ge(r),c=o==At?Fa:o==un?Es:ir;return c(r)}function Nn(r){if(!r)return r===0?r:0;if(r=Je(r),r===yt||r===-yt){var o=r<0?-1:1;return o*te}return r===r?r:0}function lt(r){var o=Nn(r),c=o%1;return o===o?c?o-c:o:0}function uh(r){return r?xi(lt(r),0,bt):0}function Je(r){if(typeof r=="number")return r;if(ze(r))return Gt;if(Nt(r)){var o=typeof r.valueOf=="function"?r.valueOf():r;r=Nt(o)?o+"":o}if(typeof r!="string")return r===0?r:+r;r=Tu(r);var c=rm.test(r);return c||om.test(r)?Wm(r.slice(2),c?2:8):im.test(r)?Gt:+r}function fh(r){return Sn(r,Me(r))}function Cx(r){return r?xi(lt(r),-Dt,Dt):r===0?r:0}function kt(r){return r==null?"":We(r)}var kx=Qi(function(r,o){if(zr(o)||De(o)){Sn(o,ee(o),r);return}for(var c in o)Mt.call(o,c)&&Pr(r,c,o[c])}),hh=Qi(function(r,o){Sn(o,Me(o),r)}),go=Qi(function(r,o,c,d){Sn(o,Me(o),r,d)}),Dx=Qi(function(r,o,c,d){Sn(o,ee(o),r,d)}),Mx=Bn($a);function Tx(r,o){var c=Ji(r);return o==null?c:Yu(c,o)}var Ax=ft(function(r,o){r=Ot(r);var c=-1,d=o.length,_=d>2?o[2]:e;for(_&&xe(o[0],o[1],_)&&(d=1);++c<d;)for(var x=o[c],C=Me(x),D=-1,A=C.length;++D<A;){var W=C[D],z=r[W];(z===e||dn(z,ji[W])&&!Mt.call(r,W))&&(r[W]=x[W])}return r}),Ox=ft(function(r){return r.push(e,Af),Fe(dh,e,r)});function Ex(r,o){return Cu(r,Z(o,3),wn)}function Ix(r,o){return Cu(r,Z(o,3),Ua)}function Px(r,o){return r==null?r:Ya(r,Z(o,3),Me)}function Lx(r,o){return r==null?r:Ku(r,Z(o,3),Me)}function Rx(r,o){return r&&wn(r,Z(o,3))}function Fx(r,o){return r&&Ua(r,Z(o,3))}function Bx(r){return r==null?[]:Ks(r,ee(r))}function Wx(r){return r==null?[]:Ks(r,Me(r))}function wl(r,o,c){var d=r==null?e:yi(r,o);return d===e?c:d}function zx(r,o){return r!=null&&If(r,o,lb)}function Sl(r,o){return r!=null&&If(r,o,cb)}var Nx=Cf(function(r,o,c){o!=null&&typeof o.toString!="function"&&(o=Rs.call(o)),r[o]=c},kl(Te)),Hx=Cf(function(r,o,c){o!=null&&typeof o.toString!="function"&&(o=Rs.call(o)),Mt.call(r,o)?r[o].push(c):r[o]=[c]},Z),$x=ft(Rr);function ee(r){return De(r)?Hu(r):Ka(r)}function Me(r){return De(r)?Hu(r,!0):vb(r)}function Yx(r,o){var c={};return o=Z(o,3),wn(r,function(d,_,x){Rn(c,o(d,_,x),d)}),c}function Ux(r,o){var c={};return o=Z(o,3),wn(r,function(d,_,x){Rn(c,_,o(d,_,x))}),c}var Vx=Qi(function(r,o,c){js(r,o,c)}),dh=Qi(function(r,o,c,d){js(r,o,c,d)}),Xx=Bn(function(r,o){var c={};if(r==null)return c;var d=!1;o=Wt(o,function(x){return x=ri(x,r),d||(d=x.length>1),x}),Sn(r,ll(r),c),d&&(c=je(c,m|p|v,Nb));for(var _=o.length;_--;)tl(c,o[_]);return c});function qx(r,o){return gh(r,uo(Z(o)))}var Kx=Bn(function(r,o){return r==null?{}:yb(r,o)});function gh(r,o){if(r==null)return{};var c=Wt(ll(r),function(d){return[d]});return o=Z(o),sf(r,c,function(d,_){return o(d,_[0])})}function jx(r,o,c){o=ri(o,r);var d=-1,_=o.length;for(_||(_=1,r=e);++d<_;){var x=r==null?e:r[Cn(o[d])];x===e&&(d=_,x=c),r=zn(x)?x.call(r):x}return r}function Gx(r,o,c){return r==null?r:Br(r,o,c)}function Zx(r,o,c,d){return d=typeof d=="function"?d:e,r==null?r:Br(r,o,c,d)}var ph=Mf(ee),mh=Mf(Me);function Jx(r,o,c){var d=st(r),_=d||oi(r)||nr(r);if(o=Z(o,4),c==null){var x=r&&r.constructor;_?c=d?new x:[]:Nt(r)?c=zn(x)?Ji(Ws(r)):{}:c={}}return(_?Xe:wn)(r,function(C,D,A){return o(c,C,D,A)}),c}function Qx(r,o){return r==null?!0:tl(r,o)}function ty(r,o,c){return r==null?r:uf(r,o,il(c))}function ey(r,o,c,d){return d=typeof d=="function"?d:e,r==null?r:uf(r,o,il(c),d)}function ir(r){return r==null?[]:Ra(r,ee(r))}function ny(r){return r==null?[]:Ra(r,Me(r))}function iy(r,o,c){return c===e&&(c=o,o=e),c!==e&&(c=Je(c),c=c===c?c:0),o!==e&&(o=Je(o),o=o===o?o:0),xi(Je(r),o,c)}function ry(r,o,c){return o=Nn(o),c===e?(c=o,o=0):c=Nn(c),r=Je(r),ub(r,o,c)}function sy(r,o,c){if(c&&typeof c!="boolean"&&xe(r,o,c)&&(o=c=e),c===e&&(typeof o=="boolean"?(c=o,o=e):typeof r=="boolean"&&(c=r,r=e)),r===e&&o===e?(r=0,o=1):(r=Nn(r),o===e?(o=r,r=0):o=Nn(o)),r>o){var d=r;r=o,o=d}if(c||r%1||o%1){var _=zu();return de(r+_*(o-r+Bm("1e-"+((_+"").length-1))),o)}return Za(r,o)}var oy=tr(function(r,o,c){return o=o.toLowerCase(),r+(c?_h(o):o)});function _h(r){return Cl(kt(r).toLowerCase())}function bh(r){return r=kt(r),r&&r.replace(lm,Gm).replace(Mm,"")}function ay(r,o,c){r=kt(r),o=We(o);var d=r.length;c=c===e?d:xi(lt(c),0,d);var _=c;return c-=o.length,c>=0&&r.slice(c,_)==o}function ly(r){return r=kt(r),r&&$p.test(r)?r.replace(Kc,Zm):r}function cy(r){return r=kt(r),r&&Kp.test(r)?r.replace(va,"\\$&"):r}var uy=tr(function(r,o,c){return r+(c?"-":"")+o.toLowerCase()}),fy=tr(function(r,o,c){return r+(c?" ":"")+o.toLowerCase()}),hy=yf("toLowerCase");function dy(r,o,c){r=kt(r),o=lt(o);var d=o?qi(r):0;if(!o||d>=o)return r;var _=(o-d)/2;return eo($s(_),c)+r+eo(Hs(_),c)}function gy(r,o,c){r=kt(r),o=lt(o);var d=o?qi(r):0;return o&&d<o?r+eo(o-d,c):r}function py(r,o,c){r=kt(r),o=lt(o);var d=o?qi(r):0;return o&&d<o?eo(o-d,c)+r:r}function my(r,o,c){return c||o==null?o=0:o&&(o=+o),S_(kt(r).replace(xa,""),o||0)}function _y(r,o,c){return(c?xe(r,o,c):o===e)?o=1:o=lt(o),Ja(kt(r),o)}function by(){var r=arguments,o=kt(r[0]);return r.length<3?o:o.replace(r[1],r[2])}var vy=tr(function(r,o,c){return r+(c?"_":"")+o.toLowerCase()});function xy(r,o,c){return c&&typeof c!="number"&&xe(r,o,c)&&(o=c=e),c=c===e?bt:c>>>0,c?(r=kt(r),r&&(typeof o=="string"||o!=null&&!yl(o))&&(o=We(o),!o&&Xi(r))?si(fn(r),0,c):r.split(o,c)):[]}var yy=tr(function(r,o,c){return r+(c?" ":"")+Cl(o)});function wy(r,o,c){return r=kt(r),c=c==null?0:xi(lt(c),0,r.length),o=We(o),r.slice(c,c+o.length)==o}function Sy(r,o,c){var d=b.templateSettings;c&&xe(r,o,c)&&(o=e),r=kt(r),o=go({},o,d,Tf);var _=go({},o.imports,d.imports,Tf),x=ee(_),C=Ra(_,x),D,A,W=0,z=o.interpolate||Ds,H="__p += '",V=Ba((o.escape||Ds).source+"|"+z.source+"|"+(z===jc?nm:Ds).source+"|"+(o.evaluate||Ds).source+"|$","g"),K="//# sourceURL="+(Mt.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Im+"]")+`
`;r.replace(V,function(Q,gt,mt,Ne,ye,He){return mt||(mt=Ne),H+=r.slice(W,He).replace(cm,Jm),gt&&(D=!0,H+=`' +
__e(`+gt+`) +
'`),ye&&(A=!0,H+=`';
`+ye+`;
__p += '`),mt&&(H+=`' +
((__t = (`+mt+`)) == null ? '' : __t) +
'`),W=He+Q.length,Q}),H+=`';
`;var J=Mt.call(o,"variable")&&o.variable;if(!J)H=`with (obj) {
`+H+`
}
`;else if(tm.test(J))throw new nt(u);H=(A?H.replace(Wp,""):H).replace(zp,"$1").replace(Np,"$1;"),H="function("+(J||"obj")+`) {
`+(J?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(D?", __e = _.escape":"")+(A?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+H+`return __p
}`;var ut=xh(function(){return wt(x,K+"return "+H).apply(e,C)});if(ut.source=H,xl(ut))throw ut;return ut}function Cy(r){return kt(r).toLowerCase()}function ky(r){return kt(r).toUpperCase()}function Dy(r,o,c){if(r=kt(r),r&&(c||o===e))return Tu(r);if(!r||!(o=We(o)))return r;var d=fn(r),_=fn(o),x=Au(d,_),C=Ou(d,_)+1;return si(d,x,C).join("")}function My(r,o,c){if(r=kt(r),r&&(c||o===e))return r.slice(0,Iu(r)+1);if(!r||!(o=We(o)))return r;var d=fn(r),_=Ou(d,fn(o))+1;return si(d,0,_).join("")}function Ty(r,o,c){if(r=kt(r),r&&(c||o===e))return r.replace(xa,"");if(!r||!(o=We(o)))return r;var d=fn(r),_=Au(d,fn(o));return si(d,_).join("")}function Ay(r,o){var c=j,d=q;if(Nt(o)){var _="separator"in o?o.separator:_;c="length"in o?lt(o.length):c,d="omission"in o?We(o.omission):d}r=kt(r);var x=r.length;if(Xi(r)){var C=fn(r);x=C.length}if(c>=x)return r;var D=c-qi(d);if(D<1)return d;var A=C?si(C,0,D).join(""):r.slice(0,D);if(_===e)return A+d;if(C&&(D+=A.length-D),yl(_)){if(r.slice(D).search(_)){var W,z=A;for(_.global||(_=Ba(_.source,kt(Gc.exec(_))+"g")),_.lastIndex=0;W=_.exec(z);)var H=W.index;A=A.slice(0,H===e?D:H)}}else if(r.indexOf(We(_),D)!=D){var V=A.lastIndexOf(_);V>-1&&(A=A.slice(0,V))}return A+d}function Oy(r){return r=kt(r),r&&Hp.test(r)?r.replace(qc,s_):r}var Ey=tr(function(r,o,c){return r+(c?" ":"")+o.toUpperCase()}),Cl=yf("toUpperCase");function vh(r,o,c){return r=kt(r),o=c?e:o,o===e?t_(r)?l_(r):Vm(r):r.match(o)||[]}var xh=ft(function(r,o){try{return Fe(r,e,o)}catch(c){return xl(c)?c:new nt(c)}}),Iy=Bn(function(r,o){return Xe(o,function(c){c=Cn(c),Rn(r,c,bl(r[c],r))}),r});function Py(r){var o=r==null?0:r.length,c=Z();return r=o?Wt(r,function(d){if(typeof d[1]!="function")throw new qe(l);return[c(d[0]),d[1]]}):[],ft(function(d){for(var _=-1;++_<o;){var x=r[_];if(Fe(x[0],this,d))return Fe(x[1],this,d)}})}function Ly(r){return sb(je(r,m))}function kl(r){return function(){return r}}function Ry(r,o){return r==null||r!==r?o:r}var Fy=Sf(),By=Sf(!0);function Te(r){return r}function Dl(r){return Ju(typeof r=="function"?r:je(r,m))}function Wy(r){return tf(je(r,m))}function zy(r,o){return ef(r,je(o,m))}var Ny=ft(function(r,o){return function(c){return Rr(c,r,o)}}),Hy=ft(function(r,o){return function(c){return Rr(r,c,o)}});function Ml(r,o,c){var d=ee(o),_=Ks(o,d);c==null&&!(Nt(o)&&(_.length||!d.length))&&(c=o,o=r,r=this,_=Ks(o,ee(o)));var x=!(Nt(c)&&"chain"in c)||!!c.chain,C=zn(r);return Xe(_,function(D){var A=o[D];r[D]=A,C&&(r.prototype[D]=function(){var W=this.__chain__;if(x||W){var z=r(this.__wrapped__),H=z.__actions__=ke(this.__actions__);return H.push({func:A,args:arguments,thisArg:r}),z.__chain__=W,z}return A.apply(r,Qn([this.value()],arguments))})}),r}function $y(){return se._===this&&(se._=g_),this}function Tl(){}function Yy(r){return r=lt(r),ft(function(o){return nf(o,r)})}var Uy=sl(Wt),Vy=sl(Su),Xy=sl(Oa);function yh(r){return hl(r)?Ea(Cn(r)):wb(r)}function qy(r){return function(o){return r==null?e:yi(r,o)}}var Ky=kf(),jy=kf(!0);function Al(){return[]}function Ol(){return!1}function Gy(){return{}}function Zy(){return""}function Jy(){return!0}function Qy(r,o){if(r=lt(r),r<1||r>Dt)return[];var c=bt,d=de(r,bt);o=Z(o),r-=bt;for(var _=La(d,o);++c<r;)o(c);return _}function tw(r){return st(r)?Wt(r,Cn):ze(r)?[r]:ke(Hf(kt(r)))}function ew(r){var o=++h_;return kt(r)+o}var nw=to(function(r,o){return r+o},0),iw=ol("ceil"),rw=to(function(r,o){return r/o},1),sw=ol("floor");function ow(r){return r&&r.length?qs(r,Te,Va):e}function aw(r,o){return r&&r.length?qs(r,Z(o,2),Va):e}function lw(r){return Du(r,Te)}function cw(r,o){return Du(r,Z(o,2))}function uw(r){return r&&r.length?qs(r,Te,ja):e}function fw(r,o){return r&&r.length?qs(r,Z(o,2),ja):e}var hw=to(function(r,o){return r*o},1),dw=ol("round"),gw=to(function(r,o){return r-o},0);function pw(r){return r&&r.length?Pa(r,Te):0}function mw(r,o){return r&&r.length?Pa(r,Z(o,2)):0}return b.after=Wv,b.ary=Jf,b.assign=kx,b.assignIn=hh,b.assignInWith=go,b.assignWith=Dx,b.at=Mx,b.before=Qf,b.bind=bl,b.bindAll=Iy,b.bindKey=th,b.castArray=Gv,b.chain=jf,b.chunk=s0,b.compact=o0,b.concat=a0,b.cond=Py,b.conforms=Ly,b.constant=kl,b.countBy=pv,b.create=Tx,b.curry=eh,b.curryRight=nh,b.debounce=ih,b.defaults=Ax,b.defaultsDeep=Ox,b.defer=zv,b.delay=Nv,b.difference=l0,b.differenceBy=c0,b.differenceWith=u0,b.drop=f0,b.dropRight=h0,b.dropRightWhile=d0,b.dropWhile=g0,b.fill=p0,b.filter=_v,b.flatMap=xv,b.flatMapDeep=yv,b.flatMapDepth=wv,b.flatten=Vf,b.flattenDeep=m0,b.flattenDepth=_0,b.flip=Hv,b.flow=Fy,b.flowRight=By,b.fromPairs=b0,b.functions=Bx,b.functionsIn=Wx,b.groupBy=Sv,b.initial=x0,b.intersection=y0,b.intersectionBy=w0,b.intersectionWith=S0,b.invert=Nx,b.invertBy=Hx,b.invokeMap=kv,b.iteratee=Dl,b.keyBy=Dv,b.keys=ee,b.keysIn=Me,b.map=ao,b.mapKeys=Yx,b.mapValues=Ux,b.matches=Wy,b.matchesProperty=zy,b.memoize=co,b.merge=Vx,b.mergeWith=dh,b.method=Ny,b.methodOf=Hy,b.mixin=Ml,b.negate=uo,b.nthArg=Yy,b.omit=Xx,b.omitBy=qx,b.once=$v,b.orderBy=Mv,b.over=Uy,b.overArgs=Yv,b.overEvery=Vy,b.overSome=Xy,b.partial=vl,b.partialRight=rh,b.partition=Tv,b.pick=Kx,b.pickBy=gh,b.property=yh,b.propertyOf=qy,b.pull=M0,b.pullAll=qf,b.pullAllBy=T0,b.pullAllWith=A0,b.pullAt=O0,b.range=Ky,b.rangeRight=jy,b.rearg=Uv,b.reject=Ev,b.remove=E0,b.rest=Vv,b.reverse=ml,b.sampleSize=Pv,b.set=Gx,b.setWith=Zx,b.shuffle=Lv,b.slice=I0,b.sortBy=Bv,b.sortedUniq=z0,b.sortedUniqBy=N0,b.split=xy,b.spread=Xv,b.tail=H0,b.take=$0,b.takeRight=Y0,b.takeRightWhile=U0,b.takeWhile=V0,b.tap=ov,b.throttle=qv,b.thru=oo,b.toArray=ch,b.toPairs=ph,b.toPairsIn=mh,b.toPath=tw,b.toPlainObject=fh,b.transform=Jx,b.unary=Kv,b.union=X0,b.unionBy=q0,b.unionWith=K0,b.uniq=j0,b.uniqBy=G0,b.uniqWith=Z0,b.unset=Qx,b.unzip=_l,b.unzipWith=Kf,b.update=ty,b.updateWith=ey,b.values=ir,b.valuesIn=ny,b.without=J0,b.words=vh,b.wrap=jv,b.xor=Q0,b.xorBy=tv,b.xorWith=ev,b.zip=nv,b.zipObject=iv,b.zipObjectDeep=rv,b.zipWith=sv,b.entries=ph,b.entriesIn=mh,b.extend=hh,b.extendWith=go,Ml(b,b),b.add=nw,b.attempt=xh,b.camelCase=oy,b.capitalize=_h,b.ceil=iw,b.clamp=iy,b.clone=Zv,b.cloneDeep=Qv,b.cloneDeepWith=tx,b.cloneWith=Jv,b.conformsTo=ex,b.deburr=bh,b.defaultTo=Ry,b.divide=rw,b.endsWith=ay,b.eq=dn,b.escape=ly,b.escapeRegExp=cy,b.every=mv,b.find=bv,b.findIndex=Yf,b.findKey=Ex,b.findLast=vv,b.findLastIndex=Uf,b.findLastKey=Ix,b.floor=sw,b.forEach=Gf,b.forEachRight=Zf,b.forIn=Px,b.forInRight=Lx,b.forOwn=Rx,b.forOwnRight=Fx,b.get=wl,b.gt=nx,b.gte=ix,b.has=zx,b.hasIn=Sl,b.head=Xf,b.identity=Te,b.includes=Cv,b.indexOf=v0,b.inRange=ry,b.invoke=$x,b.isArguments=Ci,b.isArray=st,b.isArrayBuffer=rx,b.isArrayLike=De,b.isArrayLikeObject=Xt,b.isBoolean=sx,b.isBuffer=oi,b.isDate=ox,b.isElement=ax,b.isEmpty=lx,b.isEqual=cx,b.isEqualWith=ux,b.isError=xl,b.isFinite=fx,b.isFunction=zn,b.isInteger=sh,b.isLength=fo,b.isMap=oh,b.isMatch=hx,b.isMatchWith=dx,b.isNaN=gx,b.isNative=px,b.isNil=_x,b.isNull=mx,b.isNumber=ah,b.isObject=Nt,b.isObjectLike=Yt,b.isPlainObject=Hr,b.isRegExp=yl,b.isSafeInteger=bx,b.isSet=lh,b.isString=ho,b.isSymbol=ze,b.isTypedArray=nr,b.isUndefined=vx,b.isWeakMap=xx,b.isWeakSet=yx,b.join=C0,b.kebabCase=uy,b.last=Ze,b.lastIndexOf=k0,b.lowerCase=fy,b.lowerFirst=hy,b.lt=wx,b.lte=Sx,b.max=ow,b.maxBy=aw,b.mean=lw,b.meanBy=cw,b.min=uw,b.minBy=fw,b.stubArray=Al,b.stubFalse=Ol,b.stubObject=Gy,b.stubString=Zy,b.stubTrue=Jy,b.multiply=hw,b.nth=D0,b.noConflict=$y,b.noop=Tl,b.now=lo,b.pad=dy,b.padEnd=gy,b.padStart=py,b.parseInt=my,b.random=sy,b.reduce=Av,b.reduceRight=Ov,b.repeat=_y,b.replace=by,b.result=jx,b.round=dw,b.runInContext=T,b.sample=Iv,b.size=Rv,b.snakeCase=vy,b.some=Fv,b.sortedIndex=P0,b.sortedIndexBy=L0,b.sortedIndexOf=R0,b.sortedLastIndex=F0,b.sortedLastIndexBy=B0,b.sortedLastIndexOf=W0,b.startCase=yy,b.startsWith=wy,b.subtract=gw,b.sum=pw,b.sumBy=mw,b.template=Sy,b.times=Qy,b.toFinite=Nn,b.toInteger=lt,b.toLength=uh,b.toLower=Cy,b.toNumber=Je,b.toSafeInteger=Cx,b.toString=kt,b.toUpper=ky,b.trim=Dy,b.trimEnd=My,b.trimStart=Ty,b.truncate=Ay,b.unescape=Oy,b.uniqueId=ew,b.upperCase=Ey,b.upperFirst=Cl,b.each=Gf,b.eachRight=Zf,b.first=Xf,Ml(b,function(){var r={};return wn(b,function(o,c){Mt.call(b.prototype,c)||(r[c]=o)}),r}(),{chain:!1}),b.VERSION=i,Xe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){b[r].placeholder=b}),Xe(["drop","take"],function(r,o){pt.prototype[r]=function(c){c=c===e?1:Jt(lt(c),0);var d=this.__filtered__&&!o?new pt(this):this.clone();return d.__filtered__?d.__takeCount__=de(c,d.__takeCount__):d.__views__.push({size:de(c,bt),type:r+(d.__dir__<0?"Right":"")}),d},pt.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),Xe(["filter","map","takeWhile"],function(r,o){var c=o+1,d=c==xt||c==ht;pt.prototype[r]=function(_){var x=this.clone();return x.__iteratees__.push({iteratee:Z(_,3),type:c}),x.__filtered__=x.__filtered__||d,x}}),Xe(["head","last"],function(r,o){var c="take"+(o?"Right":"");pt.prototype[r]=function(){return this[c](1).value()[0]}}),Xe(["initial","tail"],function(r,o){var c="drop"+(o?"":"Right");pt.prototype[r]=function(){return this.__filtered__?new pt(this):this[c](1)}}),pt.prototype.compact=function(){return this.filter(Te)},pt.prototype.find=function(r){return this.filter(r).head()},pt.prototype.findLast=function(r){return this.reverse().find(r)},pt.prototype.invokeMap=ft(function(r,o){return typeof r=="function"?new pt(this):this.map(function(c){return Rr(c,r,o)})}),pt.prototype.reject=function(r){return this.filter(uo(Z(r)))},pt.prototype.slice=function(r,o){r=lt(r);var c=this;return c.__filtered__&&(r>0||o<0)?new pt(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),o!==e&&(o=lt(o),c=o<0?c.dropRight(-o):c.take(o-r)),c)},pt.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},pt.prototype.toArray=function(){return this.take(bt)},wn(pt.prototype,function(r,o){var c=/^(?:filter|find|map|reject)|While$/.test(o),d=/^(?:head|last)$/.test(o),_=b[d?"take"+(o=="last"?"Right":""):o],x=d||/^find/.test(o);_&&(b.prototype[o]=function(){var C=this.__wrapped__,D=d?[1]:arguments,A=C instanceof pt,W=D[0],z=A||st(C),H=function(gt){var mt=_.apply(b,Qn([gt],D));return d&&V?mt[0]:mt};z&&c&&typeof W=="function"&&W.length!=1&&(A=z=!1);var V=this.__chain__,K=!!this.__actions__.length,J=x&&!V,ut=A&&!K;if(!x&&z){C=ut?C:new pt(this);var Q=r.apply(C,D);return Q.__actions__.push({func:oo,args:[H],thisArg:e}),new Ke(Q,V)}return J&&ut?r.apply(this,D):(Q=this.thru(H),J?d?Q.value()[0]:Q.value():Q)})}),Xe(["pop","push","shift","sort","splice","unshift"],function(r){var o=Is[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",d=/^(?:pop|shift)$/.test(r);b.prototype[r]=function(){var _=arguments;if(d&&!this.__chain__){var x=this.value();return o.apply(st(x)?x:[],_)}return this[c](function(C){return o.apply(st(C)?C:[],_)})}}),wn(pt.prototype,function(r,o){var c=b[o];if(c){var d=c.name+"";Mt.call(Zi,d)||(Zi[d]=[]),Zi[d].push({name:o,func:c})}}),Zi[Qs(e,k).name]=[{name:"wrapper",func:e}],pt.prototype.clone=O_,pt.prototype.reverse=E_,pt.prototype.value=I_,b.prototype.at=av,b.prototype.chain=lv,b.prototype.commit=cv,b.prototype.next=uv,b.prototype.plant=hv,b.prototype.reverse=dv,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=gv,b.prototype.first=b.prototype.head,Tr&&(b.prototype[Tr]=fv),b},Ki=c_();mi?((mi.exports=Ki)._=Ki,Da._=Ki):se._=Ki}).call(W1)}(Kr,Kr.exports)),Kr.exports}z1();async function N1(n,t){try{console.log(`開始抓取股票 ${n} 的資料...`);const e=await bg.get(`stocks/${n}/all.json`);if(e.data){let i=e.data;if(t&&(i=e.data.filter(h=>Pt(h.date,"YYYYMMDD").isAfter(Pt(t)))),!i||i.length===0)return console.warn(`股票 ${n} 無新資料`),null;let s=Pt().format("YYYY-MM-DD HH:mm:ss"),a=null,l=null;const u=i[i.length-1];a=Pt(u[0],"YYYYMMDD").format("YYYY-MM-DD"),l=u[4];const f={fetchedAt:s,lastPrice:l,lastPriceDate:a,newDailyData:i};return console.log(`成功抓取股票 ${n} 資料`,f),f}return console.warn(`股票 ${n} 無資料回傳`),null}catch(e){return console.error(`抓取股票 ${n} 失敗:`,e),null}}Fw().catch(console.error);async function H1(){return await _g("user-stock-info")}async function Bl(n){return await Cc("user-stock-info",n)}async function $1(n){return await Bw("user-stock-info",n)}async function Y1(){return await Ww("user-stock-info")}const U1=()=>new Worker(new URL("/iKDx/assets/calc-weekly-policy-worker-Cj4HgE7g.js",import.meta.url),{type:"module"}),V1=()=>new Worker(new URL("/iKDx/assets/calc-trade-worker-CrgyXrUO.js",import.meta.url),{type:"module"}),X1=()=>new Worker(new URL("/iKDx/assets/calc-trend-chart-worker-CcvYD_4Q.js",import.meta.url),{type:"module"}),q1=Dc.getPool("policy",U1,4),K1=Dc.getPool("trade",V1,4),j1=Dc.getPool("trend",X1,4),Tc=zw("userStockList",()=>{const n=Ht([]);function t(p){const v=n.value.findIndex(S=>S.id===p);return{foundStock:v!==-1?n.value[v]:null,foundStockIndex:v}}async function e(p=null,v={}){const{updateIndexedDB:S=!0}=v;let y=[],w=[];if(p===null)y=n.value,w=n.value.map((O,P)=>P);else if(typeof p=="string"){const{foundStock:O,foundStockIndex:P}=t(p);if(!O){console.warn(`找不到股票 ${p}`);return}y=[O],w=[P]}else if(Array.isArray(p))y=[],w=[],p.forEach(O=>{const{foundStock:P,foundStockIndex:E}=t(O);P&&(y.push(P),w.push(E))});else{console.warn("stockIds 參數格式錯誤");return}if(y.length===0){console.log("無股票需要更新價格");return}console.log(`開始更新 ${y.length} 支股票價格...`);const k=y.map(async(O,P)=>{try{const E=await N1(O.id,O.lastPriceDate);if(E){const M=w[P],R=await i(O.id,E,({symbol:L,step:$,totalSteps:j,message:q})=>{console.log(`股票 ${L}: ${q} (${$}/${j})`)});let B={...n.value[M],fetchedAt:E.fetchedAt,lastPrice:E.lastPrice,lastPriceDate:E.lastPriceDate};if(R&&(B={...B,data:{weekly:R.policyResult?.weekly||[],weeklyKdj:R.policyResult?.weeklyKdj||[],weeklyRsi:R.policyResult?.weeklyRsi||[]}}),typeof p=="string"&&S){const L=JSON.parse(JSON.stringify(B));Bl(L).catch($=>{console.error(`儲存股票 ${O.id} 到 IndexedDB 失敗:`,$)})}n.value[M]=B}}catch(E){console.error(`股票 ${O.id} 更新失敗:`,E)}});await Promise.all(k),typeof p!="string"&&S&&await h(),console.log(`${y.length} 支股票更新完成`)}async function i(p,v,S=()=>{}){try{S({symbol:p,step:1,totalSteps:3,message:"計算週線與技術指標..."});const[y,w]=await Promise.all([q1.executeTask("processPolicy",{newDailyData:v.newDailyData||[],stockId:p,type:"priceChange"}),K1.executeTask("calculateTrade",{stockData:v.newDailyData||[],tradeParams:{}})]);console.log("policyResult",y),S({symbol:p,step:2,totalSteps:3,message:"平行計算完成，開始計算訊號..."});const k=await j1.executeTask("calculateTrend",{stockData:v.newDailyData||[],trendParams:{policyResult:y,tradeResult:w}});return S({symbol:p,step:3,totalSteps:3,message:"計算完成"}),{stockId:p,policyResult:y}}catch(y){return console.error(`股票 ${p} Worker 計算失敗:`,y),null}}async function s(){try{console.log("開始載入使用者股票清單...");const p=await H1();return console.log("從 IndexedDB 載入的股票:",p),p&&p.length>0&&(n.value=p),n.value}catch(p){return console.error("載入使用者股票清單失敗:",p),n.value}}async function a(p){if(console.log("開始新增股票:",p),n.value.find(y=>y.id===p.id))return console.log("股票已存在，取消新增"),{success:!1,message:"股票已存在於清單中"};const S={...p,industryCategory:Array.from(p.industryCategory||[]),addedAt:Pt().format("YYYY-MM-DD HH:mm:ss")};console.log("新增股票到 Pinia store:",S),n.value.push(S);try{return console.log("準備儲存股票到 user-stock-info:",S),await Bl(S),console.log("股票已成功儲存到 user-stock-info"),e(p.id).catch(y=>{console.error(`背景更新股票 ${p.id} 價格失敗:`,y)}),{success:!0,message:"股票已新增至清單"}}catch(y){return console.error("儲存股票失敗:",y),n.value=n.value.filter(w=>w.id!==p.id),{success:!1,message:"新增失敗，請稍後再試"}}}async function l(p){try{return await $1(p),n.value=n.value.filter(v=>v.id!==p),{success:!0,message:"股票已從清單中移除"}}catch(v){return console.error("移除股票失敗:",v),{success:!1,message:"移除失敗，請稍後再試"}}}function u(p){return n.value.some(v=>v.id===p)}async function f(p){n.value=p,await h()}async function h(){try{await Y1();for(const p of n.value){const v=JSON.parse(JSON.stringify(p));await Bl(v)}}catch(p){console.error("儲存股票排序失敗:",p)}}async function g(p){const v=await F1(p);v&&(n.value.find(y=>y.id===v.id)||n.value.push(v))}async function m(p){const v=n.value.find(S=>S.id===p);v&&await B1(v)}return{userStockList:n,loadUserStockList:s,addStockToList:a,removeStockFromList:l,isStockInList:u,reorderStockList:f,loadStockToList:g,saveStockToList:m,updateStockListPrices:e}}),G1={style:{display:"flex","flex-direction":"column",height:"100%","min-height":"60vh"}},Z1={style:{flex:"1 1 auto"}},J1={style:{display:"flex",gap:"8px","flex-wrap":"wrap","justify-content":"center","margin-bottom":"24px"}},Q1=["onClick"],tS={key:0,style:{"margin-top":"12px"}},eS={key:0},nS={key:0,style:{background:"#fff783","border-radius":"12px","box-shadow":"0 2px 8px #0001",padding:"10px","margin-bottom":"12px",display:"flex","align-items":"center","min-height":"56px",opacity:"0.6"}},iS={style:{"font-size":"17px","font-weight":"bold",color:"#222","margin-right":"16px","min-width":"60px"}},rS={style:{"font-size":"16px",color:"#333",flex:"1"}},sS=["onClick"],oS={style:{"font-size":"17px","font-weight":"bold",color:"#222","margin-right":"16px","min-width":"60px"}},aS={style:{"font-size":"16px",color:"#333",flex:"1"}},lS={key:1,style:{color:"#999","text-align":"center","margin-top":"16px"}},cS={__name:"StockSearch",setup(n){const t=Tc(),e=vg("stock-search"),i=Ht(!1);_r(()=>{e.on(y=>{i.value=y})}),xg(()=>{e.reset()});const s=Ht(),a=Ht(""),l=Ht([]),u=["台積電","鴻海","聯發科","長榮","中鋼"],f={background:"#fff",color:"#878787",borderRadius:"16px",padding:"4px 16px",fontSize:"15px",cursor:"pointer",userSelect:"none",fontWeight:"500",transition:"background 0.2s, color 0.2s"},h={background:"#ffe066",color:"#222",fontWeight:"bold",boxShadow:"0 0 0 2px #ffe06688"};function g(y){return a.value===y?{...f,...h}:f}function m(){bn(()=>{const y=s.value?.$el?.querySelector("input");y&&y.focus()})}hs(()=>i.value,y=>{y&&setTimeout(()=>{m()},300)}),hs(()=>a.value,async y=>{if(console.log("localSearch 更新:",y),!y||y.length<1){l.value=[];return}console.log("觸發 getAllStocks");try{const w=await R1();console.log("getAllStocks 執行成功",w),l.value=w.filter(k=>k.name.includes(y)||k.id.includes(y)),console.log("搜尋結果:",l.value)}catch(w){console.error("getAllStocks 執行失敗:",w)}});function p(y){}function v(y){console.log("點擊熱門標籤:",y),a.value=y}async function S(y){const w=await t.addStockToList(y);Oi({message:w.message,type:w.success?"success":"fail"})}return(y,w)=>(Ee(),yg(me(O1),{show:i.value,"onUpdate:show":w[3]||(w[3]=k=>me(e).emit(!1)),"cancel-text":"離開",options:[],style:{"--van-share-sheet-header-padding":"24px 24px 0 24px"}},{title:nn(()=>w[4]||(w[4]=[dt("div",{style:{"font-size":"18px","font-weight":"bold","letter-spacing":"1px","text-align":"center","margin-top":"0","margin-bottom":"0",color:"#222","line-height":"1.2"}}," 股票搜尋 ",-1)])),description:nn(()=>[dt("div",G1,[dt("div",Z1,[dt("div",null,[U(me(w1),{ref_key:"searchInputRef",ref:s,modelValue:a.value,"onUpdate:modelValue":w[0]||(w[0]=k=>a.value=k),placeholder:"請輸入股票名稱或代碼","action-text":"",style:{"--van-search-input-height":"48px","font-size":"18px"},onSearch:p},null,8,["modelValue"])]),dt("div",null,[w[6]||(w[6]=dt("div",{style:{display:"flex","align-items":"center",margin:"0 0 10px 0"}},[dt("div",{style:{"margin-left":"16px","font-size":"16px",color:"#222","font-weight":"bold","letter-spacing":"1px"}}," | 熱門股票 ")],-1)),dt("div",J1,[(Ee(),sn(Pl,null,Ch(u,k=>dt("span",{key:k,onClick:O=>v(k),style:wg(g(k))},Ie(k),13,Q1)),64))]),a.value&&a.value.length>=1?(Ee(),sn("div",tS,[l.value.length?(Ee(),sn("div",eS,[(Ee(!0),sn(Pl,null,Ch(l.value,k=>(Ee(),sn(Pl,{key:k.id},[me(t).isStockInList(k.id)?(Ee(),sn("div",nS,[dt("div",iS,Ie(k.id),1),dt("div",rS,Ie(k.name),1),w[5]||(w[5]=dt("div",{style:{"margin-left":"12px","min-width":"60px",height:"40px",background:"#e0e0e0",color:"#666","font-weight":"bold","font-size":"16px","border-radius":"8px",width:"64px",display:"flex","align-items":"center","justify-content":"center"}}," 已新增 ",-1))])):(Ee(),sn("div",{key:1,onClick:O=>S(k),style:{background:"#fff","border-radius":"12px","box-shadow":"0 2px 8px #0001",padding:"10px","margin-bottom":"12px",display:"flex","align-items":"center","min-height":"56px",cursor:"pointer",transition:"all 0.2s ease"},onMouseenter:w[1]||(w[1]=O=>O.target.style.background="#f8f9fa"),onMouseleave:w[2]||(w[2]=O=>O.target.style.background="#fff")},[dt("div",oS,Ie(k.id),1),dt("div",aS,Ie(k.name),1)],40,sS))],64))),128))])):(Ee(),sn("div",lS," 查無資料 "))])):Nw("",!0)])])])]),_:1},8,["show"]))}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ws(n){return n+.5|0}const ui=(n,t,e)=>Math.max(Math.min(n,e),t);function jr(n){return ui(ws(n*2.55),0,255)}function hi(n){return ui(ws(n*255),0,255)}function Xn(n){return ui(ws(n/2.55)/100,0,1)}function Eh(n){return ui(ws(n*100),0,100)}const en={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},lc=[..."0123456789ABCDEF"],uS=n=>lc[n&15],fS=n=>lc[(n&240)>>4]+lc[n&15],mo=n=>(n&240)>>4===(n&15),hS=n=>mo(n.r)&&mo(n.g)&&mo(n.b)&&mo(n.a);function dS(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&en[n[1]]*17,g:255&en[n[2]]*17,b:255&en[n[3]]*17,a:t===5?en[n[4]]*17:255}:(t===7||t===9)&&(e={r:en[n[1]]<<4|en[n[2]],g:en[n[3]]<<4|en[n[4]],b:en[n[5]]<<4|en[n[6]],a:t===9?en[n[7]]<<4|en[n[8]]:255})),e}const gS=(n,t)=>n<255?t(n):"";function pS(n){var t=hS(n)?uS:fS;return n?"#"+t(n.r)+t(n.g)+t(n.b)+gS(n.a,t):void 0}const mS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Tg(n,t,e){const i=t*Math.min(e,1-e),s=(a,l=(a+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function _S(n,t,e){const i=(s,a=(s+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function bS(n,t,e){const i=Tg(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function vS(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function Ac(n){const e=n.r/255,i=n.g/255,s=n.b/255,a=Math.max(e,i,s),l=Math.min(e,i,s),u=(a+l)/2;let f,h,g;return a!==l&&(g=a-l,h=u>.5?g/(2-a-l):g/(a+l),f=vS(e,i,s,g,a),f=f*60+.5),[f|0,h||0,u]}function Oc(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(hi)}function Ec(n,t,e){return Oc(Tg,n,t,e)}function xS(n,t,e){return Oc(bS,n,t,e)}function yS(n,t,e){return Oc(_S,n,t,e)}function Ag(n){return(n%360+360)%360}function wS(n){const t=mS.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?jr(+t[5]):hi(+t[5]));const s=Ag(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=xS(s,a,l):t[1]==="hsv"?i=yS(s,a,l):i=Ec(s,a,l),{r:i[0],g:i[1],b:i[2],a:e}}function SS(n,t){var e=Ac(n);e[0]=Ag(e[0]+t),e=Ec(e),n.r=e[0],n.g=e[1],n.b=e[2]}function CS(n){if(!n)return;const t=Ac(n),e=t[0],i=Eh(t[1]),s=Eh(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${Xn(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const Ih={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ph={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function kS(){const n={},t=Object.keys(Ph),e=Object.keys(Ih);let i,s,a,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],s=0;s<e.length;s++)a=e[s],u=u.replace(a,Ih[a]);a=parseInt(Ph[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let _o;function DS(n){_o||(_o=kS(),_o.transparent=[0,0,0,0]);const t=_o[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const MS=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function TS(n){const t=MS.exec(n);let e=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?jr(l):ui(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?jr(i):ui(i,0,255)),s=255&(t[4]?jr(s):ui(s,0,255)),a=255&(t[6]?jr(a):ui(a,0,255)),{r:i,g:s,b:a,a:e}}}function AS(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Xn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Wl=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,or=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function OS(n,t,e){const i=or(Xn(n.r)),s=or(Xn(n.g)),a=or(Xn(n.b));return{r:hi(Wl(i+e*(or(Xn(t.r))-i))),g:hi(Wl(s+e*(or(Xn(t.g))-s))),b:hi(Wl(a+e*(or(Xn(t.b))-a))),a:n.a+e*(t.a-n.a)}}function bo(n,t,e){if(n){let i=Ac(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Ec(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Og(n,t){return n&&Object.assign(t||{},n)}function Lh(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=hi(n[3]))):(t=Og(n,{r:0,g:0,b:0,a:1}),t.a=hi(t.a)),t}function ES(n){return n.charAt(0)==="r"?TS(n):wS(n)}class gs{constructor(t){if(t instanceof gs)return t;const e=typeof t;let i;e==="object"?i=Lh(t):e==="string"&&(i=dS(t)||DS(t)||ES(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Og(this._rgb);return t&&(t.a=Xn(t.a)),t}set rgb(t){this._rgb=Lh(t)}rgbString(){return this._valid?AS(this._rgb):void 0}hexString(){return this._valid?pS(this._rgb):void 0}hslString(){return this._valid?CS(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let a;const l=e===a?.5:e,u=2*l-1,f=i.a-s.a,h=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;a=1-h,i.r=255&h*i.r+a*s.r+.5,i.g=255&h*i.g+a*s.g+.5,i.b=255&h*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=OS(this._rgb,t._rgb,e)),this}clone(){return new gs(this.rgb)}alpha(t){return this._rgb.a=hi(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=ws(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return bo(this._rgb,2,t),this}darken(t){return bo(this._rgb,2,-t),this}saturate(t){return bo(this._rgb,1,t),this}desaturate(t){return bo(this._rgb,1,-t),this}rotate(t){return SS(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Yn(){}const IS=(()=>{let n=0;return()=>n++})();function Lt(n){return n==null}function ie(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ct(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ln(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function kn(n,t){return ln(n)?n:t}function _t(n,t){return typeof n>"u"?t:n}const PS=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Bt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Tt(n,t,e,i){let s,a,l;if(ie(n))for(a=n.length,s=0;s<a;s++)t.call(e,n[s],s);else if(Ct(n))for(l=Object.keys(n),a=l.length,s=0;s<a;s++)t.call(e,n[l[s]],l[s])}function Ko(n,t){let e,i,s,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],a=t[e],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function jo(n){if(ie(n))return n.map(jo);if(Ct(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=jo(n[e[s]]);return t}return n}function Eg(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function LS(n,t,e,i){if(!Eg(n))return;const s=t[n],a=e[n];Ct(s)&&Ct(a)?ps(s,a,i):t[n]=jo(a)}function ps(n,t,e){const i=ie(t)?t:[t],s=i.length;if(!Ct(n))return n;e=e||{};const a=e.merger||LS;let l;for(let u=0;u<s;++u){if(l=i[u],!Ct(l))continue;const f=Object.keys(l);for(let h=0,g=f.length;h<g;++h)a(f[h],n,l,e)}return n}function ns(n,t){return ps(n,t,{merger:RS})}function RS(n,t,e){if(!Eg(n))return;const i=t[n],s=e[n];Ct(i)&&Ct(s)?ns(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=jo(s))}const Rh={"":n=>n,x:n=>n.x,y:n=>n.y};function FS(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function BS(n){const t=FS(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Go(n,t){return(Rh[t]||(Rh[t]=BS(t)))(n)}function Ic(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Zo=n=>typeof n<"u",di=n=>typeof n=="function",Fh=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function WS(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const re=Math.PI,On=2*re,zS=On+re,Jo=Number.POSITIVE_INFINITY,NS=re/180,vn=re/2,ki=re/4,Bh=re*2/3,Ig=Math.log10,br=Math.sign;function is(n,t,e){return Math.abs(n-t)<e}function Wh(n){const t=Math.round(n);n=is(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Ig(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function HS(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,a)=>s-a).pop(),t}function $S(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ms(n){return!$S(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function YS(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function US(n,t,e){let i,s,a;for(i=0,s=n.length;i<s;i++)a=n[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Li(n){return n*(re/180)}function VS(n){return n*(180/re)}function zh(n){if(!ln(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function XS(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let a=Math.atan2(i,e);return a<-.5*re&&(a+=On),{angle:a,distance:s}}function cc(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function qS(n,t){return(n-t+zS)%On-re}function ai(n){return(n%On+On)%On}function Pg(n,t,e,i){const s=ai(n),a=ai(t),l=ai(e),u=ai(a-s),f=ai(l-s),h=ai(s-a),g=ai(s-l);return s===a||s===l||i&&a===l||u>f&&h<g}function on(n,t,e){return Math.max(t,Math.min(e,n))}function KS(n){return on(n,-32768,32767)}function Gr(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Pc(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,e(a)?s=a:i=a;return{lo:s,hi:i}}const Ri=(n,t,e,i)=>Pc(n,e,i?s=>{const a=n[s][t];return a<e||a===e&&n[s+1][t]===e}:s=>n[s][t]<e),jS=(n,t,e)=>Pc(n,e,i=>n[i][t]>=e);function GS(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const Lg=["push","pop","shift","splice","unshift"];function ZS(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Lg.forEach(e=>{const i="_onData"+Ic(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function Nh(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(Lg.forEach(a=>{delete n[a]}),delete n._chartjs)}function JS(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Rg=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Fg(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,Rg.call(window,()=>{i=!1,n.apply(t,e)}))}}function QS(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Lc=n=>n==="start"?"left":n==="end"?"right":"center",_e=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,tC=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function eC(n,t,e){const i=t.length;let s=0,a=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:f}=n,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:m,max:p,minDefined:v,maxDefined:S}=l.getUserBounds();if(v){if(s=Math.min(Ri(f,g,m).lo,e?i:Ri(t,g,l.getPixelForValue(m)).lo),h){const y=f.slice(0,s+1).reverse().findIndex(w=>!Lt(w[u.axis]));s-=Math.max(0,y)}s=on(s,0,i-1)}if(S){let y=Math.max(Ri(f,l.axis,p,!0).hi+1,e?0:Ri(t,g,l.getPixelForValue(p),!0).hi+1);if(h){const w=f.slice(y-1).findIndex(k=>!Lt(k[u.axis]));y+=Math.max(0,w)}a=on(y,s,i)-s}else a=i-s}return{start:s,count:a}}function nC(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),a}const vo=n=>n===0||n===1,Hh=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*On/e)),$h=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*On/e)+1,rs={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*vn)+1,easeOutSine:n=>Math.sin(n*vn),easeInOutSine:n=>-.5*(Math.cos(re*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>vo(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>vo(n)?n:Hh(n,.075,.3),easeOutElastic:n=>vo(n)?n:$h(n,.075,.3),easeInOutElastic(n){return vo(n)?n:n<.5?.5*Hh(n*2,.1125,.45):.5+.5*$h(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-rs.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?rs.easeInBounce(n*2)*.5:rs.easeOutBounce(n*2-1)*.5+.5};function Rc(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Yh(n){return Rc(n)?n:new gs(n)}function zl(n){return Rc(n)?n:new gs(n).saturate(.5).darken(.1).hexString()}const iC=["x","y","borderWidth","radius","tension"],rC=["color","borderColor","backgroundColor"];function sC(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:rC},numbers:{type:"number",properties:iC}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function oC(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Uh=new Map;function aC(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Uh.get(e);return i||(i=new Intl.NumberFormat(n,t),Uh.set(e,i)),i}function Bg(n,t,e){return aC(t,e).format(n)}const lC={values(n){return ie(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,a=n;if(e.length>1){const h=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),a=cC(n,e)}const l=Ig(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),Bg(n,i,f)}};function cC(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Wg={formatters:lC};function uC(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Wg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Bi=Object.create(null),uc=Object.create(null);function ss(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const a=e[i];n=n[a]||(n[a]=Object.create(null))}return n}function Nl(n,t,e){return typeof t=="string"?ps(ss(n,t),e):ps(ss(n,""),t)}class fC{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>zl(s.backgroundColor),this.hoverBorderColor=(i,s)=>zl(s.borderColor),this.hoverColor=(i,s)=>zl(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Nl(this,t,e)}get(t){return ss(this,t)}describe(t,e){return Nl(uc,t,e)}override(t,e){return Nl(Bi,t,e)}route(t,e,i,s){const a=ss(this,t),l=ss(this,i),u="_"+e;Object.defineProperties(a,{[u]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],h=l[s];return Ct(f)?Object.assign({},h,f):_t(f,h)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var Kt=new fC({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[sC,oC,uC]);function hC(n){return!n||Lt(n.size)||Lt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Vh(n,t,e,i,s){let a=t[s];return a||(a=t[s]=n.measureText(s).width,e.push(s)),a>i&&(i=a),i}function Di(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function Xh(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function fc(n,t,e,i){zg(n,t,e,i,null)}function zg(n,t,e,i,s){let a,l,u,f,h,g,m,p;const v=t.pointStyle,S=t.rotation,y=t.radius;let w=(S||0)*NS;if(v&&typeof v=="object"&&(a=v.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(w),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(y)||y<=0)){switch(n.beginPath(),v){default:s?n.ellipse(e,i,s/2,y,0,0,On):n.arc(e,i,y,0,On),n.closePath();break;case"triangle":g=s?s/2:y,n.moveTo(e+Math.sin(w)*g,i-Math.cos(w)*y),w+=Bh,n.lineTo(e+Math.sin(w)*g,i-Math.cos(w)*y),w+=Bh,n.lineTo(e+Math.sin(w)*g,i-Math.cos(w)*y),n.closePath();break;case"rectRounded":h=y*.516,f=y-h,l=Math.cos(w+ki)*f,m=Math.cos(w+ki)*(s?s/2-h:f),u=Math.sin(w+ki)*f,p=Math.sin(w+ki)*(s?s/2-h:f),n.arc(e-m,i-u,h,w-re,w-vn),n.arc(e+p,i-l,h,w-vn,w),n.arc(e+m,i+u,h,w,w+vn),n.arc(e-p,i+l,h,w+vn,w+re),n.closePath();break;case"rect":if(!S){f=Math.SQRT1_2*y,g=s?s/2:f,n.rect(e-g,i-f,2*g,2*f);break}w+=ki;case"rectRot":m=Math.cos(w)*(s?s/2:y),l=Math.cos(w)*y,u=Math.sin(w)*y,p=Math.sin(w)*(s?s/2:y),n.moveTo(e-m,i-u),n.lineTo(e+p,i-l),n.lineTo(e+m,i+u),n.lineTo(e-p,i+l),n.closePath();break;case"crossRot":w+=ki;case"cross":m=Math.cos(w)*(s?s/2:y),l=Math.cos(w)*y,u=Math.sin(w)*y,p=Math.sin(w)*(s?s/2:y),n.moveTo(e-m,i-u),n.lineTo(e+m,i+u),n.moveTo(e+p,i-l),n.lineTo(e-p,i+l);break;case"star":m=Math.cos(w)*(s?s/2:y),l=Math.cos(w)*y,u=Math.sin(w)*y,p=Math.sin(w)*(s?s/2:y),n.moveTo(e-m,i-u),n.lineTo(e+m,i+u),n.moveTo(e+p,i-l),n.lineTo(e-p,i+l),w+=ki,m=Math.cos(w)*(s?s/2:y),l=Math.cos(w)*y,u=Math.sin(w)*y,p=Math.sin(w)*(s?s/2:y),n.moveTo(e-m,i-u),n.lineTo(e+m,i+u),n.moveTo(e+p,i-l),n.lineTo(e-p,i+l);break;case"line":l=s?s/2:Math.cos(w)*y,u=Math.sin(w)*y,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(w)*(s?s/2:y),i+Math.sin(w)*y);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function _s(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Fc(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Bc(n){n.restore()}function dC(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function gC(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function pC(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Lt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function mC(n,t,e,i,s){if(s.strikethrough||s.underline){const a=n.measureText(i),l=t-a.actualBoundingBoxLeft,u=t+a.actualBoundingBoxRight,f=e-a.actualBoundingBoxAscent,h=e+a.actualBoundingBoxDescent,g=s.strikethrough?(f+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function _C(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function bs(n,t,e,i,s,a={}){const l=ie(t)?t:[t],u=a.strokeWidth>0&&a.strokeColor!=="";let f,h;for(n.save(),n.font=s.string,pC(n,a),f=0;f<l.length;++f)h=l[f],a.backdrop&&_C(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Lt(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(h,e,i,a.maxWidth)),n.fillText(h,e,i,a.maxWidth),mC(n,e,i,h,a),i+=Number(s.lineHeight);n.restore()}function hc(n,t){const{x:e,y:i,w:s,h:a,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*re,re,!0),n.lineTo(e,i+a-l.bottomLeft),n.arc(e+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,re,vn,!0),n.lineTo(e+s-l.bottomRight,i+a),n.arc(e+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,vn,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-vn,!0),n.lineTo(e+l.topLeft,i)}const bC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,vC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xC(n,t){const e=(""+n).match(bC);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const yC=n=>+n||0;function Ng(n,t){const e={},i=Ct(t),s=i?Object.keys(t):t,a=Ct(n)?i?l=>_t(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=yC(a(l));return e}function wC(n){return Ng(n,{top:"y",right:"x",bottom:"y",left:"x"})}function os(n){return Ng(n,["topLeft","topRight","bottomLeft","bottomRight"])}function cn(n){const t=wC(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function be(n,t){n=n||{},t=t||Kt.font;let e=_t(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=_t(n.style,t.style);i&&!(""+i).match(vC)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:_t(n.family,t.family),lineHeight:xC(_t(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:_t(n.weight,t.weight),string:""};return s.string=hC(s),s}function xo(n,t,e,i){let s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function SC(n,t,e){const{min:i,max:s}=n,a=PS(t,(s-i)/2),l=(u,f)=>e&&u===0?0:u+f;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function zi(n,t){return Object.assign(Object.create(n),t)}function Wc(n,t=[""],e,i,s=()=>n[0]){const a=e||n;typeof i>"u"&&(i=Ug("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:s,override:u=>Wc([u,...n],t,a,i)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return $g(u,f,()=>EC(f,t,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return Kh(u).includes(f)},ownKeys(u){return Kh(u)},set(u,f,h){const g=u._storage||(u._storage=s());return u[f]=g[f]=h,delete u._keys,!0}})}function vr(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Hg(n,i),setContext:a=>vr(n,a,e,i),override:a=>vr(n.override(a),t,e,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return $g(a,l,()=>kC(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function Hg(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:di(e)?e:()=>e,isIndexable:di(i)?i:()=>i}}const CC=(n,t)=>n?n+Ic(t):t,zc=(n,t)=>Ct(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function $g(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function kC(n,t,e){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=n;let u=i[t];return di(u)&&l.isScriptable(t)&&(u=DC(t,u,n,e)),ie(u)&&u.length&&(u=MC(t,u,n,l.isIndexable)),zc(t,u)&&(u=vr(u,s,a&&a[t],l)),u}function DC(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(a,l||i);return u.delete(n),zc(n,f)&&(f=Nc(s._scopes,s,n,f)),f}function MC(n,t,e,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:u}=e;if(typeof a.index<"u"&&i(n))return t[a.index%t.length];if(Ct(t[0])){const f=t,h=s._scopes.filter(g=>g!==f);t=[];for(const g of f){const m=Nc(h,s,n,g);t.push(vr(m,a,l&&l[n],u))}}return t}function Yg(n,t,e){return di(n)?n(t,e):n}const TC=(n,t)=>n===!0?t:typeof n=="string"?Go(t,n):void 0;function AC(n,t,e,i,s){for(const a of t){const l=TC(e,a);if(l){n.add(l);const u=Yg(l._fallback,e,s);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function Nc(n,t,e,i){const s=t._rootScopes,a=Yg(t._fallback,e,i),l=[...n,...s],u=new Set;u.add(i);let f=qh(u,l,e,a||e,i);return f===null||typeof a<"u"&&a!==e&&(f=qh(u,l,a,f,i),f===null)?!1:Wc(Array.from(u),[""],s,a,()=>OC(t,e,i))}function qh(n,t,e,i,s){for(;e;)e=AC(n,t,e,i,s);return e}function OC(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return ie(s)&&Ct(e)?e:s||{}}function EC(n,t,e,i){let s;for(const a of t)if(s=Ug(CC(a,n),e),typeof s<"u")return zc(n,s)?Nc(e,i,n,s):s}function Ug(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Kh(n){let t=n._keys;return t||(t=n._keys=IC(n._scopes)),t}function IC(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}const PC=Number.EPSILON||1e-14,xr=(n,t)=>t<n.length&&!n[t].skip&&n[t],Vg=n=>n==="x"?"y":"x";function LC(n,t,e,i){const s=n.skip?t:n,a=t,l=e.skip?t:e,u=cc(a,s),f=cc(l,a);let h=u/(u+f),g=f/(u+f);h=isNaN(h)?0:h,g=isNaN(g)?0:g;const m=i*h,p=i*g;return{previous:{x:a.x-m*(l.x-s.x),y:a.y-m*(l.y-s.y)},next:{x:a.x+p*(l.x-s.x),y:a.y+p*(l.y-s.y)}}}function RC(n,t,e){const i=n.length;let s,a,l,u,f,h=xr(n,0);for(let g=0;g<i-1;++g)if(f=h,h=xr(n,g+1),!(!f||!h)){if(is(t[g],0,PC)){e[g]=e[g+1]=0;continue}s=e[g]/t[g],a=e[g+1]/t[g],u=Math.pow(s,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),e[g]=s*l*t[g],e[g+1]=a*l*t[g])}}function FC(n,t,e="x"){const i=Vg(e),s=n.length;let a,l,u,f=xr(n,0);for(let h=0;h<s;++h){if(l=u,u=f,f=xr(n,h+1),!u)continue;const g=u[e],m=u[i];l&&(a=(g-l[e])/3,u[`cp1${e}`]=g-a,u[`cp1${i}`]=m-a*t[h]),f&&(a=(f[e]-g)/3,u[`cp2${e}`]=g+a,u[`cp2${i}`]=m+a*t[h])}}function BC(n,t="x"){const e=Vg(t),i=n.length,s=Array(i).fill(0),a=Array(i);let l,u,f,h=xr(n,0);for(l=0;l<i;++l)if(u=f,f=h,h=xr(n,l+1),!!f){if(h){const g=h[t]-f[t];s[l]=g!==0?(h[e]-f[e])/g:0}a[l]=u?h?br(s[l-1])!==br(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}RC(n,s,a),FC(n,a,t)}function yo(n,t,e){return Math.max(Math.min(n,e),t)}function WC(n,t){let e,i,s,a,l,u=_s(n[0],t);for(e=0,i=n.length;e<i;++e)l=a,a=u,u=e<i-1&&_s(n[e+1],t),a&&(s=n[e],l&&(s.cp1x=yo(s.cp1x,t.left,t.right),s.cp1y=yo(s.cp1y,t.top,t.bottom)),u&&(s.cp2x=yo(s.cp2x,t.left,t.right),s.cp2y=yo(s.cp2y,t.top,t.bottom)))}function zC(n,t,e,i,s){let a,l,u,f;if(t.spanGaps&&(n=n.filter(h=>!h.skip)),t.cubicInterpolationMode==="monotone")BC(n,s);else{let h=i?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)u=n[a],f=LC(h,u,n[Math.min(a+1,l-(i?0:1))%l],t.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,h=u}t.capBezierPoints&&WC(n,e)}function Hc(){return typeof window<"u"&&typeof document<"u"}function $c(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Qo(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const oa=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function NC(n,t){return oa(n).getPropertyValue(t)}const HC=["top","right","bottom","left"];function Fi(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const a=HC[s];i[a]=parseFloat(n[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const $C=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function YC(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:a}=i;let l=!1,u,f;if($C(s,a,n.target))u=s,f=a;else{const h=t.getBoundingClientRect();u=i.clientX-h.left,f=i.clientY-h.top,l=!0}return{x:u,y:f,box:l}}function Ei(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=oa(e),a=s.boxSizing==="border-box",l=Fi(s,"padding"),u=Fi(s,"border","width"),{x:f,y:h,box:g}=YC(n,e),m=l.left+(g&&u.left),p=l.top+(g&&u.top);let{width:v,height:S}=t;return a&&(v-=l.width+u.width,S-=l.height+u.height),{x:Math.round((f-m)/v*e.width/i),y:Math.round((h-p)/S*e.height/i)}}function UC(n,t,e){let i,s;if(t===void 0||e===void 0){const a=n&&$c(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),u=oa(a),f=Fi(u,"border","width"),h=Fi(u,"padding");t=l.width-h.width-f.width,e=l.height-h.height-f.height,i=Qo(u.maxWidth,a,"clientWidth"),s=Qo(u.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||Jo,maxHeight:s||Jo}}const wo=n=>Math.round(n*10)/10;function VC(n,t,e,i){const s=oa(n),a=Fi(s,"margin"),l=Qo(s.maxWidth,n,"clientWidth")||Jo,u=Qo(s.maxHeight,n,"clientHeight")||Jo,f=UC(n,t,e);let{width:h,height:g}=f;if(s.boxSizing==="content-box"){const p=Fi(s,"border","width"),v=Fi(s,"padding");h-=v.width+p.width,g-=v.height+p.height}return h=Math.max(0,h-a.width),g=Math.max(0,i?h/i:g-a.height),h=wo(Math.min(h,l,f.maxWidth)),g=wo(Math.min(g,u,f.maxHeight)),h&&!g&&(g=wo(h/2)),(t!==void 0||e!==void 0)&&i&&f.height&&g>f.height&&(g=f.height,h=wo(Math.floor(g*i))),{width:h,height:g}}function jh(n,t,e){const i=t||1,s=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(n.currentDevicePixelRatio=i,l.height=s,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const XC=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Hc()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Gh(n,t){const e=NC(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ii(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function qC(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function KC(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=Ii(n,s,e),u=Ii(s,a,e),f=Ii(a,t,e),h=Ii(l,u,e),g=Ii(u,f,e);return Ii(h,g,e)}const jC=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},GC=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function dr(n,t,e){return n?jC(t,e):GC()}function Xg(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function qg(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Kg(n){return n==="angle"?{between:Pg,compare:qS,normalize:ai}:{between:Gr,compare:(t,e)=>t-e,normalize:t=>t}}function Zh({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function ZC(n,t,e){const{property:i,start:s,end:a}=e,{between:l,normalize:u}=Kg(i),f=t.length;let{start:h,end:g,loop:m}=n,p,v;if(m){for(h+=f,g+=f,p=0,v=f;p<v&&l(u(t[h%f][i]),s,a);++p)h--,g--;h%=f,g%=f}return g<h&&(g+=f),{start:h,end:g,loop:m,style:n.style}}function JC(n,t,e){if(!e)return[n];const{property:i,start:s,end:a}=e,l=t.length,{compare:u,between:f,normalize:h}=Kg(i),{start:g,end:m,loop:p,style:v}=ZC(n,t,e),S=[];let y=!1,w=null,k,O,P;const E=()=>f(s,P,k)&&u(s,P)!==0,M=()=>u(a,k)===0||f(a,P,k),R=()=>y||E(),B=()=>!y||M();for(let L=g,$=g;L<=m;++L)O=t[L%l],!O.skip&&(k=h(O[i]),k!==P&&(y=f(k,s,a),w===null&&R()&&(w=u(k,s)===0?L:$),w!==null&&B()&&(S.push(Zh({start:w,end:L,loop:p,count:l,style:v})),w=null),$=L,P=k));return w!==null&&S.push(Zh({start:w,end:m,loop:p,count:l,style:v})),S}function QC(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const a=JC(i[s],n.points,t);a.length&&e.push(...a)}return e}function tk(n,t,e,i){let s=0,a=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(a+=s);a>s&&n[a%t].skip;)a--;return a%=t,{start:s,end:a}}function ek(n,t,e,i){const s=n.length,a=[];let l=t,u=n[t],f;for(f=t+1;f<=e;++f){const h=n[f%s];h.skip||h.stop?u.skip||(i=!1,a.push({start:t%s,end:(f-1)%s,loop:i}),t=l=h.stop?f:null):(l=f,u.skip&&(t=f)),u=h}return l!==null&&a.push({start:t%s,end:l%s,loop:i}),a}function nk(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const a=!!n._loop,{start:l,end:u}=tk(e,s,a,i);if(i===!0)return Jh(n,[{start:l,end:u,loop:a}],e,t);const f=u<l?u+s:u,h=!!n._fullLoop&&l===0&&u===s-1;return Jh(n,ek(e,l,f,h),e,t)}function Jh(n,t,e,i){return!i||!i.setContext||!e?t:ik(n,t,e,i)}function ik(n,t,e,i){const s=n._chart.getContext(),a=Qh(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,f=e.length,h=[];let g=a,m=t[0].start,p=m;function v(S,y,w,k){const O=u?-1:1;if(S!==y){for(S+=f;e[S%f].skip;)S-=O;for(;e[y%f].skip;)y+=O;S%f!==y%f&&(h.push({start:S%f,end:y%f,loop:w,style:k}),g=k,m=y%f)}}for(const S of t){m=u?m:S.start;let y=e[m%f],w;for(p=m+1;p<=S.end;p++){const k=e[p%f];w=Qh(i.setContext(zi(s,{type:"segment",p0:y,p1:k,p0DataIndex:(p-1)%f,p1DataIndex:p%f,datasetIndex:l}))),rk(w,g)&&v(m,p-1,S.loop,g),y=k,g=w}m<p-1&&v(m,p-1,S.loop,g)}return h}function Qh(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function rk(n,t){if(!t)return!1;const e=[],i=function(s,a){return Rc(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function So(n,t,e){return n.options.clip?n[e]:t[e]}function sk(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:So(e,t,"left"),right:So(e,t,"right"),top:So(i,t,"top"),bottom:So(i,t,"bottom")}:t}function ok(n,t){const e=t._clip;if(e.disabled)return!1;const i=sk(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ak{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const a=e.listeners[s],l=e.duration;a.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Rg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,f;for(;l>=0;--l)f=a[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(a[l]=a[a.length-1],a.pop());u&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Un=new ak;const td="transparent",lk={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Yh(n||td),s=i.valid&&Yh(t||td);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class ck{constructor(t,e,i,s){const a=e[i];s=xo([t.to,s,a,t.from]);const l=xo([t.from,a,s]);this._active=!0,this._fn=t.fn||lk[t.type||typeof l],this._easing=rs[t.easing]||rs.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=xo([t.to,e,s,t.from]),this._from=xo([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,u=this._to;let f;if(this._active=a!==u&&(l||e<i),!this._active){this._target[s]=u,this._notify(!0);return}if(e<0){this._target[s]=a;return}f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[s]=this._fn(a,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class jg{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ct(t))return;const e=Object.keys(Kt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!Ct(a))return;const l={};for(const u of e)l[u]=a[u];(ie(a.properties)&&a.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,s=fk(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&uk(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const h=l[f];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(t,e));continue}const g=e[h];let m=a[h];const p=i.get(h);if(m)if(p&&m.active()){m.update(p,g,u);continue}else m.cancel();if(!p||!p.duration){t[h]=g;continue}a[h]=m=new ck(p,t,h,g),s.push(m)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Un.add(this._chart,i),!0}}function uk(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=n[i[s]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function fk(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function ed(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function hk(n,t,e){if(e===!1)return!1;const i=ed(n,e),s=ed(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function dk(n){let t,e,i,s;return Ct(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function Gg(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)e.push(i[s].index);return e}function nd(n,t,e,i={}){const s=n.keys,a=i.mode==="single";let l,u,f,h;if(t===null)return;let g=!1;for(l=0,u=s.length;l<u;++l){if(f=+s[l],f===e){if(g=!0,i.all)continue;break}h=n.values[f],ln(h)&&(a||t===0||br(t)===br(h))&&(t+=h)}return!g&&!i.all?0:t}function gk(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let f,h,g;for(f=0,h=l.length;f<h;++f)g=l[f],u[f]={[s]:g,[a]:n[g]};return u}function Hl(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function pk(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function mk(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function _k(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function id(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=n[s.index];if(e&&a>0||!e&&a<0)return s.index}return null}function rd(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:u}=i,f=a.axis,h=l.axis,g=pk(a,l,i),m=t.length;let p;for(let v=0;v<m;++v){const S=t[v],{[f]:y,[h]:w}=S,k=S._stacks||(S._stacks={});p=k[h]=_k(s,g,y),p[u]=w,p._top=id(p,l,!0,i.type),p._bottom=id(p,l,!1,i.type);const O=p._visualValues||(p._visualValues={});O[u]=w}}function $l(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function bk(n,t){return zi(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function vk(n,t,e){return zi(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Yr(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}const Yl=n=>n==="reset"||n==="none",sd=(n,t)=>t?n:Object.assign({},n),xk=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Gg(e,!0),values:null};class Zg{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Hl(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Yr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(m,p,v,S)=>m==="x"?p:m==="r"?S:v,a=e.xAxisID=_t(i.xAxisID,$l(t,"x")),l=e.yAxisID=_t(i.yAxisID,$l(t,"y")),u=e.rAxisID=_t(i.rAxisID,$l(t,"r")),f=e.indexAxis,h=e.iAxisID=s(f,a,l,u),g=e.vAxisID=s(f,l,a,u);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Nh(this._data,this),t._stacked&&Yr(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ct(e)){const s=this._cachedMeta;this._data=gk(e,s)}else if(i!==e){if(i){Nh(i,this);const s=this._cachedMeta;Yr(s),s._parsed=[]}e&&Object.isExtensible(e)&&ZS(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=e._stacked;e._stacked=Hl(e.vScale,e),e.stack!==i.stack&&(s=!0,Yr(e),e.stack=i.stack),this._resyncElements(t),(s||a!==e._stacked)&&(rd(this,e._parsed),e._stacked=Hl(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,u=a.axis;let f=t===0&&e===s.length?!0:i._sorted,h=t>0&&i._parsed[t-1],g,m,p;if(this._parsing===!1)i._parsed=s,i._sorted=!0,p=s;else{ie(s[t])?p=this.parseArrayData(i,s,t,e):Ct(s[t])?p=this.parseObjectData(i,s,t,e):p=this.parsePrimitiveData(i,s,t,e);const v=()=>m[u]===null||h&&m[u]<h[u];for(g=0;g<e;++g)i._parsed[g+t]=m=p[g],f&&(v()&&(f=!1),h=m);i._sorted=f}l&&rd(this,p)}parsePrimitiveData(t,e,i,s){const{iScale:a,vScale:l}=t,u=a.axis,f=l.axis,h=a.getLabels(),g=a===l,m=new Array(s);let p,v,S;for(p=0,v=s;p<v;++p)S=p+i,m[p]={[u]:g||a.parse(h[S],S),[f]:l.parse(e[S],S)};return m}parseArrayData(t,e,i,s){const{xScale:a,yScale:l}=t,u=new Array(s);let f,h,g,m;for(f=0,h=s;f<h;++f)g=f+i,m=e[g],u[f]={x:a.parse(m[0],g),y:l.parse(m[1],g)};return u}parseObjectData(t,e,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,h=new Array(s);let g,m,p,v;for(g=0,m=s;g<m;++g)p=g+i,v=e[p],h[g]={x:a.parse(Go(v,u),p),y:l.parse(Go(v,f),p)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,a=this._cachedMeta,l=e[t.axis],u={keys:Gg(s,!0),values:e._stacks[t.axis]._visualValues};return nd(u,l,a.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const a=i[e.axis];let l=a===null?NaN:a;const u=s&&i._stacks[e.axis];s&&u&&(s.values=u,l=nd(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,u=this._getOtherScale(t),f=xk(e,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:m}=mk(u);let p,v;function S(){v=s[p];const y=v[u.axis];return!ln(v[t.axis])||g>y||m<y}for(p=0;p<l&&!(!S()&&(this.updateRangeFromParsed(h,t,v,f),a));++p);if(a){for(p=l-1;p>=0;--p)if(!S()){this.updateRangeFromParsed(h,t,v,f);break}}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=e.length;s<a;++s)l=e[s][t.axis],ln(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=dk(_t(this.options.clip,hk(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],a=e.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||s.length-u,h=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,a,u,f),g=u;g<u+f;++g){const m=s[g];m.hidden||(m.active&&h?l.push(m):m.draw(t,a))}for(g=0;g<l.length;++g)l[g].draw(t,a)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=vk(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=bk(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",a=this._cachedDataOpts,l=t+"-"+e,u=a[l],f=this.enableOptionSharing&&Zo(i);if(u)return sd(u,f);const h=this.chart.config,g=h.datasetElementScopeKeys(this._type,t),m=s?[`${t}Hover`,"hover",t,""]:[t,""],p=h.getOptionScopes(this.getDataset(),g),v=Object.keys(Kt.elements[t]),S=()=>this.getContext(i,s,e),y=h.resolveNamedOptions(p,v,S,m);return y.$shared&&(y.$shared=f,a[l]=Object.freeze(sd(y,f))),y}_resolveAnimations(t,e,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,u=a[l];if(u)return u;let f;if(s.options.animation!==!1){const g=this.chart.config,m=g.datasetAnimationScopeKeys(this._type,e),p=g.getOptionScopes(this.getDataset(),m);f=g.createResolver(p,this.getContext(t,i,e))}const h=new jg(s,f&&f.animations);return f&&f._cacheable&&(a[l]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Yl(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(e,a)||a!==s;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:l}}updateElement(t,e,i,s){Yl(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Yl(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const a=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,f,h]of this._syncList)this[u](f,h);this._syncList=[];const s=i.length,a=e.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,e,i=!0){const s=this._cachedMeta,a=s.data,l=t+e;let u;const f=h=>{for(h.length+=e,u=h.length-1;u>=l;u--)h[u]=h[u-e]};for(f(a),u=t;u<l;++u)a[u]=new this.dataElementType;this._parsing&&f(s._parsed),this.parse(t,e),i&&this.updateElements(a,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Yr(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class yk extends Zg{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:a}=e,l=this.chart._animationsDisabled;let{start:u,count:f}=eC(e,s,l);this._drawStart=u,this._drawCount=f,nC(e)&&(u=0,f=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=s;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:h},t),this.updateElements(s,u,f,t)}updateElements(t,e,i,s){const a=s==="reset",{iScale:l,vScale:u,_stacked:f,_dataset:h}=this._cachedMeta,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(e,s),p=l.axis,v=u.axis,{spanGaps:S,segment:y}=this.options,w=ms(S)?S:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||a||s==="none",O=e+i,P=t.length;let E=e>0&&this.getParsed(e-1);for(let M=0;M<P;++M){const R=t[M],B=k?R:{};if(M<e||M>=O){B.skip=!0;continue}const L=this.getParsed(M),$=Lt(L[v]),j=B[p]=l.getPixelForValue(L[p],M),q=B[v]=a||$?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,L,f):L[v],M);B.skip=isNaN(j)||isNaN(q)||$,B.stop=M>0&&Math.abs(L[p]-E[p])>w,y&&(B.parsed=L,B.raw=h.data[M]),m&&(B.options=g||this.resolveDataElementOptions(M,R.active?"active":s)),k||this.updateElement(R,M,B,s),E=L}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Mi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Yc{static override(t){Object.assign(Yc.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Mi()}parse(){return Mi()}format(){return Mi()}add(){return Mi()}diff(){return Mi()}startOf(){return Mi()}endOf(){return Mi()}}var Jg={_date:Yc};function wk(n,t,e,i){const{controller:s,data:a,_sorted:l}=n,u=s._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&a.length){const h=u._reversePixels?jS:Ri;if(i){if(s._sharedOptions){const g=a[0],m=typeof g.getRange=="function"&&g.getRange(t);if(m){const p=h(a,t,e-m),v=h(a,t,e+m);return{lo:p.lo,hi:v.hi}}}}else{const g=h(a,t,e);if(f){const{vScale:m}=s._cachedMeta,{_parsed:p}=n,v=p.slice(0,g.lo+1).reverse().findIndex(y=>!Lt(y[m.axis]));g.lo-=Math.max(0,v);const S=p.slice(g.hi).findIndex(y=>!Lt(y[m.axis]));g.hi+=Math.max(0,S)}return g}}return{lo:0,hi:a.length-1}}function aa(n,t,e,i,s){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,f=a.length;u<f;++u){const{index:h,data:g}=a[u],{lo:m,hi:p}=wk(a[u],t,l,s);for(let v=m;v<=p;++v){const S=g[v];S.skip||i(S,h,v)}}}function Sk(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Ul(n,t,e,i,s){const a=[];return!s&&!n.isPointInArea(t)||aa(n,e,t,function(u,f,h){!s&&!_s(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&a.push({element:u,datasetIndex:f,index:h})},!0),a}function Ck(n,t,e,i){let s=[];function a(l,u,f){const{startAngle:h,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:m}=XS(l,{x:t.x,y:t.y});Pg(m,h,g)&&s.push({element:l,datasetIndex:u,index:f})}return aa(n,e,t,a),s}function kk(n,t,e,i,s,a){let l=[];const u=Sk(e);let f=Number.POSITIVE_INFINITY;function h(g,m,p){const v=g.inRange(t.x,t.y,s);if(i&&!v)return;const S=g.getCenterPoint(s);if(!(!!a||n.isPointInArea(S))&&!v)return;const w=u(t,S);w<f?(l=[{element:g,datasetIndex:m,index:p}],f=w):w===f&&l.push({element:g,datasetIndex:m,index:p})}return aa(n,e,t,h),l}function Vl(n,t,e,i,s,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!i?Ck(n,t,e,s):kk(n,t,e,i,s,a)}function od(n,t,e,i,s){const a=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return aa(n,e,t,(f,h,g)=>{f[l]&&f[l](t[e],s)&&(a.push({element:f,datasetIndex:h,index:g}),u=u||f.inRange(t.x,t.y,s))}),i&&!u?[]:a}var Dk={modes:{index(n,t,e,i){const s=Ei(t,n),a=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?Ul(n,s,a,i,l):Vl(n,s,a,!1,i,l),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const g=u[0].index,m=h.data[g];m&&!m.skip&&f.push({element:m,datasetIndex:h.index,index:g})}),f):[]},dataset(n,t,e,i){const s=Ei(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?Ul(n,s,a,i,l):Vl(n,s,a,!1,i,l);if(u.length>0){const f=u[0].datasetIndex,h=n.getDatasetMeta(f).data;u=[];for(let g=0;g<h.length;++g)u.push({element:h[g],datasetIndex:f,index:g})}return u},point(n,t,e,i){const s=Ei(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return Ul(n,s,a,i,l)},nearest(n,t,e,i){const s=Ei(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return Vl(n,s,a,e.intersect,i,l)},x(n,t,e,i){const s=Ei(t,n);return od(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=Ei(t,n);return od(n,s,"y",e.intersect,i)}}};const Qg=["left","top","right","bottom"];function Ur(n,t){return n.filter(e=>e.pos===t)}function ad(n,t){return n.filter(e=>Qg.indexOf(e.pos)===-1&&e.box.axis===t)}function Vr(n,t){return n.sort((e,i)=>{const s=t?i:e,a=t?e:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function Mk(n){const t=[];let e,i,s,a,l,u;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:a,options:{stack:l,stackWeight:u=1}}=s,t.push({index:e,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:u});return t}function Tk(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:a}=e;if(!i||!Qg.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function Ak(n,t){const e=Tk(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:f}=u.box,h=e[u.stack],g=h&&u.stackWeight/h.weight;u.horizontal?(u.width=g?g*i:f&&t.availableWidth,u.height=s):(u.width=i,u.height=g?g*s:f&&t.availableHeight)}return e}function Ok(n){const t=Mk(n),e=Vr(t.filter(h=>h.box.fullSize),!0),i=Vr(Ur(t,"left"),!0),s=Vr(Ur(t,"right")),a=Vr(Ur(t,"top"),!0),l=Vr(Ur(t,"bottom")),u=ad(t,"x"),f=ad(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:s.concat(f).concat(l).concat(u),chartArea:Ur(t,"chartArea"),vertical:i.concat(s).concat(f),horizontal:a.concat(l).concat(u)}}function ld(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function tp(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Ek(n,t,e,i){const{pos:s,box:a}=e,l=n.maxPadding;if(!Ct(s)){e.size&&(n[s]-=e.size);const m=i[e.stack]||{size:0,count:1};m.size=Math.max(m.size,e.horizontal?a.height:a.width),e.size=m.size/m.count,n[s]+=e.size}a.getPadding&&tp(l,a.getPadding());const u=Math.max(0,t.outerWidth-ld(l,n,"left","right")),f=Math.max(0,t.outerHeight-ld(l,n,"top","bottom")),h=u!==n.w,g=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:h,other:g}:{same:g,other:h}}function Ik(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function Pk(n,t){const e=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return i(n?["left","right"]:["top","bottom"])}function Zr(n,t,e,i){const s=[];let a,l,u,f,h,g;for(a=0,l=n.length,h=0;a<l;++a){u=n[a],f=u.box,f.update(u.width||t.w,u.height||t.h,Pk(u.horizontal,t));const{same:m,other:p}=Ek(t,e,u,i);h|=m&&s.length,g=g||p,f.fullSize||s.push(u)}return h&&Zr(s,t,e,i)||g}function Co(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function cd(n,t,e,i){const s=e.padding;let{x:a,y:l}=t;for(const u of n){const f=u.box,h=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/h.weight||1;if(u.horizontal){const m=t.w*g,p=h.size||f.height;Zo(h.start)&&(l=h.start),f.fullSize?Co(f,s.left,l,e.outerWidth-s.right-s.left,p):Co(f,t.left+h.placed,l,m,p),h.start=l,h.placed+=m,l=f.bottom}else{const m=t.h*g,p=h.size||f.width;Zo(h.start)&&(a=h.start),f.fullSize?Co(f,a,s.top,p,e.outerHeight-s.bottom-s.top):Co(f,a,t.top+h.placed,p,m),h.start=a,h.placed+=m,a=f.right}}t.x=a,t.y=l}var an={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=cn(n.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(e-s.height,0),u=Ok(n.boxes),f=u.vertical,h=u.horizontal;Tt(n.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const g=f.reduce((y,w)=>w.box.options&&w.box.options.display===!1?y:y+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),p=Object.assign({},s);tp(p,cn(i));const v=Object.assign({maxPadding:p,w:a,h:l,x:s.left,y:s.top},s),S=Ak(f.concat(h),m);Zr(u.fullSize,v,m,S),Zr(f,v,m,S),Zr(h,v,m,S)&&Zr(f,v,m,S),Ik(v),cd(u.leftAndTop,v,m,S),v.x+=v.w,v.y+=v.h,cd(u.rightAndBottom,v,m,S),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Tt(u.chartArea,y=>{const w=y.box;Object.assign(w,n.chartArea),w.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class ep{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class Lk extends ep{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ro="$chartjs",Rk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ud=n=>n===null||n==="";function Fk(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Ro]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",ud(s)){const a=Gh(n,"width");a!==void 0&&(n.width=a)}if(ud(i))if(n.style.height==="")n.height=n.width/(t||2);else{const a=Gh(n,"height");a!==void 0&&(n.height=a)}return n}const np=XC?{passive:!0}:!1;function Bk(n,t,e){n&&n.addEventListener(t,e,np)}function Wk(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,np)}function zk(n,t){const e=Rk[n.type]||n.type,{x:i,y:s}=Ei(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function ta(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function Nk(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||ta(u.addedNodes,i),l=l&&!ta(u.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function Hk(n,t,e){const i=n.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||ta(u.removedNodes,i),l=l&&!ta(u.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const vs=new Map;let fd=0;function ip(){const n=window.devicePixelRatio;n!==fd&&(fd=n,vs.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function $k(n,t){vs.size||window.addEventListener("resize",ip),vs.set(n,t)}function Yk(n){vs.delete(n),vs.size||window.removeEventListener("resize",ip)}function Uk(n,t,e){const i=n.canvas,s=i&&$c(i);if(!s)return;const a=Fg((u,f)=>{const h=s.clientWidth;e(u,f),h<s.clientWidth&&e()},window),l=new ResizeObserver(u=>{const f=u[0],h=f.contentRect.width,g=f.contentRect.height;h===0&&g===0||a(h,g)});return l.observe(s),$k(n,a),l}function Xl(n,t,e){e&&e.disconnect(),t==="resize"&&Yk(n)}function Vk(n,t,e){const i=n.canvas,s=Fg(a=>{n.ctx!==null&&e(zk(a,n))},n);return Bk(i,t,s),s}class Xk extends ep{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Fk(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Ro])return!1;const i=e[Ro].initial;["height","width"].forEach(a=>{const l=i[a];Lt(l)?e.removeAttribute(a):e.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{e.style[a]=s[a]}),e.width=e.width,delete e[Ro],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:Nk,detach:Hk,resize:Uk}[e]||Vk;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Xl,detach:Xl,resize:Xl}[e]||Wk)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return VC(t,e,i,s)}isAttached(t){const e=t&&$c(t);return!!(e&&e.isConnected)}}function qk(n){return!Hc()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Lk:Xk}class Ni{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return ms(this.x)&&ms(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}}function Kk(n,t){const e=n.options.ticks,i=jk(n),s=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?Zk(t):[],l=a.length,u=a[0],f=a[l-1],h=[];if(l>s)return Jk(t,h,a,l/s),h;const g=Gk(a,t,s);if(l>0){let m,p;const v=l>1?Math.round((f-u)/(l-1)):null;for(ko(t,h,g,Lt(v)?0:u-v,u),m=0,p=l-1;m<p;m++)ko(t,h,g,a[m],a[m+1]);return ko(t,h,g,f,Lt(v)?t.length:f+v),h}return ko(t,h,g),h}function jk(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function Gk(n,t,e){const i=Qk(n),s=t.length/e;if(!i)return Math.max(s,1);const a=HS(i);for(let l=0,u=a.length-1;l<u;l++){const f=a[l];if(f>s)return f}return Math.max(s,1)}function Zk(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function Jk(n,t,e,i){let s=0,a=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(t.push(n[l]),s++,a=e[s*i])}function ko(n,t,e,i,s){const a=_t(i,0),l=Math.min(_t(s,n.length),n.length);let u=0,f,h,g;for(e=Math.ceil(e),s&&(f=s-i,e=f/Math.floor(f/e)),g=a;g<0;)u++,g=Math.round(a+u*e);for(h=Math.max(a,0);h<l;h++)h===g&&(t.push(n[h]),u++,g=Math.round(a+u*e))}function Qk(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const tD=n=>n==="left"?"right":n==="right"?"left":n,hd=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,dd=(n,t)=>Math.min(t||n,n);function gd(n,t){const e=[],i=n.length/t,s=n.length;let a=0;for(;a<s;a+=i)e.push(n[Math.floor(a)]);return e}function eD(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),a=n._startPixel,l=n._endPixel,u=1e-6;let f=n.getPixelForTick(s),h;if(!(e&&(i===1?h=Math.max(f-a,l-f):t===0?h=(n.getPixelForTick(1)-f)/2:h=(f-n.getPixelForTick(s-1))/2,f+=s<t?h:-h,f<a-u||f>l+u)))return f}function nD(n,t){Tt(n,e=>{const i=e.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete e.data[i[a]];i.splice(0,s)}})}function Xr(n){return n.drawTicks?n.tickLength:0}function pd(n,t){if(!n.display)return 0;const e=be(n.font,t),i=cn(n.padding);return(ie(n.text)?n.text.length:1)*e.lineHeight+i.height}function iD(n,t){return zi(n,{scale:t,type:"scale"})}function rD(n,t,e){return zi(n,{tick:e,index:t,type:"tick"})}function sD(n,t,e){let i=Lc(n);return(e&&t!=="right"||!e&&t==="right")&&(i=tD(i)),i}function oD(n,t,e,i){const{top:s,left:a,bottom:l,right:u,chart:f}=n,{chartArea:h,scales:g}=f;let m=0,p,v,S;const y=l-s,w=u-a;if(n.isHorizontal()){if(v=_e(i,a,u),Ct(e)){const k=Object.keys(e)[0],O=e[k];S=g[k].getPixelForValue(O)+y-t}else e==="center"?S=(h.bottom+h.top)/2+y-t:S=hd(n,e,t);p=u-a}else{if(Ct(e)){const k=Object.keys(e)[0],O=e[k];v=g[k].getPixelForValue(O)-w+t}else e==="center"?v=(h.left+h.right)/2-w+t:v=hd(n,e,t);S=_e(i,l,s),m=e==="left"?-vn:vn}return{titleX:v,titleY:S,maxWidth:p,rotation:m}}class wr extends Ni{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=kn(t,Number.POSITIVE_INFINITY),e=kn(e,Number.NEGATIVE_INFINITY),i=kn(i,Number.POSITIVE_INFINITY),s=kn(s,Number.NEGATIVE_INFINITY),{min:kn(t,i),max:kn(e,s),minDefined:ln(t),maxDefined:ln(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,h=u.length;f<h;++f)l=u[f].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),a||(i=Math.max(i,l.max));return e=a&&e>i?i:e,i=s&&e>i?e:i,{min:kn(e,kn(i,e)),max:kn(i,kn(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bt(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=SC(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?gd(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Kk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bt(this.options.afterUpdate,[this])}beforeSetDimensions(){Bt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Bt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=Bt(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){Bt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=dd(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,a=e.maxRotation;let l=s,u,f,h;if(!this._isVisible()||!e.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const g=this._getLabelSizes(),m=g.widest.width,p=g.highest.height,v=on(this.chart.width-m,0,this.maxWidth);u=t.offset?this.maxWidth/i:v/(i-1),m+6>u&&(u=v/(i-(t.offset?.5:1)),f=this.maxHeight-Xr(t.grid)-e.padding-pd(t.title,this.chart.options.font),h=Math.sqrt(m*m+p*p),l=VS(Math.min(Math.asin(on((g.highest.height+6)/u,-1,1)),Math.asin(on(f/h,-1,1))-Math.asin(on(p/h,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Bt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Bt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=pd(s,e.options.font);if(u?(t.width=this.maxWidth,t.height=Xr(a)+f):(t.height=this.maxHeight,t.width=Xr(a)+f),i.display&&this.ticks.length){const{first:h,last:g,widest:m,highest:p}=this._getLabelSizes(),v=i.padding*2,S=Li(this.labelRotation),y=Math.cos(S),w=Math.sin(S);if(u){const k=i.mirror?0:w*m.width+y*p.height;t.height=Math.min(this.maxHeight,t.height+k+v)}else{const k=i.mirror?0:y*m.width+w*p.height;t.width=Math.min(this.maxWidth,t.width+k+v)}this._calculatePadding(h,g,w,y)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:a,padding:l},position:u}=this.options,f=this.labelRotation!==0,h=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,v=0;f?h?(p=s*t.width,v=i*e.height):(p=i*t.height,v=s*e.width):a==="start"?v=e.width:a==="end"?p=t.width:a!=="inner"&&(p=t.width/2,v=e.width/2),this.paddingLeft=Math.max((p-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((v-m+l)*this.width/(this.width-m),0)}else{let g=e.height/2,m=t.height/2;a==="start"?(g=0,m=t.height):a==="end"&&(g=e.height,m=0),this.paddingTop=g+l,this.paddingBottom=m+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Lt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=gd(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:a}=this,l=[],u=[],f=Math.floor(e/dd(e,i));let h=0,g=0,m,p,v,S,y,w,k,O,P,E,M;for(m=0;m<e;m+=f){if(S=t[m].label,y=this._resolveTickFontOptions(m),s.font=w=y.string,k=a[w]=a[w]||{data:{},gc:[]},O=y.lineHeight,P=E=0,!Lt(S)&&!ie(S))P=Vh(s,k.data,k.gc,P,S),E=O;else if(ie(S))for(p=0,v=S.length;p<v;++p)M=S[p],!Lt(M)&&!ie(M)&&(P=Vh(s,k.data,k.gc,P,M),E+=O);l.push(P),u.push(E),h=Math.max(P,h),g=Math.max(E,g)}nD(a,e);const R=l.indexOf(h),B=u.indexOf(g),L=$=>({width:l[$]||0,height:u[$]||0});return{first:L(0),last:L(e-1),widest:L(R),highest:L(B),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return KS(this._alignToPixels?Di(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=rD(this.getContext(),t,i))}return this.$context||(this.$context=iD(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Li(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,u=a?a.widest.width+l:0,f=a?a.highest.height+l:0;return this.isHorizontal()?f*i>u*s?u/i:f/s:f*s<u*i?f/i:u/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:u}=s,f=a.offset,h=this.isHorizontal(),m=this.ticks.length+(f?1:0),p=Xr(a),v=[],S=u.setContext(this.getContext()),y=S.display?S.width:0,w=y/2,k=function(ht){return Di(i,ht,y)};let O,P,E,M,R,B,L,$,j,q,G,ct;if(l==="top")O=k(this.bottom),B=this.bottom-p,$=O-w,q=k(t.top)+w,ct=t.bottom;else if(l==="bottom")O=k(this.top),q=t.top,ct=k(t.bottom)-w,B=O+w,$=this.top+p;else if(l==="left")O=k(this.right),R=this.right-p,L=O-w,j=k(t.left)+w,G=t.right;else if(l==="right")O=k(this.left),j=t.left,G=k(t.right)-w,R=O+w,L=this.left+p;else if(e==="x"){if(l==="center")O=k((t.top+t.bottom)/2+.5);else if(Ct(l)){const ht=Object.keys(l)[0],yt=l[ht];O=k(this.chart.scales[ht].getPixelForValue(yt))}q=t.top,ct=t.bottom,B=O+w,$=B+p}else if(e==="y"){if(l==="center")O=k((t.left+t.right)/2);else if(Ct(l)){const ht=Object.keys(l)[0],yt=l[ht];O=k(this.chart.scales[ht].getPixelForValue(yt))}R=O-w,L=R-p,j=t.left,G=t.right}const xt=_t(s.ticks.maxTicksLimit,m),at=Math.max(1,Math.ceil(m/xt));for(P=0;P<m;P+=at){const ht=this.getContext(P),yt=a.setContext(ht),Dt=u.setContext(ht),te=yt.lineWidth,Gt=yt.color,bt=Dt.dash||[],le=Dt.dashOffset,Se=yt.tickWidth,Re=yt.tickColor,ce=yt.tickBorderDash||[],ue=yt.tickBorderDashOffset;E=eD(this,P,f),E!==void 0&&(M=Di(i,E,te),h?R=L=j=G=M:B=$=q=ct=M,v.push({tx1:R,ty1:B,tx2:L,ty2:$,x1:j,y1:q,x2:G,y2:ct,width:te,color:Gt,borderDash:bt,borderDashOffset:le,tickWidth:Se,tickColor:Re,tickBorderDash:ce,tickBorderDashOffset:ue}))}return this._ticksLength=m,this._borderValue=O,v}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:h,padding:g,mirror:m}=a,p=Xr(i.grid),v=p+g,S=m?-g:v,y=-Li(this.labelRotation),w=[];let k,O,P,E,M,R,B,L,$,j,q,G,ct="middle";if(s==="top")R=this.bottom-S,B=this._getXAxisLabelAlignment();else if(s==="bottom")R=this.top+S,B=this._getXAxisLabelAlignment();else if(s==="left"){const at=this._getYAxisLabelAlignment(p);B=at.textAlign,M=at.x}else if(s==="right"){const at=this._getYAxisLabelAlignment(p);B=at.textAlign,M=at.x}else if(e==="x"){if(s==="center")R=(t.top+t.bottom)/2+v;else if(Ct(s)){const at=Object.keys(s)[0],ht=s[at];R=this.chart.scales[at].getPixelForValue(ht)+v}B=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")M=(t.left+t.right)/2-v;else if(Ct(s)){const at=Object.keys(s)[0],ht=s[at];M=this.chart.scales[at].getPixelForValue(ht)}B=this._getYAxisLabelAlignment(p).textAlign}e==="y"&&(f==="start"?ct="top":f==="end"&&(ct="bottom"));const xt=this._getLabelSizes();for(k=0,O=u.length;k<O;++k){P=u[k],E=P.label;const at=a.setContext(this.getContext(k));L=this.getPixelForTick(k)+a.labelOffset,$=this._resolveTickFontOptions(k),j=$.lineHeight,q=ie(E)?E.length:1;const ht=q/2,yt=at.color,Dt=at.textStrokeColor,te=at.textStrokeWidth;let Gt=B;l?(M=L,B==="inner"&&(k===O-1?Gt=this.options.reverse?"left":"right":k===0?Gt=this.options.reverse?"right":"left":Gt="center"),s==="top"?h==="near"||y!==0?G=-q*j+j/2:h==="center"?G=-xt.highest.height/2-ht*j+j:G=-xt.highest.height+j/2:h==="near"||y!==0?G=j/2:h==="center"?G=xt.highest.height/2-ht*j:G=xt.highest.height-q*j,m&&(G*=-1),y!==0&&!at.showLabelBackdrop&&(M+=j/2*Math.sin(y))):(R=L,G=(1-q)*j/2);let bt;if(at.showLabelBackdrop){const le=cn(at.backdropPadding),Se=xt.heights[k],Re=xt.widths[k];let ce=G-le.top,ue=0-le.left;switch(ct){case"middle":ce-=Se/2;break;case"bottom":ce-=Se;break}switch(B){case"center":ue-=Re/2;break;case"right":ue-=Re;break;case"inner":k===O-1?ue-=Re:k>0&&(ue-=Re/2);break}bt={left:ue,top:ce,width:Re+le.width,height:Se+le.height,color:at.backdropColor}}w.push({label:E,font:$,textOffset:G,options:{rotation:y,color:yt,strokeColor:Dt,strokeWidth:te,textAlign:Gt,textBaseline:ct,translation:[M,R],backdrop:bt}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Li(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),u=t+a,f=l.widest.width;let h,g;return e==="left"?s?(g=this.right+a,i==="near"?h="left":i==="center"?(h="center",g+=f/2):(h="right",g+=f)):(g=this.right-u,i==="near"?h="right":i==="center"?(h="center",g-=f/2):(h="left",g=this.left)):e==="right"?s?(g=this.left+a,i==="near"?h="right":i==="center"?(h="center",g-=f/2):(h="left",g-=f)):(g=this.left+u,i==="near"?h="left":i==="center"?(h="center",g+=f/2):(h="right",g=this.right)):h="right",{textAlign:h,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const u=(f,h,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(e.display)for(a=0,l=s.length;a<l;++a){const f=s[a];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let h,g,m,p;this.isHorizontal()?(h=Di(t,this.left,l)-l/2,g=Di(t,this.right,u)+u/2,m=p=f):(m=Di(t,this.top,l)-l/2,p=Di(t,this.bottom,u)+u/2,h=g=f),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(h,m),e.lineTo(g,p),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Fc(i,s);const a=this.getLabelItems(t);for(const l of a){const u=l.options,f=l.font,h=l.label,g=l.textOffset;bs(i,h,0,g,f,u)}s&&Bc(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const a=be(i.font),l=cn(i.padding),u=i.align;let f=a.lineHeight/2;e==="bottom"||e==="center"||Ct(e)?(f+=l.bottom,ie(i.text)&&(f+=a.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:h,titleY:g,maxWidth:m,rotation:p}=oD(this,f,e,u);bs(t,i.text,0,0,a,{color:i.color,maxWidth:m,rotation:p,textAlign:sD(u,e,s),textBaseline:"middle",translation:[h,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=_t(t.grid&&t.grid.z,-1),s=_t(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==wr.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=e.length;a<l;++a){const u=e[a];u[i]===this.id&&(!t||u.type===t)&&s.push(u)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return be(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Do{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;cD(e)&&(i=this.register(e));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,aD(t,l,i),this.override&&Kt.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in Kt[s]&&(delete Kt[s][i],this.override&&delete Bi[i])}}function aD(n,t,e){const i=ps(Object.create(null),[e?Kt.get(e):{},Kt.get(t),n.defaults]);Kt.set(t,i),n.defaultRoutes&&lD(t,n.defaultRoutes),n.descriptors&&Kt.describe(t,n.descriptors)}function lD(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),a=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),f=l.join(".");Kt.route(a,s,f,u)})}function cD(n){return"id"in n&&"defaults"in n}class uD{constructor(){this.controllers=new Do(Zg,"datasets",!0),this.elements=new Do(Ni,"elements"),this.plugins=new Do(Object,"plugins"),this.scales=new Do(wr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):Tt(s,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const s=Ic(t);Bt(i["before"+s],[],i),e[t](i),Bt(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Mn=new uD;class fD{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,s){s=s||{};for(const a of t){const l=a.plugin,u=l[i],f=[e,s,a.options];if(Bt(u,f,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=_t(i.options&&i.options.plugins,{}),a=hD(i);return s===!1&&!e?[]:gD(t,a,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function hD(n){const t={},e=[],i=Object.keys(Mn.plugins.items);for(let a=0;a<i.length;a++)e.push(Mn.getPlugin(i[a]));const s=n.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function dD(n,t){return!t&&n===!1?null:n===!0?{}:n}function gD(n,{plugins:t,localIds:e},i,s){const a=[],l=n.getContext();for(const u of t){const f=u.id,h=dD(i[f],s);h!==null&&a.push({plugin:u,options:pD(n.config,{plugin:u,local:e[f]},h,l)})}return a}function pD(n,{plugin:t,local:e},i,s){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(i,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function dc(n,t){const e=Kt.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function mD(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function _D(n,t){return n===t?"_index_":"_value_"}function md(n){if(n==="x"||n==="y"||n==="r")return n}function bD(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function gc(n,...t){if(md(n))return n;for(const e of t){const i=e.axis||bD(e.position)||n.length>1&&md(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function _d(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function vD(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return _d(n,"x",e[0])||_d(n,"y",e[0])}return{}}function xD(n,t){const e=Bi[n.type]||{scales:{}},i=t.scales||{},s=dc(n.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Ct(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=gc(l,u,vD(l,n),Kt.scales[u.type]),h=_D(f,s),g=e.scales||{};a[l]=ns(Object.create(null),[{axis:f},u,g[f],g[h]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,f=l.indexAxis||dc(u,t),g=(Bi[u]||{}).scales||{};Object.keys(g).forEach(m=>{const p=mD(m,f),v=l[p+"AxisID"]||p;a[v]=a[v]||Object.create(null),ns(a[v],[{axis:p},i[v],g[m]])})}),Object.keys(a).forEach(l=>{const u=a[l];ns(u,[Kt.scales[u.type],Kt.scale])}),a}function rp(n){const t=n.options||(n.options={});t.plugins=_t(t.plugins,{}),t.scales=xD(n,t)}function sp(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function yD(n){return n=n||{},n.data=sp(n.data),rp(n),n}const bd=new Map,op=new Set;function Mo(n,t){let e=bd.get(n);return e||(e=t(),bd.set(n,e),op.add(e)),e}const qr=(n,t,e)=>{const i=Go(t,e);i!==void 0&&n.add(i)};class wD{constructor(t){this._config=yD(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=sp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),rp(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Mo(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Mo(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Mo(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Mo(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const f=new Set;e.forEach(g=>{t&&(f.add(t),g.forEach(m=>qr(f,t,m))),g.forEach(m=>qr(f,s,m)),g.forEach(m=>qr(f,Bi[a]||{},m)),g.forEach(m=>qr(f,Kt,m)),g.forEach(m=>qr(f,uc,m))});const h=Array.from(f);return h.length===0&&h.push(Object.create(null)),op.has(e)&&l.set(e,h),h}chartOptionScopes(){const{options:t,type:e}=this;return[t,Bi[e]||{},Kt.datasets[e]||{},{type:e},Kt,uc]}resolveNamedOptions(t,e,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=vd(this._resolverCache,t,s);let f=l;if(CD(l,e)){a.$shared=!1,i=di(i)?i():i;const h=this.createResolver(t,i,u);f=vr(l,i,h)}for(const h of e)a[h]=f[h];return a}createResolver(t,e,i=[""],s){const{resolver:a}=vd(this._resolverCache,t,i);return Ct(e)?vr(a,e,void 0,s):a}}function vd(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let a=i.get(s);return a||(a={resolver:Wc(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,a)),a}const SD=n=>Ct(n)&&Object.getOwnPropertyNames(n).some(t=>di(n[t]));function CD(n,t){const{isScriptable:e,isIndexable:i}=Hg(n);for(const s of t){const a=e(s),l=i(s),u=(l||a)&&n[s];if(a&&(di(u)||SD(u))||l&&ie(u))return!0}return!1}var kD="4.5.0";const DD=["top","bottom","left","right","chartArea"];function xd(n,t){return n==="top"||n==="bottom"||DD.indexOf(n)===-1&&t==="x"}function yd(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function wd(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Bt(e&&e.onComplete,[n],t)}function MD(n){const t=n.chart,e=t.options.animation;Bt(e&&e.onProgress,[n],t)}function ap(n){return Hc()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Fo={},Sd=n=>{const t=ap(n);return Object.values(Fo).filter(e=>e.canvas===t).pop()};function TD(n,t,e){const i=Object.keys(n);for(const s of i){const a=+s;if(a>=t){const l=n[s];delete n[s],(e>0||a>t)&&(n[a+e]=l)}}}function AD(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let xs=class{static defaults=Kt;static instances=Fo;static overrides=Bi;static registry=Mn;static version=kD;static getChart=Sd;static register(...t){Mn.add(...t),Cd()}static unregister(...t){Mn.remove(...t),Cd()}constructor(t,e){const i=this.config=new wD(e),s=ap(t),a=Sd(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||qk(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),f=u&&u.canvas,h=f&&f.height,g=f&&f.width;if(this.id=IS(),this.ctx=u,this.canvas=f,this.width=g,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fD,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=QS(m=>this.update(m),l.resizeDelay||0),this._dataChanges=[],Fo[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Un.listen(this,"complete",wd),Un.listen(this,"progress",MD),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:a}=this;return Lt(t)?e&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Mn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():jh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xh(this.canvas,this.ctx),this}stop(){return Un.stop(this),this}resize(t,e){Un.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,jh(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Bt(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Tt(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const u=e[l],f=gc(l,u),h=f==="r",g=f==="x";return{options:u,dposition:h?"chartArea":g?"bottom":"left",dtype:h?"radialLinear":g?"category":"linear"}}))),Tt(a,l=>{const u=l.options,f=u.id,h=gc(f,u),g=_t(u.type,l.dtype);(u.position===void 0||xd(u.position,h)!==xd(l.dposition))&&(u.position=l.dposition),s[f]=!0;let m=null;if(f in i&&i[f].type===g)m=i[f];else{const p=Mn.getScale(g);m=new p({id:f,type:g,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(u,t)}),Tt(s,(l,u)=>{l||delete i[u]}),Tt(i,l=>{an.configure(this,l,l.options),an.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(yd("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const a=e[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||dc(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=Mn.getController(u),{datasetElementType:h,dataElementType:g}=Kt.datasets[u];Object.assign(f,{dataElementType:Mn.getElement(g),datasetElementType:h&&Mn.getElement(h)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Tt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,g=this.data.datasets.length;h<g;h++){const{controller:m}=this.getDatasetMeta(h),p=!s&&a.indexOf(m)===-1;m.buildOrUpdateElements(p),l=Math.max(+m.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Tt(a,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(yd("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Tt(this.scales,t=>{an.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Fh(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of e){const l=i==="_removeElements"?-a:a;TD(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<e;a++)if(!Fh(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;an.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Tt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,di(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Un.has(this)?this.attached&&!Un.running(this)&&Un.start(this):(this.draw(),wd({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=ok(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Fc(e,s),t.controller.draw(),s&&Bc(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return _s(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const a=Dk.modes[e];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=zi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);Zo(e)?(a.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Un.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Xh(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Fo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},s=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Tt(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,h)=>{e.addEventListener(this,f,h),t[f]=h},s=(f,h)=>{t[f]&&(e.removeEventListener(this,f,h),delete t[f])},a=(f,h)=>{this.canvas&&this.resize(f,h)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){Tt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Tt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let a,l,u,f;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){l=t[u];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!Ko(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,a=(f,h)=>f.filter(g=>!h.some(m=>g.datasetIndex===m.datasetIndex&&g.index===m.index)),l=a(e,t),u=i?t:a(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:a}=this,l=e,u=this._getActiveElements(t,s,i,l),f=WS(t),h=AD(t,this._lastEvent,i,f);i&&(this._lastEvent=null,Bt(a.onHover,[t,u,this],this),f&&Bt(a.onClick,[t,u,this],this));const g=!Ko(u,s);return(g||e)&&(this._active=u,this._updateHoverStyles(u,s,e)),this._lastEvent=h,g}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}};function Cd(){return Tt(xs.instances,n=>n._plugins.invalidate())}function lp(n,t,e=t){n.lineCap=_t(e.borderCapStyle,t.borderCapStyle),n.setLineDash(_t(e.borderDash,t.borderDash)),n.lineDashOffset=_t(e.borderDashOffset,t.borderDashOffset),n.lineJoin=_t(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=_t(e.borderWidth,t.borderWidth),n.strokeStyle=_t(e.borderColor,t.borderColor)}function OD(n,t,e){n.lineTo(e.x,e.y)}function ED(n){return n.stepped?dC:n.tension||n.cubicInterpolationMode==="monotone"?gC:OD}function cp(n,t,e={}){const i=n.length,{start:s=0,end:a=i-1}=e,{start:l,end:u}=t,f=Math.max(s,l),h=Math.min(a,u),g=s<l&&a<l||s>u&&a>u;return{count:i,start:f,loop:t.loop,ilen:h<f&&!g?i+h-f:h-f}}function ID(n,t,e,i){const{points:s,options:a}=t,{count:l,start:u,loop:f,ilen:h}=cp(s,e,i),g=ED(a);let{move:m=!0,reverse:p}=i||{},v,S,y;for(v=0;v<=h;++v)S=s[(u+(p?h-v:v))%l],!S.skip&&(m?(n.moveTo(S.x,S.y),m=!1):g(n,y,S,p,a.stepped),y=S);return f&&(S=s[(u+(p?h:0))%l],g(n,y,S,p,a.stepped)),!!f}function PD(n,t,e,i){const s=t.points,{count:a,start:l,ilen:u}=cp(s,e,i),{move:f=!0,reverse:h}=i||{};let g=0,m=0,p,v,S,y,w,k;const O=E=>(l+(h?u-E:E))%a,P=()=>{y!==w&&(n.lineTo(g,w),n.lineTo(g,y),n.lineTo(g,k))};for(f&&(v=s[O(0)],n.moveTo(v.x,v.y)),p=0;p<=u;++p){if(v=s[O(p)],v.skip)continue;const E=v.x,M=v.y,R=E|0;R===S?(M<y?y=M:M>w&&(w=M),g=(m*g+E)/++m):(P(),n.lineTo(E,M),S=R,m=0,y=w=M),k=M}P()}function pc(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?PD:ID}function LD(n){return n.stepped?qC:n.tension||n.cubicInterpolationMode==="monotone"?KC:Ii}function RD(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),lp(n,t.options),n.stroke(s)}function FD(n,t,e,i){const{segments:s,options:a}=t,l=pc(t);for(const u of s)lp(n,a,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const BD=typeof Path2D=="function";function WD(n,t,e,i){BD&&!t.options.segment?RD(n,t,e,i):FD(n,t,e,i)}class zD extends Ni{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;zC(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=nk(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],a=this.points,l=QC(this,{property:e,start:s,end:s});if(!l.length)return;const u=[],f=LD(i);let h,g;for(h=0,g=l.length;h<g;++h){const{start:m,end:p}=l[h],v=a[m],S=a[p];if(v===S){u.push(v);continue}const y=Math.abs((s-v[e])/(S[e]-v[e])),w=f(v,S,y,i.stepped);w[e]=t[e],u.push(w)}return u.length===1?u[0]:u}pathSegment(t,e,i){return pc(this)(t,this,e,i)}path(t,e,i){const s=this.segments,a=pc(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of s)l&=a(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),WD(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function kd(n,t,e,i){const s=n.options,{[e]:a}=n.getProps([e],i);return Math.abs(t-a)<s.radius+s.hitRadius}class ND extends Ni{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(t-a,2)+Math.pow(e-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return kd(this,t,"x",e)}inYRange(t,e){return kd(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!_s(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,fc(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}const Dd=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},HD=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Md extends Ni{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Bt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=be(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=Dd(i,a);let h,g;e.font=s.string,this.isHorizontal()?(h=this.maxWidth,g=this._fitRows(l,a,u,f)+10):(g=this.maxHeight,h=this._fitCols(l,s,u,f)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],h=this.lineWidths=[0],g=s+u;let m=t;a.textAlign="left",a.textBaseline="middle";let p=-1,v=-g;return this.legendItems.forEach((S,y)=>{const w=i+e/2+a.measureText(S.text).width;(y===0||h[h.length-1]+w+2*u>l)&&(m+=g,h[h.length-(y>0?0:1)]=0,v+=g,p++),f[y]={left:0,top:v,row:p,width:w,height:s},h[h.length-1]+=w+u}),m}_fitCols(t,e,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],h=this.columnSizes=[],g=l-t;let m=u,p=0,v=0,S=0,y=0;return this.legendItems.forEach((w,k)=>{const{itemWidth:O,itemHeight:P}=$D(i,e,a,w,s);k>0&&v+P+2*u>g&&(m+=p+u,h.push({width:p,height:v}),S+=p+u,y++,p=v=0),f[k]={left:S,top:v,col:y,width:O,height:P},p=Math.max(p,O),v+=P+u}),m+=p,h.push({width:p,height:v}),m}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:a}}=this,l=dr(a,this.left,this.width);if(this.isHorizontal()){let u=0,f=_e(i,this.left+s,this.right-this.lineWidths[u]);for(const h of e)u!==h.row&&(u=h.row,f=_e(i,this.left+s,this.right-this.lineWidths[u])),h.top+=this.top+t+s,h.left=l.leftForLtr(l.x(f),h.width),f+=h.width+s}else{let u=0,f=_e(i,this.top+t+s,this.bottom-this.columnSizes[u].height);for(const h of e)h.col!==u&&(u=h.col,f=_e(i,this.top+t+s,this.bottom-this.columnSizes[u].height)),h.top=f,h.left+=this.left+s,h.left=l.leftForLtr(l.x(h.left),h.width),f+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Fc(t,this),this._draw(),Bc(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,u=Kt.color,f=dr(t.rtl,this.left,this.width),h=be(l.font),{padding:g}=l,m=h.size,p=m/2;let v;this.drawTitle(),s.textAlign=f.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:S,boxHeight:y,itemHeight:w}=Dd(l,m),k=function(R,B,L){if(isNaN(S)||S<=0||isNaN(y)||y<0)return;s.save();const $=_t(L.lineWidth,1);if(s.fillStyle=_t(L.fillStyle,u),s.lineCap=_t(L.lineCap,"butt"),s.lineDashOffset=_t(L.lineDashOffset,0),s.lineJoin=_t(L.lineJoin,"miter"),s.lineWidth=$,s.strokeStyle=_t(L.strokeStyle,u),s.setLineDash(_t(L.lineDash,[])),l.usePointStyle){const j={radius:y*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:$},q=f.xPlus(R,S/2),G=B+p;zg(s,j,q,G,l.pointStyleWidth&&S)}else{const j=B+Math.max((m-y)/2,0),q=f.leftForLtr(R,S),G=os(L.borderRadius);s.beginPath(),Object.values(G).some(ct=>ct!==0)?hc(s,{x:q,y:j,w:S,h:y,radius:G}):s.rect(q,j,S,y),s.fill(),$!==0&&s.stroke()}s.restore()},O=function(R,B,L){bs(s,L.text,R,B+w/2,h,{strikethrough:L.hidden,textAlign:f.textAlign(L.textAlign)})},P=this.isHorizontal(),E=this._computeTitleHeight();P?v={x:_e(a,this.left+g,this.right-i[0]),y:this.top+g+E,line:0}:v={x:this.left+g,y:_e(a,this.top+E+g,this.bottom-e[0].height),line:0},Xg(this.ctx,t.textDirection);const M=w+g;this.legendItems.forEach((R,B)=>{s.strokeStyle=R.fontColor,s.fillStyle=R.fontColor;const L=s.measureText(R.text).width,$=f.textAlign(R.textAlign||(R.textAlign=l.textAlign)),j=S+p+L;let q=v.x,G=v.y;f.setWidth(this.width),P?B>0&&q+j+g>this.right&&(G=v.y+=M,v.line++,q=v.x=_e(a,this.left+g,this.right-i[v.line])):B>0&&G+M>this.bottom&&(q=v.x=q+e[v.line].width+g,v.line++,G=v.y=_e(a,this.top+E+g,this.bottom-e[v.line].height));const ct=f.x(q);if(k(ct,G,R),q=tC($,q+S+p,P?q+j:this.right,t.rtl),O(f.x(q),G,R),P)v.x+=j+g;else if(typeof R.text!="string"){const xt=h.lineHeight;v.y+=up(R,xt)+g}else v.y+=M}),qg(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=be(e.font),s=cn(e.padding);if(!e.display)return;const a=dr(t.rtl,this.left,this.width),l=this.ctx,u=e.position,f=i.size/2,h=s.top+f;let g,m=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),g=this.top+h,m=_e(t.align,m,this.right-p);else{const S=this.columnSizes.reduce((y,w)=>Math.max(y,w.height),0);g=h+_e(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const v=_e(u,m,m+p);l.textAlign=a.textAlign(Lc(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,bs(l,e.text,v,g,i)}_computeTitleHeight(){const t=this.options.title,e=be(t.font),i=cn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,a;if(Gr(t,this.left,this.right)&&Gr(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],Gr(t,s.left,s.left+s.width)&&Gr(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!VD(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=HD(s,i);s&&!a&&Bt(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&Bt(e.onHover,[t,i,this],this)}else i&&Bt(e.onClick,[t,i,this],this)}}function $D(n,t,e,i,s){const a=YD(i,n,t,e),l=UD(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function YD(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+e.size/2+i.measureText(s).width}function UD(n,t,e){let i=n;return typeof t.text!="string"&&(i=up(t,e)),i}function up(n,t){const e=n.text?n.text.length:0;return t*e}function VD(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var XD={id:"legend",_element:Md,start(n,t,e){const i=n.legend=new Md({ctx:n.ctx,options:e,chart:n});an.configure(n,i,e),an.addBox(n,i)},stop(n){an.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;an.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const h=f.controller.getStyle(e?0:void 0),g=cn(h.borderWidth);return{text:t[f.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!f.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:l&&(u||h.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class fp extends Ni{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=ie(i.text)?i.text.length:1;this._padding=cn(i.padding);const a=s*be(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:a,options:l}=this,u=l.align;let f=0,h,g,m;return this.isHorizontal()?(g=_e(u,i,a),m=e+t,h=a-i):(l.position==="left"?(g=i+t,m=_e(u,s,e),f=re*-.5):(g=a-t,m=_e(u,e,s),f=re*.5),h=s-e),{titleX:g,titleY:m,maxWidth:h,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=be(e.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:h}=this._drawArgs(a);bs(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:h,textAlign:Lc(e.align),textBaseline:"middle",translation:[l,u]})}}function qD(n,t){const e=new fp({ctx:n.ctx,options:t,chart:n});an.configure(n,e,t),an.addBox(n,e),n.titleBlock=e}var KD={id:"title",_element:fp,start(n,t,e){qD(n,e)},stop(n){const t=n.titleBlock;an.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;an.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jr={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,a=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),s+=f.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:s/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const f=n[a].element;if(f&&f.hasValue()){const h=f.getCenterPoint(),g=cc(t,h);g<s&&(s=g,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Dn(n,t){return t&&(ie(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Vn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function jD(n,t){const{element:e,datasetIndex:i,index:s}=t,a=n.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(s);return{chart:n,label:l,parsed:a.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:u,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function Td(n,t){const e=n.chart.ctx,{body:i,footer:s,title:a}=n,{boxWidth:l,boxHeight:u}=t,f=be(t.bodyFont),h=be(t.titleFont),g=be(t.footerFont),m=a.length,p=s.length,v=i.length,S=cn(t.padding);let y=S.height,w=0,k=i.reduce((E,M)=>E+M.before.length+M.lines.length+M.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,m&&(y+=m*h.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),k){const E=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;y+=v*E+(k-v)*f.lineHeight+(k-1)*t.bodySpacing}p&&(y+=t.footerMarginTop+p*g.lineHeight+(p-1)*t.footerSpacing);let O=0;const P=function(E){w=Math.max(w,e.measureText(E).width+O)};return e.save(),e.font=h.string,Tt(n.title,P),e.font=f.string,Tt(n.beforeBody.concat(n.afterBody),P),O=t.displayColors?l+2+t.boxPadding:0,Tt(i,E=>{Tt(E.before,P),Tt(E.lines,P),Tt(E.after,P)}),O=0,e.font=g.string,Tt(n.footer,P),e.restore(),w+=S.width,{width:w,height:y}}function GD(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function ZD(n,t,e,i){const{x:s,width:a}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+a+l>t.width||n==="right"&&s-a-l<0)return!0}function JD(n,t,e,i){const{x:s,width:a}=e,{width:l,chartArea:{left:u,right:f}}=n;let h="center";return i==="center"?h=s<=(u+f)/2?"left":"right":s<=a/2?h="left":s>=l-a/2&&(h="right"),ZD(h,n,t,e)&&(h="center"),h}function Ad(n,t,e){const i=e.yAlign||t.yAlign||GD(n,e);return{xAlign:e.xAlign||t.xAlign||JD(n,t,e,i),yAlign:i}}function QD(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function tM(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function Od(n,t,e,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:f}=e,h=s+a,{topLeft:g,topRight:m,bottomLeft:p,bottomRight:v}=os(l);let S=QD(t,u);const y=tM(t,f,h);return f==="center"?u==="left"?S+=h:u==="right"&&(S-=h):u==="left"?S-=Math.max(g,p)+s:u==="right"&&(S+=Math.max(m,v)+s),{x:on(S,0,i.width-t.width),y:on(y,0,i.height-t.height)}}function To(n,t,e){const i=cn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Ed(n){return Dn([],Vn(n))}function eM(n,t,e){return zi(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Id(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const hp={beforeTitle:Yn,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Yn,beforeBody:Yn,beforeLabel:Yn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Lt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Yn,afterBody:Yn,beforeFooter:Yn,footer:Yn,afterFooter:Yn};function Ae(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?hp[t].call(e,i):s}class Pd extends Ni{static positioners=Jr;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,a=new jg(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=eM(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=Ae(i,"beforeTitle",this,t),a=Ae(i,"title",this,t),l=Ae(i,"afterTitle",this,t);let u=[];return u=Dn(u,Vn(s)),u=Dn(u,Vn(a)),u=Dn(u,Vn(l)),u}getBeforeBody(t,e){return Ed(Ae(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return Tt(t,a=>{const l={before:[],lines:[],after:[]},u=Id(i,a);Dn(l.before,Vn(Ae(u,"beforeLabel",this,a))),Dn(l.lines,Ae(u,"label",this,a)),Dn(l.after,Vn(Ae(u,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,e){return Ed(Ae(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Ae(i,"beforeFooter",this,t),a=Ae(i,"footer",this,t),l=Ae(i,"afterFooter",this,t);let u=[];return u=Dn(u,Vn(s)),u=Dn(u,Vn(a)),u=Dn(u,Vn(l)),u}_createItems(t){const e=this._active,i=this.chart.data,s=[],a=[],l=[];let u=[],f,h;for(f=0,h=e.length;f<h;++f)u.push(jD(this.chart,e[f]));return t.filter&&(u=u.filter((g,m,p)=>t.filter(g,m,p,i))),t.itemSort&&(u=u.sort((g,m)=>t.itemSort(g,m,i))),Tt(u,g=>{const m=Id(t.callbacks,g);s.push(Ae(m,"labelColor",this,g)),a.push(Ae(m,"labelPointStyle",this,g)),l.push(Ae(m,"labelTextColor",this,g))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const u=Jr[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=Td(this,i),h=Object.assign({},u,f),g=Ad(this.chart,i,h),m=Od(i,h,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:m.x,y:m.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const a=this.getCaretPosition(t,i,s);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:m}=os(u),{x:p,y:v}=t,{width:S,height:y}=e;let w,k,O,P,E,M;return a==="center"?(E=v+y/2,s==="left"?(w=p,k=w-l,P=E+l,M=E-l):(w=p+S,k=w+l,P=E-l,M=E+l),O=w):(s==="left"?k=p+Math.max(f,g)+l:s==="right"?k=p+S-Math.max(h,m)-l:k=this.caretX,a==="top"?(P=v,E=P-l,w=k-l,O=k+l):(P=v+y,E=P+l,w=k+l,O=k-l),M=P),{x1:w,x2:k,x3:O,y1:P,y2:E,y3:M}}drawTitle(t,e,i){const s=this.title,a=s.length;let l,u,f;if(a){const h=dr(i.rtl,this.x,this.width);for(t.x=To(this,i.titleAlign,i),e.textAlign=h.textAlign(i.titleAlign),e.textBaseline="middle",l=be(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,f=0;f<a;++f)e.fillText(s[f],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,f+1===a&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,s,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:h}=a,g=be(a.bodyFont),m=To(this,"left",a),p=s.x(m),v=f<g.lineHeight?(g.lineHeight-f)/2:0,S=e.y+v;if(a.usePointStyle){const y={radius:Math.min(h,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},w=s.leftForLtr(p,h)+h/2,k=S+f/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,fc(t,y,w,k),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,fc(t,y,w,k)}else{t.lineWidth=Ct(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const y=s.leftForLtr(p,h),w=s.leftForLtr(s.xPlus(p,1),h-2),k=os(l.borderRadius);Object.values(k).some(O=>O!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,hc(t,{x:y,y:S,w:h,h:f,radius:k}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),hc(t,{x:w,y:S+1,w:h-2,h:f-2,radius:k}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(y,S,h,f),t.strokeRect(y,S,h,f),t.fillStyle=l.backgroundColor,t.fillRect(w,S+1,h-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:h,boxPadding:g}=i,m=be(i.bodyFont);let p=m.lineHeight,v=0;const S=dr(i.rtl,this.x,this.width),y=function(L){e.fillText(L,S.x(t.x+v),t.y+p/2),t.y+=p+a},w=S.textAlign(l);let k,O,P,E,M,R,B;for(e.textAlign=l,e.textBaseline="middle",e.font=m.string,t.x=To(this,w,i),e.fillStyle=i.bodyColor,Tt(this.beforeBody,y),v=u&&w!=="right"?l==="center"?h/2+g:h+2+g:0,E=0,R=s.length;E<R;++E){for(k=s[E],O=this.labelTextColors[E],e.fillStyle=O,Tt(k.before,y),P=k.lines,u&&P.length&&(this._drawColorBox(e,t,E,S,i),p=Math.max(m.lineHeight,f)),M=0,B=P.length;M<B;++M)y(P[M]),p=m.lineHeight;Tt(k.after,y)}v=0,p=m.lineHeight,Tt(this.afterBody,y),t.y-=a}drawFooter(t,e,i){const s=this.footer,a=s.length;let l,u;if(a){const f=dr(i.rtl,this.x,this.width);for(t.x=To(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",l=be(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<a;++u)e.fillText(s[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:a,yAlign:l}=this,{x:u,y:f}=t,{width:h,height:g}=i,{topLeft:m,topRight:p,bottomLeft:v,bottomRight:S}=os(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(u+m,f),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(u+h-p,f),e.quadraticCurveTo(u+h,f,u+h,f+p),l==="center"&&a==="right"&&this.drawCaret(t,e,i,s),e.lineTo(u+h,f+g-S),e.quadraticCurveTo(u+h,f+g,u+h-S,f+g),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(u+v,f+g),e.quadraticCurveTo(u,f+g,u,f+g-v),l==="center"&&a==="left"&&this.drawCaret(t,e,i,s),e.lineTo(u,f+m),e.quadraticCurveTo(u,f,u+m,f),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=Jr[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Td(this,t),f=Object.assign({},l,this._size),h=Ad(e,t,f),g=Od(t,f,h,e);(s._to!==g.x||a._to!==g.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=cn(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,e),Xg(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),qg(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:u,index:f})=>{const h=this.chart.getDatasetMeta(u);if(!h)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:h.data[f],index:f}}),a=!Ko(i,s),l=this._positionChanged(s,e);(a||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,i),u=this._positionChanged(l,t),f=e||!Ko(l,a)||u;return f&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:a}=this,l=Jr[a.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}var nM={id:"tooltip",_element:Pd,positioners:Jr,afterInit(n,t,e){e&&(n.tooltip=new Pd({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:hp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const iM=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function rM(n,t,e,i){const s=n.indexOf(t);if(s===-1)return iM(n,t,e,i);const a=n.lastIndexOf(t);return s!==a?e:s}const sM=(n,t)=>n===null?null:on(Math.round(n),0,t);function Ld(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class oM extends wr{static id="category";static defaults={ticks:{callback:Ld}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:a}of e)i[s]===a&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Lt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:rM(i,t,_t(e,t),this._addedLabels),sM(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return Ld.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function aM(n,t){const e=[],{bounds:s,step:a,min:l,max:u,precision:f,count:h,maxTicks:g,maxDigits:m,includeBounds:p}=n,v=a||1,S=g-1,{min:y,max:w}=t,k=!Lt(l),O=!Lt(u),P=!Lt(h),E=(w-y)/(m+1);let M=Wh((w-y)/S/v)*v,R,B,L,$;if(M<1e-14&&!k&&!O)return[{value:y},{value:w}];$=Math.ceil(w/M)-Math.floor(y/M),$>S&&(M=Wh($*M/S/v)*v),Lt(f)||(R=Math.pow(10,f),M=Math.ceil(M*R)/R),s==="ticks"?(B=Math.floor(y/M)*M,L=Math.ceil(w/M)*M):(B=y,L=w),k&&O&&a&&YS((u-l)/a,M/1e3)?($=Math.round(Math.min((u-l)/M,g)),M=(u-l)/$,B=l,L=u):P?(B=k?l:B,L=O?u:L,$=h-1,M=(L-B)/$):($=(L-B)/M,is($,Math.round($),M/1e3)?$=Math.round($):$=Math.ceil($));const j=Math.max(zh(M),zh(B));R=Math.pow(10,Lt(f)?j:f),B=Math.round(B*R)/R,L=Math.round(L*R)/R;let q=0;for(k&&(p&&B!==l?(e.push({value:l}),B<l&&q++,is(Math.round((B+q*M)*R)/R,l,Rd(l,E,n))&&q++):B<l&&q++);q<$;++q){const G=Math.round((B+q*M)*R)/R;if(O&&G>u)break;e.push({value:G})}return O&&p&&L!==u?e.length&&is(e[e.length-1].value,u,Rd(u,E,n))?e[e.length-1].value=u:e.push({value:u}):(!O||L===u)&&e.push({value:L}),e}function Rd(n,t,{horizontal:e,minRotation:i}){const s=Li(i),a=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class lM extends wr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Lt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:a}=this;const l=f=>s=e?s:f,u=f=>a=i?a:f;if(t){const f=br(s),h=br(a);f<0&&h<0?u(0):f>0&&h>0&&l(0)}if(s===a){let f=a===0?1:Math.abs(a*.05);u(a+f),t||l(s-f)}this.min=s,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=aM(s,a);return t.bounds==="ticks"&&US(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Bg(t,this.chart.options.locale,this.options.ticks.format)}}class cM extends lM{static id="linear";static defaults={ticks:{callback:Wg.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ln(t)?t:0,this.max=ln(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Li(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const la={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Le=Object.keys(la);function Fd(n,t){return n-t}function Bd(n,t){if(Lt(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:a}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),ln(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(ms(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,s)),+l)}function Wd(n,t,e,i){const s=Le.length;for(let a=Le.indexOf(n);a<s-1;++a){const l=la[Le[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Le[a]}return Le[s-1]}function uM(n,t,e,i,s){for(let a=Le.length-1;a>=Le.indexOf(e);a--){const l=Le[a];if(la[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return Le[e?Le.indexOf(e):0]}function fM(n){for(let t=Le.indexOf(n)+1,e=Le.length;t<e;++t)if(la[Le[t]].common)return Le[t]}function zd(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=Pc(e,t),a=e[i]>=t?e[i]:e[s];n[a]=!0}}function hM(n,t,e,i){const s=n._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let u,f;for(u=a;u<=l;u=+s.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}function Nd(n,t,e){const i=[],s={},a=t.length;let l,u;for(l=0;l<a;++l)u=t[l],s[u]=l,i.push({value:u,major:!1});return a===0||!e?i:hM(n,i,s,e)}class mc extends wr{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new Jg._date(t.adapters.date);s.init(e),ns(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Bd(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function f(h){!l&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!u&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!l||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),s=ln(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),a=ln(a)&&!isNaN(a)?a:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,u=GS(s,a,l);return this._unit=e.unit||(i.autoSkip?Wd(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):uM(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:fM(this._unit),this.initOffsets(s),t.reverse&&u.reverse(),Nd(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=on(e,0,l),i=on(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||Wd(a.minUnit,e,i,this._getLabelCapacity(e)),u=_t(s.ticks.stepSize,1),f=l==="week"?a.isoWeekday:!1,h=ms(f)||f===!0,g={};let m=e,p,v;if(h&&(m=+t.startOf(m,"isoWeek",f)),m=+t.startOf(m,h?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=s.ticks.source==="data"&&this.getDataTimestamps();for(p=m,v=0;p<i;p=+t.add(p,u,l),v++)zd(g,p,S);return(p===i||s.bounds==="ticks"||v===1)&&zd(g,p,S),Object.keys(g).sort(Fd).map(y=>+y)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,a=this._unit,l=e||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const a=this.options,l=a.ticks.callback;if(l)return Bt(l,[t,e,i],this);const u=a.time.displayFormats,f=this._unit,h=this._majorUnit,g=f&&u[f],m=h&&u[h],p=i[e],v=h&&m&&p&&p.major;return this._adapter.format(t,s||(v?m:g))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=Li(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,a=this._tickFormatFunction(t,0,Nd(this,[t],this._majorUnit),s),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(Bd(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return JS(t.sort(Fd))}}function Ao(n,t,e){let i=0,s=n.length-1,a,l,u,f;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=Ri(n,"pos",t)),{pos:a,time:u}=n[i],{pos:l,time:f}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=Ri(n,"time",t)),{time:a,pos:u}=n[i],{time:l,pos:f}=n[s]);const h=l-a;return h?u+(f-u)*(t-a)/h:u}class uA extends mc{static id="timeseries";static defaults=mc.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ao(e,this.min),this._tableRange=Ao(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],a=[];let l,u,f,h,g;for(l=0,u=t.length;l<u;++l)h=t[l],h>=e&&h<=i&&s.push(h);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)g=s[l+1],f=s[l-1],h=s[l],Math.round((g+f)/2)!==h&&a.push({time:h,pos:l/(u-1)});return a}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Ao(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Ao(this._table,i*this._tableRange+this._minPos,!0)}}const dp={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},dM={ariaLabel:{type:String},ariaDescribedby:{type:String}},gM={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...dp,...dM},pM=Hw[0]==="2"?(n,t)=>Object.assign(n,{attrs:t}):(n,t)=>Object.assign(n,t);function ar(n){return Cg(n)?oc(n):n}function mM(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n;return Cg(t)?new Proxy(n,{}):n}function _M(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function gp(n,t){n.labels=t}function pp(n,t,e){const i=[];n.datasets=t.map(s=>{const a=n.datasets.find(l=>l[e]===s[e]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function bM(n,t){const e={labels:[],datasets:[]};return gp(e,n.labels),pp(e,n.datasets,t),e}const vM=xn({props:gM,setup(n,t){let{expose:e,slots:i}=t;const s=Ht(null),a=Sg(null);e({chart:a});const l=()=>{if(!s.value)return;const{type:h,data:g,options:m,plugins:p,datasetIdKey:v}=n,S=bM(g,v),y=mM(S,g);a.value=new xs(s.value,{type:h,data:y,options:{...m},plugins:p})},u=()=>{const h=oc(a.value);h&&(n.destroyDelay>0?setTimeout(()=>{h.destroy(),a.value=null},n.destroyDelay):(h.destroy(),a.value=null))},f=h=>{h.update(n.updateMode)};return _r(l),xg(u),hs([()=>n.options,()=>n.data],(h,g)=>{let[m,p]=h,[v,S]=g;const y=oc(a.value);if(!y)return;let w=!1;if(m){const k=ar(m),O=ar(v);k&&k!==O&&(_M(y,k),w=!0)}if(p){const k=ar(p.labels),O=ar(S.labels),P=ar(p.datasets),E=ar(S.datasets);k!==O&&(gp(y.config.data,k),w=!0),P&&P!==E&&(pp(y.config.data,P,n.datasetIdKey),w=!0)}w&&bn(()=>{f(y)})},{deep:!0}),()=>ds("canvas",{role:"img",ariaLabel:n.ariaLabel,ariaDescribedby:n.ariaDescribedby,ref:s},[ds("p",{},[i.default?i.default():""])])}});function xM(n,t){return xs.register(t),xn({props:dp,setup(e,i){let{expose:s}=i;const a=Sg(null),l=u=>{a.value=u?.chart};return s({chart:a}),()=>ds(vM,pM({ref:l},{type:n,...e}))}})}const yM=xM("line",yk);var Bo={exports:{}},wM=Bo.exports,Hd;function SM(){return Hd||(Hd=1,function(n,t){(function(e,i){n.exports=i()})(wM,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,a=/\d\d/,l=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,f={},h=function(w){return(w=+w)+(w>68?1900:2e3)},g=function(w){return function(k){this[w]=+k}},m=[/[+-]\d\d:?(\d\d)?|Z/,function(w){(this.zone||(this.zone={})).offset=function(k){if(!k||k==="Z")return 0;var O=k.match(/([+-]|\d\d)/g),P=60*O[1]+(+O[2]||0);return P===0?0:O[0]==="+"?-P:P}(w)}],p=function(w){var k=f[w];return k&&(k.indexOf?k:k.s.concat(k.f))},v=function(w,k){var O,P=f.meridiem;if(P){for(var E=1;E<=24;E+=1)if(w.indexOf(P(E,0,k))>-1){O=E>12;break}}else O=w===(k?"pm":"PM");return O},S={A:[u,function(w){this.afternoon=v(w,!1)}],a:[u,function(w){this.afternoon=v(w,!0)}],Q:[s,function(w){this.month=3*(w-1)+1}],S:[s,function(w){this.milliseconds=100*+w}],SS:[a,function(w){this.milliseconds=10*+w}],SSS:[/\d{3}/,function(w){this.milliseconds=+w}],s:[l,g("seconds")],ss:[l,g("seconds")],m:[l,g("minutes")],mm:[l,g("minutes")],H:[l,g("hours")],h:[l,g("hours")],HH:[l,g("hours")],hh:[l,g("hours")],D:[l,g("day")],DD:[a,g("day")],Do:[u,function(w){var k=f.ordinal,O=w.match(/\d+/);if(this.day=O[0],k)for(var P=1;P<=31;P+=1)k(P).replace(/\[|\]/g,"")===w&&(this.day=P)}],w:[l,g("week")],ww:[a,g("week")],M:[l,g("month")],MM:[a,g("month")],MMM:[u,function(w){var k=p("months"),O=(p("monthsShort")||k.map(function(P){return P.slice(0,3)})).indexOf(w)+1;if(O<1)throw new Error;this.month=O%12||O}],MMMM:[u,function(w){var k=p("months").indexOf(w)+1;if(k<1)throw new Error;this.month=k%12||k}],Y:[/[+-]?\d+/,g("year")],YY:[a,function(w){this.year=h(w)}],YYYY:[/\d{4}/,g("year")],Z:m,ZZ:m};function y(w){var k,O;k=w,O=f&&f.formats;for(var P=(w=k.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(j,q,G){var ct=G&&G.toUpperCase();return q||O[G]||e[G]||O[ct].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(xt,at,ht){return at||ht.slice(1)})})).match(i),E=P.length,M=0;M<E;M+=1){var R=P[M],B=S[R],L=B&&B[0],$=B&&B[1];P[M]=$?{regex:L,parser:$}:R.replace(/^\[|\]$/g,"")}return function(j){for(var q={},G=0,ct=0;G<E;G+=1){var xt=P[G];if(typeof xt=="string")ct+=xt.length;else{var at=xt.regex,ht=xt.parser,yt=j.slice(ct),Dt=at.exec(yt)[0];ht.call(q,Dt),j=j.replace(Dt,"")}}return function(te){var Gt=te.afternoon;if(Gt!==void 0){var bt=te.hours;Gt?bt<12&&(te.hours+=12):bt===12&&(te.hours=0),delete te.afternoon}}(q),q}}return function(w,k,O){O.p.customParseFormat=!0,w&&w.parseTwoDigitYear&&(h=w.parseTwoDigitYear);var P=k.prototype,E=P.parse;P.parse=function(M){var R=M.date,B=M.utc,L=M.args;this.$u=B;var $=L[1];if(typeof $=="string"){var j=L[2]===!0,q=L[3]===!0,G=j||q,ct=L[2];q&&(ct=L[2]),f=this.$locale(),!j&&ct&&(f=O.Ls[ct]),this.$d=function(yt,Dt,te,Gt){try{if(["x","X"].indexOf(Dt)>-1)return new Date((Dt==="X"?1e3:1)*yt);var bt=y(Dt)(yt),le=bt.year,Se=bt.month,Re=bt.day,ce=bt.hours,ue=bt.minutes,N=bt.seconds,it=bt.milliseconds,rt=bt.zone,Et=bt.week,Rt=new Date,fe=Re||(le||Se?1:Rt.getDate()),Ce=le||Rt.getFullYear(),At=0;le&&!Se||(At=Se>0?Se-1:Rt.getMonth());var $t,yn=ce||0,he=ue||0,Hi=N||0,Sr=it||0;return rt?new Date(Date.UTC(Ce,At,fe,yn,he,Hi,Sr+60*rt.offset*1e3)):te?new Date(Date.UTC(Ce,At,fe,yn,he,Hi,Sr)):($t=new Date(Ce,At,fe,yn,he,Hi,Sr),Et&&($t=Gt($t).week(Et).toDate()),$t)}catch{return new Date("")}}(R,$,B,O),this.init(),ct&&ct!==!0&&(this.$L=this.locale(ct).$L),G&&R!=this.format($)&&(this.$d=new Date("")),f={}}else if($ instanceof Array)for(var xt=$.length,at=1;at<=xt;at+=1){L[1]=$[at-1];var ht=O.apply(this,L);if(ht.isValid()){this.$d=ht.$d,this.$L=ht.$L,this.init();break}at===xt&&(this.$d=new Date(""))}else E.call(this,M)}}})}(Bo)),Bo.exports}var CM=SM();const kM=ys(CM);var Wo={exports:{}},DM=Wo.exports,$d;function MM(){return $d||($d=1,function(n,t){(function(e,i){n.exports=i()})(DM,function(){return function(e,i){var s=i.prototype,a=s.format;s.format=function(l){var u=this,f=this.$locale();if(!this.isValid())return a.bind(this)(l);var h=this.$utils(),g=(l||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(m){switch(m){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return f.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return f.ordinal(u.week(),"W");case"w":case"ww":return h.s(u.week(),m==="w"?1:2,"0");case"W":case"WW":return h.s(u.isoWeek(),m==="W"?1:2,"0");case"k":case"kk":return h.s(String(u.$H===0?24:u.$H),m==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return m}});return a.bind(this)(g)}}})}(Wo)),Wo.exports}var TM=MM();const AM=ys(TM);var zo={exports:{}},OM=zo.exports,Yd;function EM(){return Yd||(Yd=1,function(n,t){(function(e,i){n.exports=i()})(OM,function(){var e="month",i="quarter";return function(s,a){var l=a.prototype;l.quarter=function(h){return this.$utils().u(h)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(h-1))};var u=l.add;l.add=function(h,g){return h=Number(h),this.$utils().p(g)===i?this.add(3*h,e):u.bind(this)(h,g)};var f=l.startOf;l.startOf=function(h,g){var m=this.$utils(),p=!!m.u(g)||g;if(m.p(h)===i){var v=this.quarter()-1;return p?this.month(3*v).startOf(e).startOf("day"):this.month(3*v+2).endOf(e).endOf("day")}return f.bind(this)(h,g)}}})}(zo)),zo.exports}var IM=EM();const PM=ys(IM);var No={exports:{}},LM=No.exports,Ud;function RM(){return Ud||(Ud=1,function(n,t){(function(e,i){n.exports=i()})(LM,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(i,s,a){var l=s.prototype,u=l.format;a.en.formats=e,l.format=function(f){f===void 0&&(f="YYYY-MM-DDTHH:mm:ssZ");var h=this.$locale().formats,g=function(m,p){return m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(v,S,y){var w=y&&y.toUpperCase();return S||p[y]||e[y]||p[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(k,O,P){return O||P.slice(1)})})}(f,h===void 0?{}:h);return u.call(this,g)}}})}(No)),No.exports}var FM=RM();const BM=ys(FM);var Ho={exports:{}},WM=Ho.exports,Vd;function zM(){return Vd||(Vd=1,function(n,t){(function(e,i){n.exports=i()})(WM,function(){var e="day";return function(i,s,a){var l=function(h){return h.add(4-h.isoWeekday(),e)},u=s.prototype;u.isoWeekYear=function(){return l(this).year()},u.isoWeek=function(h){if(!this.$utils().u(h))return this.add(7*(h-this.isoWeek()),e);var g,m,p,v,S=l(this),y=(g=this.isoWeekYear(),m=this.$u,p=(m?a.utc:a)().year(g).startOf("year"),v=4-p.isoWeekday(),p.isoWeekday()>4&&(v+=7),p.add(v,e));return S.diff(y,"week")+1},u.isoWeekday=function(h){return this.$utils().u(h)?this.day()||7:this.day(this.day()%7?h:h-7)};var f=u.startOf;u.startOf=function(h,g){var m=this.$utils(),p=!!m.u(g)||g;return m.p(h)==="isoweek"?p?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):f.bind(this)(h,g)}}})}(Ho)),Ho.exports}var NM=zM();const HM=ys(NM);Pt.extend(AM);Pt.extend(PM);Pt.extend(BM);Pt.extend(kM);Pt.extend(HM);var $M={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Jg._date.override({formats:function(){return $M},parse:function(t,e){var i=typeof t;return t===null||i==="undefined"?null:i==="string"&&typeof e=="string"?Pt(t,e).isValid()?Pt(t,e).valueOf():null:t instanceof Pt?null:Pt(t).isValid()?Pt(t).valueOf():null},format:function(t,e){return Pt(t).format(e)},add:function(t,e,i){return Pt(t).add(e,i).valueOf()},diff:function(t,e,i){return Pt(t).diff(Pt(e),i)},startOf:function(t,e,i){if(e==="isoWeek"){var s=typeof i=="number"&&i>0&&i<7?i:1;return Pt(t).isoWeekday(s).startOf("day").valueOf()}return Pt(t).startOf(e).valueOf()},endOf:function(t,e){return Pt(t).endOf(e).valueOf()}});const YM={key:1,class:"error-placeholder"},UM={__name:"KdjChart",props:{stockId:{type:String,required:!0},width:{type:Number,default:200},height:{type:Number,default:100}},emits:["kdjClick"],setup(n,{emit:t}){xs.register(oM,cM,ND,zD,KD,nM,XD,mc);const e={id:"kdjDisplay",afterDatasetsDraw:(m,p,v)=>{if(!v.enabled||!v.lastKdj)return;const{ctx:S,chartArea:y}=m,{lastKdj:w}=v,k=y.right-75,O=y.bottom-15;S.save(),S.fillStyle="rgba(255, 255, 255, 0.95)",S.strokeStyle="rgba(0, 0, 0, 0.15)",S.lineWidth=1;const P=k-5,E=O-12,M=70,R=20;S.fillRect(P,E,M,R),S.strokeRect(P,E,M,R),S.font="bold 11px Arial",S.textAlign="left",S.fillStyle="#4286f5",S.fillText(`K: ${w.k}`,k,O),S.fillStyle="#e75c9a",S.fillText(`D: ${w.d}`,k+35,O),S.restore()}};xs.register(e);const i=n,s=t,a=Tc(),l=Ht(null),u=ne(()=>{const m=a.userStockList.find(p=>p.id===i.stockId);return m?.data?.weeklyKdj?m.data.weeklyKdj.filter(p=>p&&Array.isArray(p)&&p.length>=4&&typeof p[1]=="number"&&!isNaN(p[1])&&typeof p[2]=="number"&&!isNaN(p[2])&&typeof p[3]=="number"&&!isNaN(p[3])).map(p=>({x:Pt(p[0],"YYYYMMDD").toDate(),k:p[1],d:p[2],j:p[3]})):[]}),f=ne(()=>{const m=u.value;if(!m||m.length===0)return{datasets:[]};const p=m.map(S=>({x:S.x,y:S.k})),v=m.map(S=>({x:S.x,y:S.d}));return{datasets:[{label:"K",data:p,borderColor:"#4286f5",backgroundColor:"rgba(66, 134, 245, 0.1)",borderWidth:2,fill:!1,tension:0,pointRadius:0,pointHoverRadius:4,pointBackgroundColor:"#4286f5",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBorderWidth:2},{label:"D",data:v,borderColor:"#e75c9a",backgroundColor:"rgba(231, 92, 154, 0.1)",borderWidth:2,fill:!1,tension:0,pointRadius:0,pointHoverRadius:4,pointBackgroundColor:"#e75c9a",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverBorderWidth:2}]}}),h=ne(()=>{const m=u.value;return m&&m.length>0?m[m.length-1]:null}),g=ne(()=>{const m=h.value;return{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"nearest",intersect:!1,backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#333",bodyColor:"#333",borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,cornerRadius:6,displayColors:!1,padding:8,titleFont:{size:12,weight:"bold"},bodyFont:{size:11},callbacks:{title:function(p){const v=p[0].parsed.x;return Pt(v).format("YYYY-MM-DD(dd)")},label:function(p){const v=p.dataset.label,S=p.parsed.y.toFixed(2);return`${v}: ${S}`},afterLabel:function(p){const v=p.dataIndex,S=u.value;if(S&&S[v]){const y=S[v];if(p.datasetIndex===0)return[`K: ${y.k.toFixed(2)}`,`D: ${y.d.toFixed(2)}`,`J: ${y.j.toFixed(2)}`]}return[]}}},kdjDisplay:{enabled:!!m,lastKdj:m?{k:m.k.toFixed(2),d:m.d.toFixed(2),j:m.j.toFixed(2),date:Pt(m.x).format("YYYY/MM/DD")}:null}},scales:{x:{type:"time",time:{unit:"week",displayFormats:{week:"MM/DD"}},display:!1,grid:{display:!1},ticks:{display:!1},offset:!1,bounds:"data"},y:{type:"linear",position:"right",display:!0,min:0,max:100,border:{display:!1},grid:{drawTicks:!1,color:p=>{const v=p.tick.value;return[0,20,50,80,100].includes(v)?"rgba(200, 200, 200, 0.3)":"transparent"}},ticks:{stepSize:10,autoSkip:!1,color:"#888",font:{size:12},padding:-15,callback:p=>p===20||p===50||p===80?p:""}}},animation:!1,interaction:{mode:"nearest",intersect:!1,includeInvisible:!1},hover:{mode:"nearest",intersect:!1,animationDuration:200},onClick:(p,v,S)=>{console.log("Chart onClick triggered"),console.log("Event object:",p);const y=S.canvas.getBoundingClientRect();let w,k;if(p.native)w=p.native.offsetX||p.native.clientX-y.left,k=p.native.offsetY||p.native.clientY-y.top;else if(p.offsetX!==void 0)w=p.offsetX,k=p.offsetY;else if(p.clientX!==void 0)w=p.clientX-y.left,k=p.clientY-y.top;else{console.log("Cannot determine click position");return}console.log("Click position:",{x:w,y:k}),console.log("Canvas rect:",y);const O=S.chartArea,P={left:O.right-80,right:O.right-5,top:O.bottom-25,bottom:O.bottom-5};if(console.log("KDJ area:",P),w>=P.left&&w<=P.right&&k>=P.top&&k<=P.bottom){console.log("Clicked in KDJ area");const E=h.value;E&&(console.log("Emitting kdjClick event:",E),s("kdjClick",{k:E.k.toFixed(2),d:E.d.toFixed(2),j:E.j.toFixed(2),date:Pt(E.x).format("YYYY/MM/DD")}))}else console.log("Clicked outside KDJ area")}}});return(m,p)=>(Ee(),sn("div",{ref_key:"chartContainer",ref:l,class:"kdj-chart",style:{width:"100%",height:"100%"}},[f.value.datasets.length>0?(Ee(),yg(me(yM),{key:0,data:f.value,options:g.value},null,8,["data","options"])):(Ee(),sn("div",YM,"KDJ 圖表暫不可用"))],512))}},VM=kc(UM,[["__scopeId","data-v-ac71bf60"]]),XM={class:"stock-name"},qM={class:"stock-name-main"},KM={class:"stock-name-left"},jM={class:"name highlight"},GM={class:"code"},ZM={class:"stock-name-right"},JM={class:"stock-progress-bar"},QM={class:"progress-text"},tT={__name:"StockName",props:{name:String,code:String,price:[String,Number],change:[String,Number],changePercent:[String,Number],priceClass:String,progress:Number,progressText:String},setup(n){return(t,e)=>(Ee(),sn("div",XM,[dt("div",qM,[dt("div",KM,[dt("div",jM,Ie(n.name),1),dt("div",GM,Ie(n.code),1),e[0]||(e[0]=dt("div",{class:"star-area"},[dt("span",{class:"star"},"★")],-1))]),dt("div",ZM,[dt("div",{class:ac(["price",n.priceClass])},Ie(n.price),3),dt("div",{class:ac(["change",n.priceClass])},Ie(n.change>0?"+":"")+Ie(n.change)+" ("+Ie(n.changePercent)+"%) ",3)])]),dt("div",JM,[dt("div",{class:"stock-progress-inner",style:wg({width:(n.progress||0)+"%"})},[dt("span",QM,Ie(n.progressText||(n.progress||0)+"%"),1)],4)])]))}},eT=kc(tT,[["__scopeId","data-v-c759bb7e"]]);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Xd(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,i)}return e}function In(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Xd(Object(e),!0).forEach(function(i){nT(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Xd(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function $o(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$o=function(t){return typeof t}:$o=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(n)}function nT(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Gn(){return Gn=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Gn.apply(this,arguments)}function iT(n,t){if(n==null)return{};var e={},i=Object.keys(n),s,a;for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&(e[s]=n[s]);return e}function rT(n,t){if(n==null)return{};var e=iT(n,t),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}var sT="1.14.0";function jn(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Zn=jn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ss=jn(/Edge/i),qd=jn(/firefox/i),as=jn(/safari/i)&&!jn(/chrome/i)&&!jn(/android/i),mp=jn(/iP(ad|od|hone)/i),oT=jn(/chrome/i)&&jn(/android/i),_p={capture:!1,passive:!1};function St(n,t,e){n.addEventListener(t,e,!Zn&&_p)}function vt(n,t,e){n.removeEventListener(t,e,!Zn&&_p)}function ea(n,t){if(t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch{return!1}return!1}}function aT(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function Tn(n,t,e,i){if(n){e=e||document;do{if(t!=null&&(t[0]===">"?n.parentNode===e&&ea(n,t):ea(n,t))||i&&n===e)return n;if(n===e)break}while(n=aT(n))}return null}var Kd=/\s+/g;function $e(n,t,e){if(n&&t)if(n.classList)n.classList[e?"add":"remove"](t);else{var i=(" "+n.className+" ").replace(Kd," ").replace(" "+t+" "," ");n.className=(i+(e?" "+t:"")).replace(Kd," ")}}function tt(n,t,e){var i=n&&n.style;if(i){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(e=n.currentStyle),t===void 0?e:e[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=e+(typeof e=="string"?"":"px")}}function gr(n,t){var e="";if(typeof n=="string")e=n;else do{var i=tt(n,"transform");i&&i!=="none"&&(e=i+" "+e)}while(!t&&(n=n.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(e)}function bp(n,t,e){if(n){var i=n.getElementsByTagName(t),s=0,a=i.length;if(e)for(;s<a;s++)e(i[s],s);return i}return[]}function En(){var n=document.scrollingElement;return n||document.documentElement}function Qt(n,t,e,i,s){if(!(!n.getBoundingClientRect&&n!==window)){var a,l,u,f,h,g,m;if(n!==window&&n.parentNode&&n!==En()?(a=n.getBoundingClientRect(),l=a.top,u=a.left,f=a.bottom,h=a.right,g=a.height,m=a.width):(l=0,u=0,f=window.innerHeight,h=window.innerWidth,g=window.innerHeight,m=window.innerWidth),(t||e)&&n!==window&&(s=s||n.parentNode,!Zn))do if(s&&s.getBoundingClientRect&&(tt(s,"transform")!=="none"||e&&tt(s,"position")!=="static")){var p=s.getBoundingClientRect();l-=p.top+parseInt(tt(s,"border-top-width")),u-=p.left+parseInt(tt(s,"border-left-width")),f=l+a.height,h=u+a.width;break}while(s=s.parentNode);if(i&&n!==window){var v=gr(s||n),S=v&&v.a,y=v&&v.d;v&&(l/=y,u/=S,m/=S,g/=y,f=l+g,h=u+m)}return{top:l,left:u,bottom:f,right:h,width:m,height:g}}}function jd(n,t,e){for(var i=fi(n,!0),s=Qt(n)[t];i;){var a=Qt(i)[e],l=void 0;if(l=s>=a,!l)return i;if(i===En())break;i=fi(i,!1)}return!1}function yr(n,t,e,i){for(var s=0,a=0,l=n.children;a<l.length;){if(l[a].style.display!=="none"&&l[a]!==et.ghost&&(i||l[a]!==et.dragged)&&Tn(l[a],e.draggable,n,!1)){if(s===t)return l[a];s++}a++}return null}function Uc(n,t){for(var e=n.lastElementChild;e&&(e===et.ghost||tt(e,"display")==="none"||t&&!ea(e,t));)e=e.previousElementSibling;return e||null}function rn(n,t){var e=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==et.clone&&(!t||ea(n,t))&&e++;return e}function Gd(n){var t=0,e=0,i=En();if(n)do{var s=gr(n),a=s.a,l=s.d;t+=n.scrollLeft*a,e+=n.scrollTop*l}while(n!==i&&(n=n.parentNode));return[t,e]}function lT(n,t){for(var e in n)if(n.hasOwnProperty(e)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===n[e][i])return Number(e)}return-1}function fi(n,t){if(!n||!n.getBoundingClientRect)return En();var e=n,i=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var s=tt(e);if(e.clientWidth<e.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return En();if(i||t)return e;i=!0}}while(e=e.parentNode);return En()}function cT(n,t){if(n&&t)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function ql(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}var ls;function vp(n,t){return function(){if(!ls){var e=arguments,i=this;e.length===1?n.call(i,e[0]):n.apply(i,e),ls=setTimeout(function(){ls=void 0},t)}}}function uT(){clearTimeout(ls),ls=void 0}function xp(n,t,e){n.scrollLeft+=t,n.scrollTop+=e}function yp(n){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):e?e(n).clone(!0)[0]:n.cloneNode(!0)}var Ue="Sortable"+new Date().getTime();function fT(){var n=[],t;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(s){if(!(tt(s,"display")==="none"||s===et.ghost)){n.push({target:s,rect:Qt(s)});var a=In({},n[n.length-1].rect);if(s.thisAnimationDuration){var l=gr(s,!0);l&&(a.top-=l.f,a.left-=l.e)}s.fromRect=a}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(lT(n,{target:i}),1)},animateAll:function(i){var s=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var a=!1,l=0;n.forEach(function(u){var f=0,h=u.target,g=h.fromRect,m=Qt(h),p=h.prevFromRect,v=h.prevToRect,S=u.rect,y=gr(h,!0);y&&(m.top-=y.f,m.left-=y.e),h.toRect=m,h.thisAnimationDuration&&ql(p,m)&&!ql(g,m)&&(S.top-m.top)/(S.left-m.left)===(g.top-m.top)/(g.left-m.left)&&(f=dT(S,p,v,s.options)),ql(m,g)||(h.prevFromRect=g,h.prevToRect=m,f||(f=s.options.animation),s.animate(h,S,m,f)),f&&(a=!0,l=Math.max(l,f),clearTimeout(h.animationResetTimer),h.animationResetTimer=setTimeout(function(){h.animationTime=0,h.prevFromRect=null,h.fromRect=null,h.prevToRect=null,h.thisAnimationDuration=null},f),h.thisAnimationDuration=f)}),clearTimeout(t),a?t=setTimeout(function(){typeof i=="function"&&i()},l):typeof i=="function"&&i(),n=[]},animate:function(i,s,a,l){if(l){tt(i,"transition",""),tt(i,"transform","");var u=gr(this.el),f=u&&u.a,h=u&&u.d,g=(s.left-a.left)/(f||1),m=(s.top-a.top)/(h||1);i.animatingX=!!g,i.animatingY=!!m,tt(i,"transform","translate3d("+g+"px,"+m+"px,0)"),this.forRepaintDummy=hT(i),tt(i,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),tt(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){tt(i,"transition",""),tt(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},l)}}}}function hT(n){return n.offsetWidth}function dT(n,t,e,i){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*i.animation}var lr=[],Kl={initializeByDefault:!0},Cs={mount:function(t){for(var e in Kl)Kl.hasOwnProperty(e)&&!(e in t)&&(t[e]=Kl[e]);lr.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),lr.push(t)},pluginEvent:function(t,e,i){var s=this;this.eventCanceled=!1,i.cancel=function(){s.eventCanceled=!0};var a=t+"Global";lr.forEach(function(l){e[l.pluginName]&&(e[l.pluginName][a]&&e[l.pluginName][a](In({sortable:e},i)),e.options[l.pluginName]&&e[l.pluginName][t]&&e[l.pluginName][t](In({sortable:e},i)))})},initializePlugins:function(t,e,i,s){lr.forEach(function(u){var f=u.pluginName;if(!(!t.options[f]&&!u.initializeByDefault)){var h=new u(t,e,t.options);h.sortable=t,h.options=t.options,t[f]=h,Gn(i,h.defaults)}});for(var a in t.options)if(t.options.hasOwnProperty(a)){var l=this.modifyOption(t,a,t.options[a]);typeof l<"u"&&(t.options[a]=l)}},getEventProperties:function(t,e){var i={};return lr.forEach(function(s){typeof s.eventProperties=="function"&&Gn(i,s.eventProperties.call(e[s.pluginName],t))}),i},modifyOption:function(t,e,i){var s;return lr.forEach(function(a){t[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[e]=="function"&&(s=a.optionListeners[e].call(t[a.pluginName],i))}),s}};function gT(n){var t=n.sortable,e=n.rootEl,i=n.name,s=n.targetEl,a=n.cloneEl,l=n.toEl,u=n.fromEl,f=n.oldIndex,h=n.newIndex,g=n.oldDraggableIndex,m=n.newDraggableIndex,p=n.originalEvent,v=n.putSortable,S=n.extraEventProperties;if(t=t||e&&e[Ue],!!t){var y,w=t.options,k="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Zn&&!Ss?y=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(i,!0,!0)),y.to=l||e,y.from=u||e,y.item=s||e,y.clone=a,y.oldIndex=f,y.newIndex=h,y.oldDraggableIndex=g,y.newDraggableIndex=m,y.originalEvent=p,y.pullMode=v?v.lastPutMode:void 0;var O=In(In({},S),Cs.getEventProperties(i,t));for(var P in O)y[P]=O[P];e&&e.dispatchEvent(y),w[k]&&w[k].call(t,y)}}var pT=["evt"],Oe=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.evt,a=rT(i,pT);Cs.pluginEvent.bind(et)(t,e,In({dragEl:Y,parentEl:Ut,ghostEl:ot,rootEl:zt,nextEl:Pi,lastDownEl:Yo,cloneEl:Vt,cloneHidden:ci,dragStarted:Qr,putSortable:ae,activeSortable:et.active,originalEvent:s,oldIndex:fr,oldDraggableIndex:cs,newIndex:Ye,newDraggableIndex:li,hideGhostForTarget:kp,unhideGhostForTarget:Dp,cloneNowHidden:function(){ci=!0},cloneNowShown:function(){ci=!1},dispatchSortableEvent:function(u){we({sortable:e,name:u,originalEvent:s})}},a))};function we(n){gT(In({putSortable:ae,cloneEl:Vt,targetEl:Y,rootEl:zt,oldIndex:fr,oldDraggableIndex:cs,newIndex:Ye,newDraggableIndex:li},n))}var Y,Ut,ot,zt,Pi,Yo,Vt,ci,fr,Ye,cs,li,Oo,ae,ur=!1,na=!1,ia=[],Ti,mn,jl,Gl,Zd,Jd,Qr,cr,us,fs=!1,Eo=!1,Uo,pe,Zl=[],_c=!1,ra=[],ca=typeof document<"u",Io=mp,Qd=Ss||Zn?"cssFloat":"float",mT=ca&&!oT&&!mp&&"draggable"in document.createElement("div"),wp=function(){if(ca){if(Zn)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Sp=function(t,e){var i=tt(t),s=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),a=yr(t,0,e),l=yr(t,1,e),u=a&&tt(a),f=l&&tt(l),h=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+Qt(a).width,g=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+Qt(l).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&u.float&&u.float!=="none"){var m=u.float==="left"?"left":"right";return l&&(f.clear==="both"||f.clear===m)?"vertical":"horizontal"}return a&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||h>=s&&i[Qd]==="none"||l&&i[Qd]==="none"&&h+g>s)?"vertical":"horizontal"},_T=function(t,e,i){var s=i?t.left:t.top,a=i?t.right:t.bottom,l=i?t.width:t.height,u=i?e.left:e.top,f=i?e.right:e.bottom,h=i?e.width:e.height;return s===u||a===f||s+l/2===u+h/2},bT=function(t,e){var i;return ia.some(function(s){var a=s[Ue].options.emptyInsertThreshold;if(!(!a||Uc(s))){var l=Qt(s),u=t>=l.left-a&&t<=l.right+a,f=e>=l.top-a&&e<=l.bottom+a;if(u&&f)return i=s}}),i},Cp=function(t){function e(a,l){return function(u,f,h,g){var m=u.options.group.name&&f.options.group.name&&u.options.group.name===f.options.group.name;if(a==null&&(l||m))return!0;if(a==null||a===!1)return!1;if(l&&a==="clone")return a;if(typeof a=="function")return e(a(u,f,h,g),l)(u,f,h,g);var p=(l?u:f).options.group.name;return a===!0||typeof a=="string"&&a===p||a.join&&a.indexOf(p)>-1}}var i={},s=t.group;(!s||$o(s)!="object")&&(s={name:s}),i.name=s.name,i.checkPull=e(s.pull,!0),i.checkPut=e(s.put),i.revertClone=s.revertClone,t.group=i},kp=function(){!wp&&ot&&tt(ot,"display","none")},Dp=function(){!wp&&ot&&tt(ot,"display","")};ca&&document.addEventListener("click",function(n){if(na)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),na=!1,!1},!0);var Ai=function(t){if(Y){t=t.touches?t.touches[0]:t;var e=bT(t.clientX,t.clientY);if(e){var i={};for(var s in t)t.hasOwnProperty(s)&&(i[s]=t[s]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[Ue]._onDragOver(i)}}},vT=function(t){Y&&Y.parentNode[Ue]._isOutsideThisEl(t.target)};function et(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=Gn({},t),n[Ue]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Sp(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,u){l.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:et.supportPointer!==!1&&"PointerEvent"in window&&!as,emptyInsertThreshold:5};Cs.initializePlugins(this,n,e);for(var i in e)!(i in t)&&(t[i]=e[i]);Cp(t);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=t.forceFallback?!1:mT,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?St(n,"pointerdown",this._onTapStart):(St(n,"mousedown",this._onTapStart),St(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(St(n,"dragover",this),St(n,"dragenter",this)),ia.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Gn(this,fT())}et.prototype={constructor:et,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(cr=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,Y):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,i=this.el,s=this.options,a=s.preventOnFilter,l=t.type,u=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,f=(u||t).target,h=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||f,g=s.filter;if(MT(i),!Y&&!(/mousedown|pointerdown/.test(l)&&t.button!==0||s.disabled)&&!h.isContentEditable&&!(!this.nativeDraggable&&as&&f&&f.tagName.toUpperCase()==="SELECT")&&(f=Tn(f,s.draggable,i,!1),!(f&&f.animated)&&Yo!==f)){if(fr=rn(f),cs=rn(f,s.draggable),typeof g=="function"){if(g.call(this,t,f,this)){we({sortable:e,rootEl:h,name:"filter",targetEl:f,toEl:i,fromEl:i}),Oe("filter",e,{evt:t}),a&&t.cancelable&&t.preventDefault();return}}else if(g&&(g=g.split(",").some(function(m){if(m=Tn(h,m.trim(),i,!1),m)return we({sortable:e,rootEl:m,name:"filter",targetEl:f,fromEl:i,toEl:i}),Oe("filter",e,{evt:t}),!0}),g)){a&&t.cancelable&&t.preventDefault();return}s.handle&&!Tn(h,s.handle,i,!1)||this._prepareDragStart(t,u,f)}}},_prepareDragStart:function(t,e,i){var s=this,a=s.el,l=s.options,u=a.ownerDocument,f;if(i&&!Y&&i.parentNode===a){var h=Qt(i);if(zt=a,Y=i,Ut=Y.parentNode,Pi=Y.nextSibling,Yo=i,Oo=l.group,et.dragged=Y,Ti={target:Y,clientX:(e||t).clientX,clientY:(e||t).clientY},Zd=Ti.clientX-h.left,Jd=Ti.clientY-h.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,Y.style["will-change"]="all",f=function(){if(Oe("delayEnded",s,{evt:t}),et.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!qd&&s.nativeDraggable&&(Y.draggable=!0),s._triggerDragStart(t,e),we({sortable:s,name:"choose",originalEvent:t}),$e(Y,l.chosenClass,!0)},l.ignore.split(",").forEach(function(g){bp(Y,g.trim(),Jl)}),St(u,"dragover",Ai),St(u,"mousemove",Ai),St(u,"touchmove",Ai),St(u,"mouseup",s._onDrop),St(u,"touchend",s._onDrop),St(u,"touchcancel",s._onDrop),qd&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Y.draggable=!0),Oe("delayStart",this,{evt:t}),l.delay&&(!l.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(Ss||Zn))){if(et.eventCanceled){this._onDrop();return}St(u,"mouseup",s._disableDelayedDrag),St(u,"touchend",s._disableDelayedDrag),St(u,"touchcancel",s._disableDelayedDrag),St(u,"mousemove",s._delayedDragTouchMoveHandler),St(u,"touchmove",s._delayedDragTouchMoveHandler),l.supportPointer&&St(u,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(f,l.delay)}else f()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Y&&Jl(Y),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;vt(t,"mouseup",this._disableDelayedDrag),vt(t,"touchend",this._disableDelayedDrag),vt(t,"touchcancel",this._disableDelayedDrag),vt(t,"mousemove",this._delayedDragTouchMoveHandler),vt(t,"touchmove",this._delayedDragTouchMoveHandler),vt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?St(document,"pointermove",this._onTouchMove):e?St(document,"touchmove",this._onTouchMove):St(document,"mousemove",this._onTouchMove):(St(Y,"dragend",this),St(zt,"dragstart",this._onDragStart));try{document.selection?Vo(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(ur=!1,zt&&Y){Oe("dragStarted",this,{evt:e}),this.nativeDraggable&&St(document,"dragover",vT);var i=this.options;!t&&$e(Y,i.dragClass,!1),$e(Y,i.ghostClass,!0),et.active=this,t&&this._appendGhost(),we({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(mn){this._lastX=mn.clientX,this._lastY=mn.clientY,kp();for(var t=document.elementFromPoint(mn.clientX,mn.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(mn.clientX,mn.clientY),t!==e);)e=t;if(Y.parentNode[Ue]._isOutsideThisEl(t),e)do{if(e[Ue]){var i=void 0;if(i=e[Ue]._onDragOver({clientX:mn.clientX,clientY:mn.clientY,target:t,rootEl:e}),i&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Dp()}},_onTouchMove:function(t){if(Ti){var e=this.options,i=e.fallbackTolerance,s=e.fallbackOffset,a=t.touches?t.touches[0]:t,l=ot&&gr(ot,!0),u=ot&&l&&l.a,f=ot&&l&&l.d,h=Io&&pe&&Gd(pe),g=(a.clientX-Ti.clientX+s.x)/(u||1)+(h?h[0]-Zl[0]:0)/(u||1),m=(a.clientY-Ti.clientY+s.y)/(f||1)+(h?h[1]-Zl[1]:0)/(f||1);if(!et.active&&!ur){if(i&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(ot){l?(l.e+=g-(jl||0),l.f+=m-(Gl||0)):l={a:1,b:0,c:0,d:1,e:g,f:m};var p="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");tt(ot,"webkitTransform",p),tt(ot,"mozTransform",p),tt(ot,"msTransform",p),tt(ot,"transform",p),jl=g,Gl=m,mn=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ot){var t=this.options.fallbackOnBody?document.body:zt,e=Qt(Y,!0,Io,!0,t),i=this.options;if(Io){for(pe=t;tt(pe,"position")==="static"&&tt(pe,"transform")==="none"&&pe!==document;)pe=pe.parentNode;pe!==document.body&&pe!==document.documentElement?(pe===document&&(pe=En()),e.top+=pe.scrollTop,e.left+=pe.scrollLeft):pe=En(),Zl=Gd(pe)}ot=Y.cloneNode(!0),$e(ot,i.ghostClass,!1),$e(ot,i.fallbackClass,!0),$e(ot,i.dragClass,!0),tt(ot,"transition",""),tt(ot,"transform",""),tt(ot,"box-sizing","border-box"),tt(ot,"margin",0),tt(ot,"top",e.top),tt(ot,"left",e.left),tt(ot,"width",e.width),tt(ot,"height",e.height),tt(ot,"opacity","0.8"),tt(ot,"position",Io?"absolute":"fixed"),tt(ot,"zIndex","100000"),tt(ot,"pointerEvents","none"),et.ghost=ot,t.appendChild(ot),tt(ot,"transform-origin",Zd/parseInt(ot.style.width)*100+"% "+Jd/parseInt(ot.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,s=t.dataTransfer,a=i.options;if(Oe("dragStart",this,{evt:t}),et.eventCanceled){this._onDrop();return}Oe("setupClone",this),et.eventCanceled||(Vt=yp(Y),Vt.draggable=!1,Vt.style["will-change"]="",this._hideClone(),$e(Vt,this.options.chosenClass,!1),et.clone=Vt),i.cloneId=Vo(function(){Oe("clone",i),!et.eventCanceled&&(i.options.removeCloneOnHide||zt.insertBefore(Vt,Y),i._hideClone(),we({sortable:i,name:"clone"}))}),!e&&$e(Y,a.dragClass,!0),e?(na=!0,i._loopId=setInterval(i._emulateDragOver,50)):(vt(document,"mouseup",i._onDrop),vt(document,"touchend",i._onDrop),vt(document,"touchcancel",i._onDrop),s&&(s.effectAllowed="move",a.setData&&a.setData.call(i,s,Y)),St(document,"drop",i),tt(Y,"transform","translateZ(0)")),ur=!0,i._dragStartId=Vo(i._dragStarted.bind(i,e,t)),St(document,"selectstart",i),Qr=!0,as&&tt(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,i=t.target,s,a,l,u=this.options,f=u.group,h=et.active,g=Oo===f,m=u.sort,p=ae||h,v,S=this,y=!1;if(_c)return;function w(Dt,te){Oe(Dt,S,In({evt:t,isOwner:g,axis:v?"vertical":"horizontal",revert:l,dragRect:s,targetRect:a,canSort:m,fromSortable:p,target:i,completed:O,onMove:function(bt,le){return Po(zt,e,Y,s,bt,Qt(bt),t,le)},changed:P},te))}function k(){w("dragOverAnimationCapture"),S.captureAnimationState(),S!==p&&p.captureAnimationState()}function O(Dt){return w("dragOverCompleted",{insertion:Dt}),Dt&&(g?h._hideClone():h._showClone(S),S!==p&&($e(Y,ae?ae.options.ghostClass:h.options.ghostClass,!1),$e(Y,u.ghostClass,!0)),ae!==S&&S!==et.active?ae=S:S===et.active&&ae&&(ae=null),p===S&&(S._ignoreWhileAnimating=i),S.animateAll(function(){w("dragOverAnimationComplete"),S._ignoreWhileAnimating=null}),S!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(i===Y&&!Y.animated||i===e&&!i.animated)&&(cr=null),!u.dragoverBubble&&!t.rootEl&&i!==document&&(Y.parentNode[Ue]._isOutsideThisEl(t.target),!Dt&&Ai(t)),!u.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),y=!0}function P(){Ye=rn(Y),li=rn(Y,u.draggable),we({sortable:S,name:"change",toEl:e,newIndex:Ye,newDraggableIndex:li,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=Tn(i,u.draggable,e,!0),w("dragOver"),et.eventCanceled)return y;if(Y.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||S._ignoreWhileAnimating===i)return O(!1);if(na=!1,h&&!u.disabled&&(g?m||(l=Ut!==zt):ae===this||(this.lastPutMode=Oo.checkPull(this,h,Y,t))&&f.checkPut(this,h,Y,t))){if(v=this._getDirection(t,i)==="vertical",s=Qt(Y),w("dragOverValid"),et.eventCanceled)return y;if(l)return Ut=zt,k(),this._hideClone(),w("revert"),et.eventCanceled||(Pi?zt.insertBefore(Y,Pi):zt.appendChild(Y)),O(!0);var E=Uc(e,u.draggable);if(!E||ST(t,v,this)&&!E.animated){if(E===Y)return O(!1);if(E&&e===t.target&&(i=E),i&&(a=Qt(i)),Po(zt,e,Y,s,i,a,t,!!i)!==!1)return k(),e.appendChild(Y),Ut=e,P(),O(!0)}else if(E&&wT(t,v,this)){var M=yr(e,0,u,!0);if(M===Y)return O(!1);if(i=M,a=Qt(i),Po(zt,e,Y,s,i,a,t,!1)!==!1)return k(),e.insertBefore(Y,M),Ut=e,P(),O(!0)}else if(i.parentNode===e){a=Qt(i);var R=0,B,L=Y.parentNode!==e,$=!_T(Y.animated&&Y.toRect||s,i.animated&&i.toRect||a,v),j=v?"top":"left",q=jd(i,"top","top")||jd(Y,"top","top"),G=q?q.scrollTop:void 0;cr!==i&&(B=a[j],fs=!1,Eo=!$&&u.invertSwap||L),R=CT(t,i,a,v,$?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,Eo,cr===i);var ct;if(R!==0){var xt=rn(Y);do xt-=R,ct=Ut.children[xt];while(ct&&(tt(ct,"display")==="none"||ct===ot))}if(R===0||ct===i)return O(!1);cr=i,us=R;var at=i.nextElementSibling,ht=!1;ht=R===1;var yt=Po(zt,e,Y,s,i,a,t,ht);if(yt!==!1)return(yt===1||yt===-1)&&(ht=yt===1),_c=!0,setTimeout(yT,30),k(),ht&&!at?e.appendChild(Y):i.parentNode.insertBefore(Y,ht?at:i),q&&xp(q,0,G-q.scrollTop),Ut=Y.parentNode,B!==void 0&&!Eo&&(Uo=Math.abs(B-Qt(i)[j])),P(),O(!0)}if(e.contains(Y))return O(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){vt(document,"mousemove",this._onTouchMove),vt(document,"touchmove",this._onTouchMove),vt(document,"pointermove",this._onTouchMove),vt(document,"dragover",Ai),vt(document,"mousemove",Ai),vt(document,"touchmove",Ai)},_offUpEvents:function(){var t=this.el.ownerDocument;vt(t,"mouseup",this._onDrop),vt(t,"touchend",this._onDrop),vt(t,"pointerup",this._onDrop),vt(t,"touchcancel",this._onDrop),vt(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;if(Ye=rn(Y),li=rn(Y,i.draggable),Oe("drop",this,{evt:t}),Ut=Y&&Y.parentNode,Ye=rn(Y),li=rn(Y,i.draggable),et.eventCanceled){this._nulling();return}ur=!1,Eo=!1,fs=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),bc(this.cloneId),bc(this._dragStartId),this.nativeDraggable&&(vt(document,"drop",this),vt(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),as&&tt(document.body,"user-select",""),tt(Y,"transform",""),t&&(Qr&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),ot&&ot.parentNode&&ot.parentNode.removeChild(ot),(zt===Ut||ae&&ae.lastPutMode!=="clone")&&Vt&&Vt.parentNode&&Vt.parentNode.removeChild(Vt),Y&&(this.nativeDraggable&&vt(Y,"dragend",this),Jl(Y),Y.style["will-change"]="",Qr&&!ur&&$e(Y,ae?ae.options.ghostClass:this.options.ghostClass,!1),$e(Y,this.options.chosenClass,!1),we({sortable:this,name:"unchoose",toEl:Ut,newIndex:null,newDraggableIndex:null,originalEvent:t}),zt!==Ut?(Ye>=0&&(we({rootEl:Ut,name:"add",toEl:Ut,fromEl:zt,originalEvent:t}),we({sortable:this,name:"remove",toEl:Ut,originalEvent:t}),we({rootEl:Ut,name:"sort",toEl:Ut,fromEl:zt,originalEvent:t}),we({sortable:this,name:"sort",toEl:Ut,originalEvent:t})),ae&&ae.save()):Ye!==fr&&Ye>=0&&(we({sortable:this,name:"update",toEl:Ut,originalEvent:t}),we({sortable:this,name:"sort",toEl:Ut,originalEvent:t})),et.active&&((Ye==null||Ye===-1)&&(Ye=fr,li=cs),we({sortable:this,name:"end",toEl:Ut,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Oe("nulling",this),zt=Y=Ut=ot=Pi=Vt=Yo=ci=Ti=mn=Qr=Ye=li=fr=cs=cr=us=ae=Oo=et.dragged=et.ghost=et.clone=et.active=null,ra.forEach(function(t){t.checked=!0}),ra.length=jl=Gl=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Y&&(this._onDragOver(t),xT(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,i=this.el.children,s=0,a=i.length,l=this.options;s<a;s++)e=i[s],Tn(e,l.draggable,this.el,!1)&&t.push(e.getAttribute(l.dataIdAttr)||DT(e));return t},sort:function(t,e){var i={},s=this.el;this.toArray().forEach(function(a,l){var u=s.children[l];Tn(u,this.options.draggable,s,!1)&&(i[a]=u)},this),e&&this.captureAnimationState(),t.forEach(function(a){i[a]&&(s.removeChild(i[a]),s.appendChild(i[a]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return Tn(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(e===void 0)return i[t];var s=Cs.modifyOption(this,t,e);typeof s<"u"?i[t]=s:i[t]=e,t==="group"&&Cp(i)},destroy:function(){Oe("destroy",this);var t=this.el;t[Ue]=null,vt(t,"mousedown",this._onTapStart),vt(t,"touchstart",this._onTapStart),vt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(vt(t,"dragover",this),vt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ia.splice(ia.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ci){if(Oe("hideClone",this),et.eventCanceled)return;tt(Vt,"display","none"),this.options.removeCloneOnHide&&Vt.parentNode&&Vt.parentNode.removeChild(Vt),ci=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ci){if(Oe("showClone",this),et.eventCanceled)return;Y.parentNode==zt&&!this.options.group.revertClone?zt.insertBefore(Vt,Y):Pi?zt.insertBefore(Vt,Pi):zt.appendChild(Vt),this.options.group.revertClone&&this.animate(Y,Vt),tt(Vt,"display",""),ci=!1}}};function xT(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Po(n,t,e,i,s,a,l,u){var f,h=n[Ue],g=h.options.onMove,m;return window.CustomEvent&&!Zn&&!Ss?f=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent("move",!0,!0)),f.to=t,f.from=n,f.dragged=e,f.draggedRect=i,f.related=s||t,f.relatedRect=a||Qt(t),f.willInsertAfter=u,f.originalEvent=l,n.dispatchEvent(f),g&&(m=g.call(h,f,l)),m}function Jl(n){n.draggable=!1}function yT(){_c=!1}function wT(n,t,e){var i=Qt(yr(e.el,0,e.options,!0)),s=10;return t?n.clientX<i.left-s||n.clientY<i.top&&n.clientX<i.right:n.clientY<i.top-s||n.clientY<i.bottom&&n.clientX<i.left}function ST(n,t,e){var i=Qt(Uc(e.el,e.options.draggable)),s=10;return t?n.clientX>i.right+s||n.clientX<=i.right&&n.clientY>i.bottom&&n.clientX>=i.left:n.clientX>i.right&&n.clientY>i.top||n.clientX<=i.right&&n.clientY>i.bottom+s}function CT(n,t,e,i,s,a,l,u){var f=i?n.clientY:n.clientX,h=i?e.height:e.width,g=i?e.top:e.left,m=i?e.bottom:e.right,p=!1;if(!l){if(u&&Uo<h*s){if(!fs&&(us===1?f>g+h*a/2:f<m-h*a/2)&&(fs=!0),fs)p=!0;else if(us===1?f<g+Uo:f>m-Uo)return-us}else if(f>g+h*(1-s)/2&&f<m-h*(1-s)/2)return kT(t)}return p=p||l,p&&(f<g+h*a/2||f>m-h*a/2)?f>g+h/2?1:-1:0}function kT(n){return rn(Y)<rn(n)?1:-1}function DT(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,e=t.length,i=0;e--;)i+=t.charCodeAt(e);return i.toString(36)}function MT(n){ra.length=0;for(var t=n.getElementsByTagName("input"),e=t.length;e--;){var i=t[e];i.checked&&ra.push(i)}}function Vo(n){return setTimeout(n,0)}function bc(n){return clearTimeout(n)}ca&&St(document,"touchmove",function(n){(et.active||ur)&&n.cancelable&&n.preventDefault()});et.utils={on:St,off:vt,css:tt,find:bp,is:function(t,e){return!!Tn(t,e,t,!1)},extend:cT,throttle:vp,closest:Tn,toggleClass:$e,clone:yp,index:rn,nextTick:Vo,cancelNextTick:bc,detectDirection:Sp,getChild:yr};et.get=function(n){return n[Ue]};et.mount=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(et.utils=In(In({},et.utils),i.utils)),Cs.mount(i)})};et.create=function(n,t){return new et(n,t)};et.version=sT;var jt=[],ts,vc,xc=!1,Ql,tc,sa,es;function TT(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return n.prototype={dragStarted:function(e){var i=e.originalEvent;this.sortable.nativeDraggable?St(document,"dragover",this._handleAutoScroll):this.options.supportPointer?St(document,"pointermove",this._handleFallbackAutoScroll):i.touches?St(document,"touchmove",this._handleFallbackAutoScroll):St(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var i=e.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?vt(document,"dragover",this._handleAutoScroll):(vt(document,"pointermove",this._handleFallbackAutoScroll),vt(document,"touchmove",this._handleFallbackAutoScroll),vt(document,"mousemove",this._handleFallbackAutoScroll)),tg(),Xo(),uT()},nulling:function(){sa=vc=ts=xc=es=Ql=tc=null,jt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,i){var s=this,a=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,u=document.elementFromPoint(a,l);if(sa=e,i||this.options.forceAutoScrollFallback||Ss||Zn||as){ec(e,this.options,u,i);var f=fi(u,!0);xc&&(!es||a!==Ql||l!==tc)&&(es&&tg(),es=setInterval(function(){var h=fi(document.elementFromPoint(a,l),!0);h!==f&&(f=h,Xo()),ec(e,s.options,h,i)},10),Ql=a,tc=l)}else{if(!this.options.bubbleScroll||fi(u,!0)===En()){Xo();return}ec(e,this.options,fi(u,!1),!1)}}},Gn(n,{pluginName:"scroll",initializeByDefault:!0})}function Xo(){jt.forEach(function(n){clearInterval(n.pid)}),jt=[]}function tg(){clearInterval(es)}var ec=vp(function(n,t,e,i){if(t.scroll){var s=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=t.scrollSensitivity,u=t.scrollSpeed,f=En(),h=!1,g;vc!==e&&(vc=e,Xo(),ts=t.scroll,g=t.scrollFn,ts===!0&&(ts=fi(e,!0)));var m=0,p=ts;do{var v=p,S=Qt(v),y=S.top,w=S.bottom,k=S.left,O=S.right,P=S.width,E=S.height,M=void 0,R=void 0,B=v.scrollWidth,L=v.scrollHeight,$=tt(v),j=v.scrollLeft,q=v.scrollTop;v===f?(M=P<B&&($.overflowX==="auto"||$.overflowX==="scroll"||$.overflowX==="visible"),R=E<L&&($.overflowY==="auto"||$.overflowY==="scroll"||$.overflowY==="visible")):(M=P<B&&($.overflowX==="auto"||$.overflowX==="scroll"),R=E<L&&($.overflowY==="auto"||$.overflowY==="scroll"));var G=M&&(Math.abs(O-s)<=l&&j+P<B)-(Math.abs(k-s)<=l&&!!j),ct=R&&(Math.abs(w-a)<=l&&q+E<L)-(Math.abs(y-a)<=l&&!!q);if(!jt[m])for(var xt=0;xt<=m;xt++)jt[xt]||(jt[xt]={});(jt[m].vx!=G||jt[m].vy!=ct||jt[m].el!==v)&&(jt[m].el=v,jt[m].vx=G,jt[m].vy=ct,clearInterval(jt[m].pid),(G!=0||ct!=0)&&(h=!0,jt[m].pid=setInterval((function(){i&&this.layer===0&&et.active._onTouchMove(sa);var at=jt[this.layer].vy?jt[this.layer].vy*u:0,ht=jt[this.layer].vx?jt[this.layer].vx*u:0;typeof g=="function"&&g.call(et.dragged.parentNode[Ue],ht,at,n,sa,jt[this.layer].el)!=="continue"||xp(jt[this.layer].el,ht,at)}).bind({layer:m}),24))),m++}while(t.bubbleScroll&&p!==f&&(p=fi(p,!1)));xc=h}},30),Mp=function(t){var e=t.originalEvent,i=t.putSortable,s=t.dragEl,a=t.activeSortable,l=t.dispatchSortableEvent,u=t.hideGhostForTarget,f=t.unhideGhostForTarget;if(e){var h=i||a;u();var g=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,m=document.elementFromPoint(g.clientX,g.clientY);f(),h&&!h.el.contains(m)&&(l("spill"),this.onSpill({dragEl:s,putSortable:i}))}};function Vc(){}Vc.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var s=yr(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(e,s):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:Mp};Gn(Vc,{pluginName:"revertOnSpill"});function Xc(){}Xc.prototype={onSpill:function(t){var e=t.dragEl,i=t.putSortable,s=i||this.sortable;s.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),s.animateAll()},drop:Mp};Gn(Xc,{pluginName:"removeOnSpill"});et.mount(new TT);et.mount(Xc,Vc);function nc(n){n.parentElement!==null&&n.parentElement.removeChild(n)}function eg(n,t,e){const i=e===0?n.children[0]:n.children[e-1].nextSibling;n.insertBefore(t,i)}function AT(){return typeof window<"u"?window.console:global.console}const OT=AT();function ET(n){const t=Object.create(null);return function(i){return t[i]||(t[i]=n(i))}}const IT=/-(\w)/g,PT=ET(n=>n.replace(IT,(t,e)=>e.toUpperCase())),Tp=["Start","Add","Remove","Update","End"],Ap=["Choose","Unchoose","Sort","Filter","Clone"],Op=["Move"],LT=[Op,Tp,Ap].flatMap(n=>n).map(n=>`on${n}`),yc={manage:Op,manageAndEmit:Tp,emit:Ap};function RT(n){return LT.indexOf(n)!==-1}const FT=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function BT(n){return FT.includes(n)}function WT(n){return["transition-group","TransitionGroup"].includes(n)}function Ep(n){return["id","class","role","style"].includes(n)||n.startsWith("data-")||n.startsWith("aria-")||n.startsWith("on")}function Ip(n){return n.reduce((t,[e,i])=>(t[e]=i,t),{})}function zT({$attrs:n,componentData:t={}}){return{...Ip(Object.entries(n).filter(([i,s])=>Ep(i))),...t}}function NT({$attrs:n,callBackBuilder:t}){const e=Ip(Pp(n));Object.entries(t).forEach(([s,a])=>{yc[s].forEach(l=>{e[`on${l}`]=a(l)})});const i=`[data-draggable]${e.draggable||""}`;return{...e,draggable:i}}function Pp(n){return Object.entries(n).filter(([t,e])=>!Ep(t)).map(([t,e])=>[PT(t),e]).filter(([t,e])=>!RT(t))}const ng=({el:n})=>n,HT=(n,t)=>n.__draggable_context=t,ig=n=>n.__draggable_context;class $T{constructor({nodes:{header:t,default:e,footer:i},root:s,realList:a}){this.defaultNodes=e,this.children=[...t,...e,...i],this.externalComponent=s.externalComponent,this.rootTransition=s.transition,this.tag=s.tag,this.realList=a}get _isRootComponent(){return this.externalComponent||this.rootTransition}render(t,e){const{tag:i,children:s,_isRootComponent:a}=this;return t(i,e,a?{default:()=>s}:s)}updated(){const{defaultNodes:t,realList:e}=this;t.forEach((i,s)=>{HT(ng(i),{element:e[s],index:s})})}getUnderlyingVm(t){return ig(t)}getVmIndexFromDomIndex(t,e){const{defaultNodes:i}=this,{length:s}=i,a=e.children,l=a.item(t);if(l===null)return s;const u=ig(l);if(u)return u.index;if(s===0)return 0;const f=ng(i[0]),h=[...a].findIndex(g=>g===f);return t<h?0:s}}function YT(n,t){const e=n[t];return e?e():[]}function UT({$slots:n,realList:t,getKey:e}){const i=t||[],[s,a]=["header","footer"].map(f=>YT(n,f)),{item:l}=n;if(!l)throw new Error("draggable element must have an item slot");const u=i.flatMap((f,h)=>l({element:f,index:h}).map(g=>(g.key=e(f),g.props={...g.props||{},"data-draggable":!0},g)));if(u.length!==i.length)throw new Error("Item slot must have only one child");return{header:s,footer:a,default:u}}function VT(n){const t=WT(n),e=!BT(n)&&!t;return{transition:t,externalComponent:e,tag:e?$w(n):t?Yw:n}}function XT({$slots:n,tag:t,realList:e,getKey:i}){const s=UT({$slots:n,realList:e,getKey:i}),a=VT(t);return new $T({nodes:s,root:a,realList:e})}function Lp(n,t){bn(()=>this.$emit(n.toLowerCase(),t))}function Rp(n){return(t,e)=>{if(this.realList!==null)return this[`onDrag${n}`](t,e)}}function qT(n){const t=Rp.call(this,n);return(e,i)=>{t.call(this,e,i),Lp.call(this,n,e)}}let ic=null;const KT={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:n=>n},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},jT=["update:modelValue","change",...[...yc.manageAndEmit,...yc.emit].map(n=>n.toLowerCase())],GT=xn({name:"draggable",inheritAttrs:!1,props:KT,emits:jT,data(){return{error:!1}},render(){try{this.error=!1;const{$slots:n,$attrs:t,tag:e,componentData:i,realList:s,getKey:a}=this,l=XT({$slots:n,tag:e,realList:s,getKey:a});this.componentStructure=l;const u=zT({$attrs:t,componentData:i});return l.render(ds,u)}catch(n){return this.error=!0,ds("pre",{style:{color:"red"}},n.stack)}},created(){this.list!==null&&this.modelValue!==null&&OT.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted(){if(this.error)return;const{$attrs:n,$el:t,componentStructure:e}=this;e.updated();const i=NT({$attrs:n,callBackBuilder:{manageAndEmit:a=>qT.call(this,a),emit:a=>Lp.bind(this,a),manage:a=>Rp.call(this,a)}}),s=t.nodeType===1?t:t.parentElement;this._sortable=new et(s,i),this.targetDomElement=s,s.__draggable_component__=this},updated(){this.componentStructure.updated()},beforeUnmount(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList(){const{list:n}=this;return n||this.modelValue},getKey(){const{itemKey:n}=this;return typeof n=="function"?n:t=>t[n]}},watch:{$attrs:{handler(n){const{_sortable:t}=this;t&&Pp(n).forEach(([e,i])=>{t.option(e,i)})},deep:!0}},methods:{getUnderlyingVm(n){return this.componentStructure.getUnderlyingVm(n)||null},getUnderlyingPotencialDraggableComponent(n){return n.__draggable_component__},emitChanges(n){bn(()=>this.$emit("change",n))},alterList(n){if(this.list){n(this.list);return}const t=[...this.modelValue];n(t),this.$emit("update:modelValue",t)},spliceList(){const n=t=>t.splice(...arguments);this.alterList(n)},updatePosition(n,t){const e=i=>i.splice(t,0,i.splice(n,1)[0]);this.alterList(e)},getRelatedContextFromMoveEvent({to:n,related:t}){const e=this.getUnderlyingPotencialDraggableComponent(n);if(!e)return{component:e};const i=e.realList,s={list:i,component:e};return n!==t&&i?{...e.getUnderlyingVm(t)||{},...s}:s},getVmIndexFromDomIndex(n){return this.componentStructure.getVmIndexFromDomIndex(n,this.targetDomElement)},onDragStart(n){this.context=this.getUnderlyingVm(n.item),n.item._underlying_vm_=this.clone(this.context.element),ic=n.item},onDragAdd(n){const t=n.item._underlying_vm_;if(t===void 0)return;nc(n.item);const e=this.getVmIndexFromDomIndex(n.newIndex);this.spliceList(e,0,t);const i={element:t,newIndex:e};this.emitChanges({added:i})},onDragRemove(n){if(eg(this.$el,n.item,n.oldIndex),n.pullMode==="clone"){nc(n.clone);return}const{index:t,element:e}=this.context;this.spliceList(t,1);const i={element:e,oldIndex:t};this.emitChanges({removed:i})},onDragUpdate(n){nc(n.item),eg(n.from,n.item,n.oldIndex);const t=this.context.index,e=this.getVmIndexFromDomIndex(n.newIndex);this.updatePosition(t,e);const i={element:this.context.element,oldIndex:t,newIndex:e};this.emitChanges({moved:i})},computeFutureIndex(n,t){if(!n.element)return 0;const e=[...t.to.children].filter(l=>l.style.display!=="none"),i=e.indexOf(t.related),s=n.component.getVmIndexFromDomIndex(i);return e.indexOf(ic)!==-1||!t.willInsertAfter?s:s+1},onDragMove(n,t){const{move:e,realList:i}=this;if(!e||!i)return!0;const s=this.getRelatedContextFromMoveEvent(n),a=this.computeFutureIndex(s,n),l={...this.context,futureIndex:a},u={...n,relatedContext:s,draggedContext:l};return e(u,t)},onDragEnd(){ic=null}}}),ZT={class:"stock-page"},JT={class:"action-buttons"},QT={class:"stock-content"},tA={class:"stock-indicator"},eA={class:"kd-indicator"},nA={class:"rsi-indicator"},iA={class:"rsi-value"},rA={class:"bubble-content",style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},sA={__name:"Stock",setup(n){const t=Tc(),e=vg("stock-search");Ht(null),Ht(null),Ht(0);const i=Ht(!1),s=Ht(null);_r(async()=>{try{t.loadUserStockList()}catch(E){console.error("初始化資料庫失敗:",E)}});const a=ne({get(){return t.userStockList},set(E){t.reorderStockList(E)}});function l(){e.emit(!0)}function u(E,M){console.log(`Stock ${M} indicator changed to ${E}`)}function f(E){return E>0?"price-up":E<0?"price-down":"price-flat"}const h=ne(()=>s.value?[{name:`K 值: ${s.value.k}`,subname:"快線指標 (敏感度高)",color:"#4286f5"},{name:`D 值: ${s.value.d}`,subname:"慢線指標 (敏感度低)",color:"#e75c9a"},{name:`J 值: ${s.value.j}`,subname:"超買超賣指標",color:"#666"},{name:`更新時間: ${s.value.date}`,subname:"週線資料最後更新",color:"#999"}]:[]);function g(E){s.value=E,i.value=!0}function m(E){console.log("KDJ ActionSheet 選擇:",E.name),i.value=!1,E.name.includes("K 值")?Oi("K 值反映股價短期波動"):E.name.includes("D 值")?Oi("D 值是 K 值的移動平均"):E.name.includes("J 值")&&Oi("J 值 > 80 超買，< 20 超賣")}function p(E){return E>70?"rsi-overbought":E<30?"rsi-oversold":"rsi-normal"}function v(E){return E>70?"超買":E<30?"超賣":"正常"}function S(){}function y(E){Oi(`買賣 ${E.name}`)}function w(E){Oi(`${E.name} 策略設定`)}function k(E){Oi(`${E.name} 其他功能`)}function O(E){setTimeout(()=>{const M=document.querySelector(".stock-row.sortable-chosen");if(M){const R=M.querySelector("canvas"),B=document.querySelector(".stock-row.sortable-drag");if(R&&B){const L=B.querySelector("canvas");if(L&&R.width&&R.height){L.width=R.width,L.height=R.height;const $=L.getContext("2d");$.clearRect(0,0,L.width,L.height),$.drawImage(R,0,0)}}}},0)}function P(E){console.log("拖曳結束",E)}return Uw(document,"visibilitychange",()=>{}),_r(()=>{}),(E,M)=>(Ee(),sn("div",ZT,[U(me(GT),{modelValue:a.value,"onUpdate:modelValue":M[1]||(M[1]=R=>a.value=R),"item-key":"id",delay:200,animation:200,"ghost-class":"stock-row-ghost",onStart:O,onEnd:P},{item:nn(({element:R,index:B})=>[dt("div",{class:"stock-row",onContextmenu:M[0]||(M[0]=Vw(()=>{},["prevent"]))},[U(me(L1),{"left-width":200,onClickLeft:S},{left:nn(()=>[dt("div",JT,[U(me(Ll),{type:"primary",size:"small",class:"action-btn buy-btn",onClick:L=>y(R)},{default:nn(()=>M[3]||(M[3]=[dt("div",null,"交 易",-1),dt("div",null,"記 錄",-1)])),_:2,__:[3]},1032,["onClick"]),U(me(Ll),{type:"warning",size:"small",class:"action-btn strategy-btn",onClick:L=>w(R)},{default:nn(()=>M[4]||(M[4]=[sc("策 略",-1)])),_:2,__:[4]},1032,["onClick"]),U(me(Ll),{type:"default",size:"small",class:"action-btn other-btn",onClick:L=>k(R)},{default:nn(()=>M[5]||(M[5]=[sc("更 多",-1)])),_:2,__:[5]},1032,["onClick"])])]),default:nn(()=>[dt("div",QT,[U(eT,{name:R.name,code:R.code,price:R.price,change:R.change,"change-percent":R.changePercent,"price-class":f(R.change),progress:R.progress,"progress-text":R.progressText},null,8,["name","code","price","change","change-percent","price-class","progress","progress-text"]),dt("div",tA,[U(me(Xw),{"show-indicators":!1,loop:!1,autoplay:0,onChange:L=>u(L,B)},{default:nn(()=>[U(me(kh),{class:"indicator-content"},{default:nn(()=>[dt("div",eA,[U(VM,{width:"100%",height:60,"stock-id":R.id,onKdjClick:g},null,8,["stock-id"])])]),_:2},1024),U(me(kh),{class:"indicator-content"},{default:nn(()=>[dt("div",nA,[dt("div",iA,Ie(R.rsi),1),dt("div",{class:ac(["rsi-trend",p(R.rsi)])},Ie(v(R.rsi)),3)])]),_:2},1024)]),_:2},1032,["onChange"])])])]),_:2},1024)],32)]),_:1},8,["modelValue"]),U(me(_1),{axis:"xy",magnetic:"x",gap:{x:20,y:80},style:{"--van-floating-bubble-size":"56px","--van-floating-bubble-background":"rgba(255, 224, 102, 0.9)","--van-floating-bubble-icon-size":"22px","--van-floating-bubble-color":"#322b0d"},onClick:l},{default:nn(()=>[dt("div",rA,[U(me(An),{name:"plus",size:"22",color:"#322b0d",style:{"margin-bottom":"2px"}}),M[6]||(M[6]=dt("span",{class:"bubble-label",style:{color:"#322b0d","font-size":"14px"}},"新增",-1))])]),_:1}),U(cS),U(me(t1),{show:i.value,"onUpdate:show":M[2]||(M[2]=R=>i.value=R),actions:h.value,"cancel-text":"取消",title:"KDJ 指標詳情",onSelect:m},null,8,["show","actions"])]))}},fA=kc(sA,[["__scopeId","data-v-ef0dfa6f"]]);export{fA as default};
