import{aW as G,aX as ue,aY as fe,aZ as Ee,r as C,a_ as He,aT as Oe,j as De,a$ as We,b0 as ve,d as Z,D as N,m as be,C as z,c as M,b1 as he,E as me,a as I,b2 as ge,y as we,b3 as Ze,g as $,f as ye,l as g,b4 as J,q as E,n as P,b as Te,w as Me,x as p,b5 as K,o as Fe,z as ee,A as W,aN as Ue,h as je,b6 as Ve,e as oe,F as Q,al as Xe,ar as Ye,b7 as ie,I as Ke,b8 as qe,b9 as Ge,aA as se,ba as Je,au as Qe,bb as pe,a6 as et,bc as tt,X as nt,k as at,aD as lt,ax as ot,bd as it,v as st,p as rt,t as re,be as ct}from"./index-JjBT1LCz.js";import{S as dt,u as Se,a as ut}from"./index-DqLODx3x.js";function ft(e,a,i){let l,r=0;const t=e.scrollLeft,s=i===0?1:Math.round(i*1e3/16);let c=t;function b(){ue(l)}function m(){c+=(a-t)/s,e.scrollLeft=c,++r<s&&(l=G(m))}return m(),b}function vt(e,a,i,l){let r,t=fe(e);const s=t<a,c=i===0?1:Math.round(i*1e3/16),b=(a-t)/c;function m(){ue(r)}function y(){t+=b,(s&&t>a||!s&&t<a)&&(t=a),Ee(e,t),s&&t<a||!s&&t>a?r=G(y):l&&(r=G(l))}return y(),m}function bt(){const e=C([]),a=[];return He(()=>{e.value=[]}),[e,l=>(a[l]||(a[l]=r=>{e.value[l]=r}),a[l])]}function xe(e,a){if(!Oe||!window.IntersectionObserver)return;const i=new IntersectionObserver(t=>{a(t[0].intersectionRatio>0)},{root:document.body}),l=()=>{e.value&&i.observe(e.value)},r=()=>{e.value&&i.unobserve(e.value)};De(r),We(r),ve(l)}const[ht,mt]=M("sticky"),gt={zIndex:z,position:be("top"),container:Object,offsetTop:N(0),offsetBottom:N(0)};var wt=Z({name:ht,props:gt,emits:["scroll","change"],setup(e,{emit:a,slots:i}){const l=C(),r=he(l),t=me({fixed:!1,width:0,height:0,transform:0}),s=C(!1),c=I(()=>ge(e.position==="top"?e.offsetTop:e.offsetBottom)),b=I(()=>{if(s.value)return;const{fixed:f,height:x,width:d}=t;if(f)return{width:`${d}px`,height:`${x}px`}}),m=I(()=>{if(!t.fixed||s.value)return;const f=we(Ze(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${c.value}px`});return t.transform&&(f.transform=`translate3d(0, ${t.transform}px, 0)`),f}),y=f=>a("scroll",{scrollTop:f,isFixed:t.fixed}),R=()=>{if(!l.value||J(l))return;const{container:f,position:x}=e,d=E(l),S=fe(window);if(t.width=d.width,t.height=d.height,x==="top")if(f){const u=E(f),k=u.bottom-c.value-t.height;t.fixed=c.value>d.top&&u.bottom>0,t.transform=k<0?k:0}else t.fixed=c.value>d.top;else{const{clientHeight:u}=document.documentElement;if(f){const k=E(f),h=u-k.top-c.value-t.height;t.fixed=u-c.value<d.bottom&&u>k.top,t.transform=h<0?-h:0}else t.fixed=u-c.value<d.bottom}y(S)};return $(()=>t.fixed,f=>a("change",f)),ye("scroll",R,{target:r,passive:!0}),xe(l,R),$([Te,Me],()=>{!l.value||J(l)||!t.fixed||(s.value=!0,P(()=>{const f=E(l);t.width=f.width,t.height=f.height,s.value=!1}))}),()=>{var f;return g("div",{ref:l,style:b.value},[g("div",{class:mt({fixed:t.fixed&&!s.value}),style:m.value},[(f=i.default)==null?void 0:f.call(i)])])}}});const yt=p(wt),[Tt,ce]=M("tabs");var St=Z({name:Tt,props:{count:K(Number),inited:Boolean,animated:Boolean,duration:K(z),swipeable:Boolean,lazyRender:Boolean,currentIndex:K(Number)},emits:["change"],setup(e,{emit:a,slots:i}){const l=C(),r=c=>a("change",c),t=()=>{var c;const b=(c=i.default)==null?void 0:c.call(i);return e.animated||e.swipeable?g(dt,{ref:l,loop:!1,class:ce("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:r},{default:()=>[b]}):b},s=c=>{const b=l.value;b&&b.state.active!==c&&b.swipeTo(c,{immediate:!e.inited})};return $(()=>e.currentIndex,s),Fe(()=>{s(e.currentIndex)}),ee({swipeRef:l}),()=>g("div",{class:ce("content",{animated:e.animated||e.swipeable})},[t()])}});const[Ce,Y]=M("tabs"),xt={type:be("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:N(0),duration:N(.3),animated:Boolean,ellipsis:W,swipeable:Boolean,scrollspy:Boolean,offsetTop:N(0),background:String,lazyRender:W,showHeader:W,lineWidth:z,lineHeight:z,beforeChange:Function,swipeThreshold:N(5),titleActiveColor:String,titleInactiveColor:String},Ie=Symbol(Ce);var Ct=Z({name:Ce,props:xt,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:a,slots:i}){let l,r,t,s,c;const b=C(),m=C(),y=C(),R=C(),f=Se(),x=he(b),[d,S]=bt(),{children:u,linkChildren:k}=Ue(Ie),h=me({inited:!1,position:"",lineStyle:{},currentIndex:-1}),H=I(()=>u.length>+e.swipeThreshold||!e.ellipsis||e.shrink),F=I(()=>({borderColor:e.color,background:e.background})),O=(n,o)=>{var v;return(v=n.name)!=null?v:o},U=I(()=>{const n=u[h.currentIndex];if(n)return O(n,h.currentIndex)}),L=I(()=>ge(e.offsetTop)),te=I(()=>e.sticky?L.value+l:0),D=n=>{const o=m.value,v=d.value;if(!H.value||!o||!v||!v[h.currentIndex])return;const T=v[h.currentIndex].$el,w=T.offsetLeft-(o.offsetWidth-T.offsetWidth)/2;s&&s(),s=ft(o,w,n?0:+e.duration)},_=()=>{const n=h.inited;P(()=>{const o=d.value;if(!o||!o[h.currentIndex]||e.type!=="line"||J(b.value))return;const v=o[h.currentIndex].$el,{lineWidth:T,lineHeight:w}=e,B=v.offsetLeft+v.offsetWidth/2,A={width:oe(T),backgroundColor:e.color,transform:`translateX(${B}px) translateX(-50%)`};if(n&&(A.transitionDuration=`${e.duration}s`),Q(w)){const X=oe(w);A.height=X,A.borderRadius=X}h.lineStyle=A})},ke=n=>{const o=n<h.currentIndex?-1:1;for(;n>=0&&n<u.length;){if(!u[n].disabled)return n;n+=o}},j=(n,o)=>{const v=ke(n);if(!Q(v))return;const T=u[v],w=O(T,v),B=h.currentIndex!==null;h.currentIndex!==v&&(h.currentIndex=v,o||D(),_()),w!==e.active&&(a("update:active",w),B&&a("change",w,T.title)),t&&!e.scrollspy&&Ye(Math.ceil(ie(b.value)-L.value))},V=(n,o)=>{const v=u.findIndex((T,w)=>O(T,w)===n);j(v===-1?0:v,o)},ne=(n=!1)=>{if(e.scrollspy){const o=u[h.currentIndex].$el;if(o&&x.value){const v=ie(o,x.value)-te.value;r=!0,c&&c(),c=vt(x.value,v,n?0:+e.duration,()=>{r=!1})}}},Be=(n,o,v)=>{const{title:T,disabled:w}=u[o],B=O(u[o],o);w||(Ke(e.beforeChange,{args:[B],done:()=>{j(o),ne()}}),qe(n)),a("clickTab",{name:B,title:T,event:v,disabled:w})},$e=n=>{t=n.isFixed,a("scroll",n)},_e=n=>{P(()=>{V(n),ne(!0)})},Ae=()=>{for(let n=0;n<u.length;n++){const{top:o}=E(u[n].$el);if(o>te.value)return n===0?0:n-1}return u.length-1},Pe=()=>{if(e.scrollspy&&!r){const n=Ae();j(n)}},ze=()=>{if(e.type==="line"&&u.length)return g("div",{class:Y("line"),style:h.lineStyle},null)},ae=()=>{var n,o,v;const{type:T,border:w,sticky:B}=e,A=[g("div",{ref:B?void 0:y,class:[Y("wrap"),{[Xe]:T==="line"&&w}]},[g("div",{ref:m,role:"tablist",class:Y("nav",[T,{shrink:e.shrink,complete:H.value}]),style:F.value,"aria-orientation":"horizontal"},[(n=i["nav-left"])==null?void 0:n.call(i),u.map(X=>X.renderTitle(Be)),ze(),(o=i["nav-right"])==null?void 0:o.call(i)])]),(v=i["nav-bottom"])==null?void 0:v.call(i)];return B?g("div",{ref:y},[A]):A},le=()=>{_(),P(()=>{var n,o;D(!0),(o=(n=R.value)==null?void 0:n.swipeRef.value)==null||o.resize()})};$(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],_),$(Te,le),$(()=>e.active,n=>{n!==U.value&&V(n)}),$(()=>u.length,()=>{h.inited&&(V(e.active),_(),P(()=>{D(!0)}))});const Le=()=>{V(e.active,!0),P(()=>{h.inited=!0,y.value&&(l=E(y.value).height),D(!0)})},Ne=(n,o)=>a("rendered",n,o);return ee({resize:le,scrollTo:_e}),je(_),Ve(_),ve(Le),xe(b,_),ye("scroll",Pe,{target:x,passive:!0}),k({id:f,props:e,setLine:_,scrollable:H,onRendered:Ne,currentName:U,setTitleRefs:S,scrollIntoView:D}),()=>g("div",{ref:b,class:Y([e.type])},[e.showHeader?e.sticky?g(yt,{container:b.value,offsetTop:L.value,onScroll:$e},{default:()=>[ae()]}):ae():null,g(St,{ref:R,count:u.length,inited:h.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:h.currentIndex,onChange:j},{default:()=>{var n;return[(n=i.default)==null?void 0:n.call(i)]}})])}});const It=Symbol(),Re=Symbol(),Rt=()=>Ge(Re,null),kt=e=>{const a=Rt();se(It,e),se(Re,I(()=>(a==null||a.value)&&e.value))},[Bt,de]=M("tab"),$t=Z({name:Bt,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:z,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:W},setup(e,{slots:a}){const i=I(()=>{const r={},{type:t,color:s,disabled:c,isActive:b,activeColor:m,inactiveColor:y}=e;s&&t==="card"&&(r.borderColor=s,c||(b?r.backgroundColor=s:r.color=s));const f=b?m:y;return f&&(r.color=f),r}),l=()=>{const r=g("span",{class:de("text",{ellipsis:!e.scrollable})},[a.title?a.title():e.title]);return e.dot||Q(e.badge)&&e.badge!==""?g(Je,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[r]}):r};return()=>g("div",{id:e.id,role:"tab",class:[de([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:i.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[l()])}}),[_t,q]=M("tab"),At=we({},lt,{dot:Boolean,name:z,badge:z,title:String,disabled:Boolean,titleClass:ot,titleStyle:[String,Object],showZeroBadge:W});var Pt=Z({name:_t,props:At,setup(e,{slots:a}){const i=Se(),l=C(!1),r=ct(),{parent:t,index:s}=Qe(Ie);if(!t)return;const c=()=>{var d;return(d=e.name)!=null?d:s.value},b=()=>{l.value=!0,t.props.lazyRender&&P(()=>{t.onRendered(c(),e.title)})},m=I(()=>{const d=c()===t.currentName.value;return d&&!l.value&&b(),d}),y=C(""),R=C("");pe(()=>{const{titleClass:d,titleStyle:S}=e;y.value=d?et(d):"",R.value=S&&typeof S!="string"?tt(nt(S)):S});const f=d=>g($t,rt({key:i,id:`${t.id}-${s.value}`,ref:t.setTitleRefs(s.value),style:R.value,class:y.value,isActive:m.value,controls:i,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:S=>d(r.proxy,s.value,S)},re(t.props,["type","color","shrink"]),re(e,["dot","badge","title","disabled","showZeroBadge"])),{title:a.title}),x=C(!m.value);return $(m,d=>{d?x.value=!1:it(()=>{x.value=!0})}),$(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),kt(m),ee({id:i,renderTitle:f}),()=>{var d;const S=`${t.id}-${s.value}`,{animated:u,swipeable:k,scrollspy:h,lazyRender:H}=t.props;if(!a.default&&!u)return;const F=h||m.value;if(u||k)return g(ut,{id:i,role:"tabpanel",class:q("panel-wrapper",{inactive:x.value}),tabindex:m.value?0:-1,"aria-hidden":!m.value,"aria-labelledby":S,"data-allow-mismatch":"attribute"},{default:()=>{var L;return[g("div",{class:q("panel")},[(L=a.default)==null?void 0:L.call(a)])]}});const U=l.value||h||!H?(d=a.default)==null?void 0:d.call(a):null;return at(g("div",{id:i,role:"tabpanel",class:q("panel"),tabindex:F?0:-1,"aria-labelledby":S,"data-allow-mismatch":"attribute"},[U]),[[st,F]])}}});const Nt=p(Pt),Et=p(Ct);export{Nt as T,Et as a};
