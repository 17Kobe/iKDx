import{d as J,t as H,m as ne,n as ie,c as Q,r as C,a as xe,u as at,b as B,w as N,e as ot,o as Z,f as Ve,g as st,h as Ne,i as it,j as ke,k as y,l as ee,p as Te,q as G,s as Fe,v as ae,x as oe,y as se,z as Y,A as rt,B as lt,C as Be,D as _e,E as ct,F as ut,G as dt,H as He,T as ft,I as Xe,J as ve,K as vt,L as ht,M as gt,N as mt,O as $e,P as pt,Q as yt,R as Ye,S as bt,U as wt,V as K,W as z,X as f,Y as L,Z as j,_ as xt,$ as he,a0 as ge,a1 as kt,a2 as E,a3 as St,a4 as Ct,a5 as U,a6 as Ee}from"./index-VqEszHSY.js";import{u as Se,a as Ce,s as Pt,p as Dt,P as It,b as Tt,S as Bt,B as Me,c as ce}from"./index-BCFIObCJ.js";function Ae(e,t){return e.reduce((a,i)=>Math.abs(a-t)<Math.abs(i-t)?a:i)}const[qe,te]=Q("swipe"),_t={loop:H,width:ie,height:ie,vertical:Boolean,autoplay:ne(0),duration:ne(500),touchable:H,lazyRender:Boolean,initialSwipe:ne(0),indicatorColor:String,showIndicators:H,stopPropagation:H},Ue=Symbol(qe);var $t=J({name:qe,props:_t,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:a}){const i=C(),c=C(),n=xe({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let v=!1;const g=Se(),{children:d,linkChildren:m}=at(Ue),l=B(()=>d.length),x=B(()=>n[e.vertical?"height":"width"]),u=B(()=>e.vertical?g.deltaY.value:g.deltaX.value),s=B(()=>n.rect?(e.vertical?n.rect.height:n.rect.width)-x.value*l.value:0),b=B(()=>x.value?Math.ceil(Math.abs(s.value)/x.value):l.value),w=B(()=>l.value*x.value),I=B(()=>(n.active+l.value)%l.value),R=B(()=>{const h=e.vertical?"vertical":"horizontal";return g.direction.value===h}),V=B(()=>{const h={transitionDuration:`${n.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+n.offset.toFixed(2)}px)`};if(x.value){const D=e.vertical?"height":"width",P=e.vertical?"width":"height";h[D]=`${w.value}px`,h[P]=e[P]?`${e[P]}px`:""}return h}),k=h=>{const{active:D}=n;return h?e.loop?ae(D+h,-1,l.value):ae(D+h,0,b.value):D},r=(h,D=0)=>{let P=h*x.value;e.loop||(P=Math.min(P,-s.value));let A=D-P;return e.loop||(A=ae(A,s.value,0)),A},o=({pace:h=0,offset:D=0,emitChange:P})=>{if(l.value<=1)return;const{active:A}=n,$=k(h),q=r($,D);if(e.loop){if(d[0]&&q!==s.value){const le=q<s.value;d[0].setOffset(le?w.value:0)}if(d[l.value-1]&&q!==0){const le=q>0;d[l.value-1].setOffset(le?-w.value:0)}}n.active=$,n.offset=q,P&&$!==A&&t("change",I.value)},T=()=>{n.swiping=!0,n.active<=-1?o({pace:l.value}):n.active>=l.value&&o({pace:-l.value})},S=()=>{T(),g.reset(),ee(()=>{n.swiping=!1,o({pace:-1,emitChange:!0})})},p=()=>{T(),g.reset(),ee(()=>{n.swiping=!1,o({pace:1,emitChange:!0})})};let _;const M=()=>clearTimeout(_),F=()=>{M(),+e.autoplay>0&&l.value>1&&(_=setTimeout(()=>{p(),F()},+e.autoplay))},W=(h=+e.initialSwipe)=>{if(!i.value)return;const D=()=>{var P,A;if(!Te(i)){const $={width:i.value.offsetWidth,height:i.value.offsetHeight};n.rect=$,n.width=+((P=e.width)!=null?P:$.width),n.height=+((A=e.height)!=null?A:$.height)}l.value&&(h=Math.min(l.value-1,h),h===-1&&(h=l.value-1)),n.active=h,n.swiping=!0,n.offset=r(h),d.forEach($=>{$.setOffset(0)}),F()};Te(i)?G().then(D):D()},Pe=()=>W(n.active);let De;const Qe=h=>{!e.touchable||h.touches.length>1||(g.start(h),v=!1,De=Date.now(),M(),T())},Ze=h=>{e.touchable&&n.swiping&&(g.move(h),R.value&&(!e.loop&&(n.active===0&&u.value>0||n.active===l.value-1&&u.value<0)||(Fe(h,e.stopPropagation),o({offset:u.value}),v||(t("dragStart",{index:I.value}),v=!0))))},Ie=()=>{if(!e.touchable||!n.swiping)return;const h=Date.now()-De,D=u.value/h;if((Math.abs(D)>.25||Math.abs(u.value)>x.value/2)&&R.value){const A=e.vertical?g.offsetY.value:g.offsetX.value;let $=0;e.loop?$=A>0?u.value>0?-1:1:0:$=-Math[u.value>0?"ceil":"floor"](u.value/x.value),o({pace:$,emitChange:!0})}else u.value&&o({pace:0});v=!1,n.swiping=!1,t("dragEnd",{index:I.value}),F()},et=(h,D={})=>{T(),g.reset(),ee(()=>{let P;e.loop&&h===l.value?P=n.active===0?0:h:P=h%l.value,D.immediate?ee(()=>{n.swiping=!1}):n.swiping=!1,o({pace:P-n.active,emitChange:!0})})},tt=(h,D)=>{const P=D===I.value,A=P?{backgroundColor:e.indicatorColor}:void 0;return y("i",{style:A,class:te("indicator",{active:P})},null)},nt=()=>{if(a.indicator)return a.indicator({active:I.value,total:l.value});if(e.showIndicators&&l.value>1)return y("div",{class:te("indicators",{vertical:e.vertical})},[Array(l.value).fill("").map(tt)])};return Ce({prev:S,next:p,state:n,resize:Pe,swipeTo:et}),m({size:x,props:e,count:l,activeIndicator:I}),N(()=>e.initialSwipe,h=>W(+h)),N(l,()=>W(n.active)),N(()=>e.autoplay,F),N([oe,se,()=>e.width,()=>e.height],Pe),N(ot(),h=>{h==="visible"?F():M()}),Z(W),Ve(()=>W(n.active)),st(()=>W(n.active)),Ne(M),it(M),ke("touchmove",Ze,{target:c}),()=>{var h;return y("div",{ref:i,class:te()},[y("div",{ref:c,style:V.value,class:te("track",{vertical:e.vertical}),onTouchstartPassive:Qe,onTouchend:Ie,onTouchcancel:Ie},[(h=a.default)==null?void 0:h.call(a)]),nt()])}}});const Et=Y($t),[Mt,At]=Q("swipe-item");var Ot=J({name:Mt,setup(e,{slots:t}){let a;const i=xe({offset:0,inited:!1,mounted:!1}),{parent:c,index:n}=rt(Ue);if(!c)return;const v=B(()=>{const m={},{vertical:l}=c.props;return c.size.value&&(m[l?"height":"width"]=`${c.size.value}px`),i.offset&&(m.transform=`translate${l?"Y":"X"}(${i.offset}px)`),m}),g=B(()=>{const{loop:m,lazyRender:l}=c.props;if(!l||a)return!0;if(!i.mounted)return!1;const x=c.activeIndicator.value,u=c.count.value-1,s=x===0&&m?u:x-1,b=x===u&&m?0:x+1;return a=n.value===x||n.value===s||n.value===b,a}),d=m=>{i.offset=m};return Z(()=>{G(()=>{i.mounted=!0})}),Ce({setOffset:d}),()=>{var m;return y("div",{class:At(),style:v.value},[g.value?(m=t.default)==null?void 0:m.call(t):null])}}});const Oe=Y(Ot);Y(Pt);const Rt={gap:{type:[Number,Object],default:24},icon:String,axis:lt("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[zt,Re]=Q("floating-bubble");var Kt=J({name:zt,inheritAttrs:!1,props:Rt,emits:["click","update:offset","offsetChange"],setup(e,{slots:t,emit:a,attrs:i}){const c=C(),n=C({x:0,y:0,width:0,height:0}),v=B(()=>Be(e.gap)?e.gap.x:e.gap),g=B(()=>Be(e.gap)?e.gap.y:e.gap),d=B(()=>({top:g.value,right:oe.value-n.value.width-v.value,bottom:se.value-n.value.height-g.value,left:v.value})),m=C(!1);let l=!1;const x=B(()=>{const o={},T=_e(n.value.x),S=_e(n.value.y);return o.transform=`translate3d(${T}, ${S}, 0)`,(m.value||!l)&&(o.transition="none"),o}),u=()=>{if(!r.value)return;const{width:o,height:T}=Xe(c.value),{offset:S}=e;n.value={x:S?S.x:oe.value-o-v.value,y:S?S.y:se.value-T-g.value,width:o,height:T}},s=Se();let b=0,w=0;const I=o=>{s.start(o),m.value=!0,b=n.value.x,w=n.value.y};ke("touchmove",o=>{if(o.preventDefault(),s.move(o),e.axis!=="lock"&&!s.isTap.value){if(e.axis==="x"||e.axis==="xy"){let S=b+s.deltaX.value;S<d.value.left&&(S=d.value.left),S>d.value.right&&(S=d.value.right),n.value.x=S}if(e.axis==="y"||e.axis==="xy"){let S=w+s.deltaY.value;S<d.value.top&&(S=d.value.top),S>d.value.bottom&&(S=d.value.bottom),n.value.y=S}const T=ve(n.value,["x","y"]);a("update:offset",T)}},{target:c});const V=()=>{m.value=!1,G(()=>{if(e.magnetic==="x"){const o=Ae([d.value.left,d.value.right],n.value.x);n.value.x=o}if(e.magnetic==="y"){const o=Ae([d.value.top,d.value.bottom],n.value.y);n.value.y=o}if(!s.isTap.value){const o=ve(n.value,["x","y"]);a("update:offset",o),(b!==o.x||w!==o.y)&&a("offsetChange",o)}})},k=o=>{s.isTap.value?a("click",o):o.stopPropagation()};Z(()=>{u(),G(()=>{l=!0})}),N([oe,se,v,g,()=>e.offset],u,{deep:!0});const r=C(!0);return Ve(()=>{r.value=!0}),Ne(()=>{e.teleport&&(r.value=!1)}),()=>{const o=ct(y("div",He({class:Re(),ref:c,onTouchstartPassive:I,onTouchend:V,onTouchcancel:V,onClickCapture:k,style:x.value},i),[t.default?t.default():y(dt,{name:e.icon,class:Re("icon")},null)]),[[ut,r.value]]);return e.teleport?y(ft,{to:e.teleport},{default:()=>[o]}):o}}});const Lt=Y(Kt),Wt=e=>e?.includes("/"),jt=[...Dt,"round","closeOnPopstate","safeAreaInsetBottom"],Vt={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[Nt,O,Ft]=Q("share-sheet"),Ht=vt({},Tt,{title:String,round:H,options:ht(),cancelText:String,description:String,closeOnPopstate:H,safeAreaInsetBottom:H});var Xt=J({name:Nt,props:Ht,emits:["cancel","select","update:show"],setup(e,{emit:t,slots:a}){const i=u=>t("update:show",u),c=()=>{i(!1),t("cancel")},n=(u,s)=>t("select",u,s),v=()=>{const u=a.title?a.title():e.title,s=a.description?a.description():e.description;if(u||s)return y("div",{class:O("header")},[u&&y("h2",{class:O("title")},[u]),s&&y("span",{class:O("description")},[s])])},g=u=>Wt(u)?y("img",{src:u,class:O("image-icon")},null):y("div",{class:O("icon",[u])},[y(mt,{name:Vt[u]||u},null)]),d=(u,s)=>{const{name:b,icon:w,className:I,description:R}=u;return y("div",{role:"button",tabindex:0,class:[O("option"),I,gt],onClick:()=>n(u,s)},[g(w),b&&y("span",{class:O("name")},[b]),R&&y("span",{class:O("option-description")},[R])])},m=(u,s)=>y("div",{class:O("options",{border:s})},[u.map(d)]),l=()=>{const{options:u}=e;return Array.isArray(u[0])?u.map((s,b)=>m(s,b!==0)):m(u)},x=()=>{var u;const s=(u=e.cancelText)!=null?u:Ft("cancel");if(a.cancel||s)return y("button",{type:"button",class:O("cancel"),onClick:c},[a.cancel?a.cancel():s])};return()=>y(It,He({class:O(),position:"bottom","onUpdate:show":i},ve(e,jt)),{default:()=>[v(),l(),x()]})}});const Yt=Y(Xt),[qt,ue]=Q("swipe-cell"),Ut={name:ne(""),disabled:Boolean,leftWidth:ie,rightWidth:ie,beforeClose:Function,stopPropagation:Boolean};var Gt=J({name:qt,props:Ut,emits:["open","close","click"],setup(e,{emit:t,slots:a}){let i,c,n,v;const g=C(),d=C(),m=C(),l=xe({offset:0,dragging:!1}),x=Se(),u=p=>p.value?Xe(p).width:0,s=B(()=>$e(e.leftWidth)?+e.leftWidth:u(d)),b=B(()=>$e(e.rightWidth)?+e.rightWidth:u(m)),w=p=>{l.offset=p==="left"?s.value:-b.value,i||(i=!0,t("open",{name:e.name,position:p}))},I=p=>{l.offset=0,i&&(i=!1,t("close",{name:e.name,position:p}))},R=p=>{const _=Math.abs(l.offset),M=.15,F=i?1-M:M,W=p==="left"?s.value:b.value;W&&_>W*F?w(p):I(p)},V=p=>{e.disabled||(n=l.offset,x.start(p))},k=p=>{if(e.disabled)return;const{deltaX:_}=x;x.move(p),x.isHorizontal()&&(c=!0,l.dragging=!0,(!i||_.value*n<0)&&Fe(p,e.stopPropagation),l.offset=ae(_.value+n,-b.value,s.value))},r=()=>{l.dragging&&(l.dragging=!1,R(l.offset>0?"left":"right"),setTimeout(()=>{c=!1},0))},o=(p="outside",_)=>{v||(t("click",p),i&&!c&&(v=!0,yt(e.beforeClose,{args:[{event:_,name:e.name,position:p}],done:()=>{v=!1,I(p)},canceled:()=>v=!1,error:()=>v=!1})))},T=p=>_=>{(c||i)&&_.stopPropagation(),!c&&o(p,_)},S=(p,_)=>{const M=a[p];if(M)return y("div",{ref:_,class:ue(p),onClick:T(p)},[M()])};return Ce({open:w,close:I}),pt(g,p=>o("outside",p),{eventName:"touchstart"}),ke("touchmove",k,{target:g}),()=>{var p;const _={transform:`translate3d(${l.offset}px, 0, 0)`,transitionDuration:l.dragging?"0s":".6s"};return y("div",{ref:g,class:ue(),onClick:T("cell"),onTouchstartPassive:V,onTouchend:r,onTouchcancel:r},[y("div",{class:ue("wrapper"),style:_},[S("left",d),(p=a.default)==null?void 0:p.call(a),S("right",m)])])}}});const Jt=Y(Gt),me=(e,t)=>t.some(a=>e instanceof a);let ze,Ke;function Qt(){return ze||(ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zt(){return Ke||(Ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pe=new WeakMap,de=new WeakMap,re=new WeakMap;function en(e){const t=new Promise((a,i)=>{const c=()=>{e.removeEventListener("success",n),e.removeEventListener("error",v)},n=()=>{a(X(e.result)),c()},v=()=>{i(e.error),c()};e.addEventListener("success",n),e.addEventListener("error",v)});return re.set(t,e),t}function tn(e){if(pe.has(e))return;const t=new Promise((a,i)=>{const c=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",v),e.removeEventListener("abort",v)},n=()=>{a(),c()},v=()=>{i(e.error||new DOMException("AbortError","AbortError")),c()};e.addEventListener("complete",n),e.addEventListener("error",v),e.addEventListener("abort",v)});pe.set(e,t)}let ye={get(e,t,a){if(e instanceof IDBTransaction){if(t==="done")return pe.get(e);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return X(e[t])},set(e,t,a){return e[t]=a,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ge(e){ye=e(ye)}function nn(e){return Zt().includes(e)?function(...t){return e.apply(be(this),t),X(this.request)}:function(...t){return X(e.apply(be(this),t))}}function an(e){return typeof e=="function"?nn(e):(e instanceof IDBTransaction&&tn(e),me(e,Qt())?new Proxy(e,ye):e)}function X(e){if(e instanceof IDBRequest)return en(e);if(de.has(e))return de.get(e);const t=an(e);return t!==e&&(de.set(e,t),re.set(t,e)),t}const be=e=>re.get(e);function on(e,t,{blocked:a,upgrade:i,blocking:c,terminated:n}={}){const v=indexedDB.open(e,t),g=X(v);return i&&v.addEventListener("upgradeneeded",d=>{i(X(v.result),d.oldVersion,d.newVersion,X(v.transaction),d)}),a&&v.addEventListener("blocked",d=>a(d.oldVersion,d.newVersion,d)),g.then(d=>{n&&d.addEventListener("close",()=>n()),c&&d.addEventListener("versionchange",m=>c(m.oldVersion,m.newVersion,m))}).catch(()=>{}),g}const sn=["get","getKey","getAll","getAllKeys","count"],rn=["put","add","delete","clear"],fe=new Map;function Le(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(fe.get(t))return fe.get(t);const a=t.replace(/FromIndex$/,""),i=t!==a,c=rn.includes(a);if(!(a in(i?IDBIndex:IDBObjectStore).prototype)||!(c||sn.includes(a)))return;const n=async function(v,...g){const d=this.transaction(v,c?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(g.shift())),(await Promise.all([m[a](...g),c&&d.done]))[0]};return fe.set(t,n),n}Ge(e=>({...e,get:(t,a,i)=>Le(t,a)||e.get(t,a,i),has:(t,a)=>!!Le(t,a)||e.has(t,a)}));const ln=["continue","continuePrimaryKey","advance"],We={},we=new WeakMap,Je=new WeakMap,cn={get(e,t){if(!ln.includes(t))return e[t];let a=We[t];return a||(a=We[t]=function(...i){we.set(this,Je.get(this)[t](...i))}),a}};async function*un(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const a=new Proxy(t,cn);for(Je.set(a,t),re.set(a,be(t));t;)yield a,t=await(we.get(a)||t.continue()),we.delete(a)}function je(e,t){return t===Symbol.asyncIterator&&me(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&me(e,[IDBIndex,IDBObjectStore])}Ge(e=>({...e,get(t,a,i){return je(t,a)?un:e.get(t,a,i)},has(t,a){return je(t,a)||e.has(t,a)}}));const dn=on("stock-db",1,{upgrade(e){e.objectStoreNames.contains("stocks")||e.createObjectStore("stocks",{keyPath:"id"})}});async function fn(){const e=await dn;if(await e.count("stocks")>0)return await e.getAll("stocks");{const c=await(await fetch("/iKDx/"+"stocks/stocks.json")).json(),n=e.transaction("stocks","readwrite"),v=n.objectStore("stocks");for(const g of c)await v.put(g);return await n.done,c}}const vn={style:{display:"flex","flex-direction":"column",height:"100%","min-height":"60vh"}},hn={style:{flex:"1 1 auto"}},gn={style:{display:"flex",gap:"8px","flex-wrap":"wrap","justify-content":"center","margin-bottom":"24px"}},mn=["onClick"],pn={key:0,style:{"margin-top":"12px"}},yn={key:0},bn={style:{"font-size":"17px","font-weight":"bold",color:"#222","margin-right":"16px","min-width":"60px"}},wn={style:{"font-size":"16px",color:"#333",flex:"1"}},xn={key:1,style:{color:"#999","text-align":"center","margin-top":"16px"}},kn={__name:"StockSearch",setup(e){const t=Ye("stock-search"),a=C(!1);Z(()=>{t.on(s=>{a.value=s})}),bt(()=>{t.reset()});const i=C(),c=C(""),n=C([]),v=["台積電","鴻海","聯發科","長榮","中鋼"],g={background:"#fff",color:"#878787",borderRadius:"16px",padding:"4px 16px",fontSize:"15px",cursor:"pointer",userSelect:"none",fontWeight:"500",transition:"background 0.2s, color 0.2s"},d={background:"#ffe066",color:"#222",fontWeight:"bold",boxShadow:"0 0 0 2px #ffe06688"};function m(s){return c.value===s?{...g,...d}:g}function l(){G(()=>{const s=i.value?.$el?.querySelector("input");s&&s.focus()})}N(()=>a.value,s=>{s&&setTimeout(()=>{l()},300)}),N(()=>c.value,async s=>{if(!s||s.length<1){n.value=[];return}const b=await fn();n.value=b.filter(w=>w.name.includes(s)||w.id.includes(s))});function x(s){}function u(s){c.value=s}return(s,b)=>(K(),wt(L(Yt),{show:a.value,"onUpdate:show":b[1]||(b[1]=w=>L(t).emit(!1)),"cancel-text":"離開",options:[],style:{"--van-share-sheet-header-padding":"24px 24px 0 24px"}},{title:z(()=>b[2]||(b[2]=[f("div",{style:{"font-size":"18px","font-weight":"bold","letter-spacing":"1px","text-align":"center","margin-top":"0","margin-bottom":"0",color:"#222","line-height":"1.2"}}," 股票搜尋 ",-1)])),description:z(()=>[f("div",vn,[f("div",hn,[f("div",null,[y(L(Bt),{ref_key:"searchInputRef",ref:i,modelValue:c.value,"onUpdate:modelValue":b[0]||(b[0]=w=>c.value=w),placeholder:"請輸入股票名稱或代碼","action-text":"",style:{"--van-search-input-height":"48px","font-size":"18px"},onSearch:x},null,8,["modelValue"])]),f("div",null,[b[3]||(b[3]=f("div",{style:{display:"flex","align-items":"center",margin:"0 0 10px 0"}},[f("div",{style:{"margin-left":"16px","font-size":"16px",color:"#222","font-weight":"bold","letter-spacing":"1px"}}," | 熱門股票 ")],-1)),f("div",gn,[(K(),j(he,null,ge(v,w=>f("span",{key:w,onClick:I=>u(w),style:kt(m(w))},E(w),13,mn)),64))]),c.value&&c.value.length>=1?(K(),j("div",pn,[n.value.length?(K(),j("div",yn,[(K(!0),j(he,null,ge(n.value,w=>(K(),j("div",{key:w.id,style:{background:"#fff","border-radius":"12px","box-shadow":"0 2px 8px #0001",padding:"16px 20px","margin-bottom":"12px",display:"flex","align-items":"center","min-height":"56px"}},[f("div",bn,E(w.id),1),f("div",wn,E(w.name),1)]))),128))])):(K(),j("div",xn," 查無資料 "))])):xt("",!0)])])])]),_:1},8,["show"]))}},Sn={class:"stock-page"},Cn={class:"action-buttons"},Pn={class:"stock-content"},Dn={class:"stock-name"},In={class:"name"},Tn={class:"code"},Bn={class:"stock-indicator"},_n={class:"kd-indicator"},$n={class:"kd-value"},En={class:"rsi-indicator"},Mn={class:"rsi-value"},An={__name:"Stock",setup(e){const t=Ye("stock-search"),a=C(null);C(null),C(0);const i=C(-1);C(0),C(0);const c=C(!1),n=C(null),v=C([{id:"2330",name:"台積電",code:"2330",price:1140,change:-1.72,changePercent:-.15,weeklyKD:22.6,rsi:45.2},{id:"2317",name:"鴻海",code:"2317",price:135,change:1.45,changePercent:1.08,weeklyKD:68.5,rsi:62.1},{id:"2454",name:"聯發科",code:"2454",price:1350,change:-18.5,changePercent:-1.35,weeklyKD:20.8,rsi:38.9},{id:"2881",name:"富邦金",code:"2881",price:31.55,change:.35,changePercent:1.12,weeklyKD:72.3,rsi:58.7},{id:"0056",name:"元大高股息",code:"0056",price:34.81,change:.02,changePercent:.06,weeklyKD:55.4,rsi:52.1},{id:"1215",name:"卜蜂",code:"1215",price:115.5,change:-.5,changePercent:-.43,weeklyKD:56.87,rsi:71.63},{id:"2885",name:"元大金",code:"2885",price:34.81,change:.06,changePercent:.17,weeklyKD:73.16,rsi:80.46},{id:"2646",name:"星宇航空",code:"2646",price:47.7,change:.5,changePercent:1.06,weeklyKD:54.87,rsi:58.55},{id:"2646",name:"華泰",code:"2646",price:47.7,change:.5,changePercent:1.06,weeklyKD:54.87,rsi:58.55}]);function g(){t.emit(!0)}function d(k,r){console.log(`Stock ${r} indicator changed to ${k}`)}function m(k){return k>0?"price-up":k<0?"price-down":"price-flat"}function l(k){return k>80?"kd-overbought":k<20?"kd-oversold":"kd-normal"}function x(k){return k>80?"超買":k<20?"超賣":"正常"}function u(k){return k>70?"rsi-overbought":k<30?"rsi-oversold":"rsi-normal"}function s(k){return k>70?"超買":k<30?"超賣":"正常"}function b(){}function w(k){ce(`買賣 ${k.name}`)}function I(k){ce(`${k.name} 策略設定`)}function R(){n.value&&(clearTimeout(n.value),n.value=null),c.value&&V()}function V(){c.value=!1,i.value=-1,ce("拖拽結束")}return Z(()=>{}),(k,r)=>(K(),j("div",Sn,[f("div",{class:"stock-list",ref_key:"stockListRef",ref:a},[(K(!0),j(he,null,ge(v.value,(o,T)=>(K(),j("div",{key:o.id,class:U(["stock-row",{"is-dragging":i.value===T}]),onTouchend:R,onContextmenu:r[0]||(r[0]=Ct(()=>{},["prevent"]))},[y(L(Jt),{"left-width":120,onClickLeft:b},{left:z(()=>[f("div",Cn,[y(L(Me),{type:"primary",size:"small",class:"action-btn buy-btn",onClick:S=>w(o)},{default:z(()=>r[1]||(r[1]=[Ee(" 交 易 ",-1)])),_:2,__:[1]},1032,["onClick"]),y(L(Me),{type:"warning",size:"small",class:"action-btn strategy-btn",onClick:S=>I(o)},{default:z(()=>r[2]||(r[2]=[Ee(" 策 略 ",-1)])),_:2,__:[2]},1032,["onClick"])])]),default:z(()=>[f("div",Pn,[f("div",Dn,[f("div",In,E(o.name),1),f("div",Tn,E(o.code),1),f("div",{class:U(["price",m(o.change)])},E(o.price),3),f("div",{class:U(["change",m(o.change)])},E(o.change>0?"+":"")+E(o.change)+" ("+E(o.changePercent)+"%) ",3)]),f("div",Bn,[y(L(Et),{"show-indicators":!1,loop:!1,autoplay:0,onChange:S=>d(S,T)},{default:z(()=>[y(L(Oe),{class:"indicator-content"},{default:z(()=>[f("div",_n,[f("div",$n,E(o.weeklyKD),1),f("div",{class:U(["kd-trend",l(o.weeklyKD)])},E(x(o.weeklyKD)),3)])]),_:2},1024),y(L(Oe),{class:"indicator-content"},{default:z(()=>[f("div",En,[f("div",Mn,E(o.rsi),1),f("div",{class:U(["rsi-trend",u(o.rsi)])},E(s(o.rsi)),3)])]),_:2},1024)]),_:2},1032,["onChange"])])])]),_:2},1024)],34))),128)),r[3]||(r[3]=f("br",null,null,-1)),r[4]||(r[4]=f("br",null,null,-1)),r[5]||(r[5]=f("br",null,null,-1)),r[6]||(r[6]=f("br",null,null,-1)),r[7]||(r[7]=f("br",null,null,-1)),r[8]||(r[8]=f("br",null,null,-1)),r[9]||(r[9]=f("br",null,null,-1)),r[10]||(r[10]=f("br",null,null,-1)),r[11]||(r[11]=f("br",null,null,-1)),r[12]||(r[12]=f("br",null,null,-1)),r[13]||(r[13]=f("br",null,null,-1)),r[14]||(r[14]=f("br",null,null,-1)),r[15]||(r[15]=f("br",null,null,-1)),r[16]||(r[16]=f("br",null,null,-1)),r[17]||(r[17]=f("br",null,null,-1))],512),y(L(Lt),{axis:"xy",magnetic:"x",gap:{x:20,y:80},icon:"plus",style:{"--van-floating-bubble-size":"56px","--van-floating-bubble-background":"#ffe066","--van-floating-bubble-icon-size":"22px","--van-floating-bubble-color":"#322b0d"},onClick:g},{default:z(()=>r[18]||(r[18]=[f("div",{class:"bubble-content"},[f("span",{class:"bubble-label",style:{color:"#322b0d"}},"新增")],-1)])),_:1,__:[18]}),y(kn)]))}},zn=St(An,[["__scopeId","data-v-700e166f"]]);export{zn as default};
